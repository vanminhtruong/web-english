{"version":3,"file":"MultipleChoiceExercise-DsbMJWt5.js","sources":["../../src/views/grammar/components/MultipleChoiceExercise.vue"],"sourcesContent":["<template>\r\n  <div class=\"bg-white dark:bg-[#0a0a0a] rounded-xl shadow-lg border border-gray-200 dark:border-white/10 p-6\">\r\n    <!-- Question -->\r\n    <div class=\"mb-6\">\r\n      <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">\r\n        {{ question.question }}\r\n      </h3>\r\n      \r\n      <!-- Audio for question if available -->\r\n      <div v-if=\"question.audio\" class=\"mb-4\">\r\n        <button\r\n          @click=\"playQuestionAudio\"\r\n          class=\"flex items-center space-x-2 px-4 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors\"\r\n        >\r\n          <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15.536 8.464a5 5 0 010 7.072m-2.036-5.036a2.5 2.5 0 010 3.536M6 10h4l4.5-4.5v9L10 10H6V8z\" />\r\n          </svg>\r\n          <span>{{ tf('grammar.practice.playAudio', 'Play audio') }}</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Options -->\r\n    <div class=\"space-y-3 mb-8\">\r\n      <div\r\n        v-for=\"(option, index) in question.options\"\r\n        :key=\"index\"\r\n        @click=\"selectOption(index)\"\r\n        :class=\"[\r\n          'p-4 rounded-lg border-2 cursor-pointer transition-all duration-200',\r\n          selectedOption === index\r\n            ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/30'\r\n            : 'border-gray-200 dark:border-white/10 hover:border-gray-300 dark:hover:border-white/20 bg-gray-50 dark:bg-[#0a0a0a]/50',\r\n          showAnswer && index === correctAnswerIndex\r\n            ? 'border-green-500 bg-green-50 dark:bg-green-900/30'\r\n            : '',\r\n          showAnswer && selectedOption === index && selectedOption !== correctAnswerIndex\r\n            ? 'border-red-500 bg-red-50 dark:bg-red-900/30'\r\n            : ''\r\n        ]\"\r\n      >\r\n        <div class=\"flex items-center space-x-3\">\r\n          <div\r\n            :class=\"[\r\n              'w-6 h-6 rounded-full border-2 flex items-center justify-center text-sm font-medium',\r\n              selectedOption === index\r\n                ? 'border-blue-500 bg-blue-500 text-white'\r\n                : 'border-gray-300 dark:border-white/10 text-gray-500 dark:text-white/60',\r\n              showAnswer && index === correctAnswerIndex\r\n                ? 'border-green-500 bg-green-500 text-white'\r\n                : '',\r\n              showAnswer && selectedOption === index && selectedOption !== correctAnswerIndex\r\n                ? 'border-red-500 bg-red-500 text-white'\r\n                : ''\r\n            ]\"\r\n          >\r\n            {{ String.fromCharCode(65 + index) }}\r\n          </div>\r\n          <span class=\"text-gray-900 dark:text-white\">{{ option }}</span>\r\n          \r\n          <!-- Answer icons -->\r\n          <div class=\"ml-auto\">\r\n            <svg\r\n              v-if=\"showAnswer && index === correctAnswerIndex\"\r\n              class=\"w-5 h-5 text-green-600 dark:text-green-400\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\r\n            </svg>\r\n            <svg\r\n              v-else-if=\"showAnswer && selectedOption === index && selectedOption !== correctAnswerIndex\"\r\n              class=\"w-5 h-5 text-red-600 dark:text-red-400\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Explanation -->\r\n    <div v-if=\"showAnswer && question.explanation\" class=\"mb-6 p-4 bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 rounded-lg\">\r\n      <h4 class=\"font-medium text-yellow-800 dark:text-yellow-200 mb-2\">\r\n        {{ tf('grammar.practice.explanation', 'Explanation') }}\r\n      </h4>\r\n      <p class=\"text-yellow-700 dark:text-yellow-300 text-sm\">\r\n        {{ question.explanation }}\r\n      </p>\r\n    </div>\r\n\r\n    <!-- Action Buttons -->\r\n    <div class=\"flex justify-between items-center\">\r\n      <div class=\"flex items-center space-x-4\">\r\n        <!-- Hint button -->\r\n        <button\r\n          v-if=\"!showAnswer && question.hint\"\r\n          @click=\"showHint = !showHint\"\r\n          class=\"flex items-center space-x-2 px-4 py-2 text-sm text-gray-600 dark:text-white/60 hover:text-gray-800 dark:hover:text-white/80 transition-colors\"\r\n        >\r\n          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\r\n          </svg>\r\n          <span>{{ tf('grammar.practice.hint', 'Hint') }}</span>\r\n        </button>\r\n        \r\n        <!-- Hint content -->\r\n        <div v-if=\"showHint && question.hint\" class=\"text-sm text-blue-600 dark:text-blue-400\">\r\n          ðŸ’¡ {{ question.hint }}\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"flex space-x-4\">\r\n        <!-- Submit/Check Answer -->\r\n        <button\r\n          v-if=\"!showAnswer\"\r\n          @click=\"checkAnswer\"\r\n          :disabled=\"selectedOption === null\"\r\n          class=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors\"\r\n        >\r\n          {{ tf('grammar.practice.checkAnswer', 'Check answer') }}\r\n        </button>\r\n        \r\n        <!-- Next Question -->\r\n        <button\r\n          v-else\r\n          @click=\"nextQuestion\"\r\n          class=\"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\r\n        >\r\n          {{ questionIndex === totalQuestions - 1 ? tf('grammar.practice.finish', 'Finish') : tf('grammar.practice.next', 'Next') }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed } from 'vue'\r\nimport { useI18n } from 'vue-i18n'\r\nimport { useVoiceStore } from '../../../stores/voiceStore'\r\n\r\nconst { t } = useI18n()\r\n// Helper: i18n with safe fallback and optional params\r\nconst tf = (key: string, fallback: string, params?: Record<string, any>) => {\r\n  const translated = params ? (t as any)(key, params) : (t as any)(key)\r\n  const text = typeof translated === 'string' ? translated : String(translated)\r\n  if (text === key) return fallback\r\n  return text\r\n}\r\nconst { playAudio } = useVoiceStore()\r\n\r\n// Props\r\ninterface Props {\r\n  question: {\r\n    id: number\r\n    question: string\r\n    options: string[]\r\n    correctAnswer: string\r\n    explanation?: string\r\n    hint?: string\r\n    audio?: string\r\n  }\r\n  questionIndex: number\r\n  totalQuestions: number\r\n}\r\n\r\nconst props = defineProps<Props>()\r\n\r\n// Emits\r\nconst emit = defineEmits<{\r\n  answer: [answer: { isCorrect: boolean; userAnswer: string; correctAnswer: string }]\r\n  next: []\r\n  complete: []\r\n}>()\r\n\r\n// State\r\nconst selectedOption = ref<number | null>(null)\r\nconst showAnswer = ref(false)\r\nconst showHint = ref(false)\r\n\r\n// Computed\r\nconst correctAnswerIndex = computed(() => {\r\n  return props.question.options.findIndex(option => option === props.question.correctAnswer)\r\n})\r\n\r\n// Methods\r\nconst selectOption = (index: number) => {\r\n  if (!showAnswer.value) {\r\n    selectedOption.value = index\r\n  }\r\n}\r\n\r\nconst checkAnswer = () => {\r\n  if (selectedOption.value === null) return\r\n  \r\n  showAnswer.value = true\r\n  const isCorrect = selectedOption.value === correctAnswerIndex.value\r\n  const userAnswer = props.question.options[selectedOption.value]\r\n  \r\n  emit('answer', {\r\n    isCorrect,\r\n    userAnswer,\r\n    correctAnswer: props.question.correctAnswer\r\n  })\r\n}\r\n\r\nconst nextQuestion = () => {\r\n  if (props.questionIndex === props.totalQuestions - 1) {\r\n    emit('complete')\r\n  } else {\r\n    // Reset for next question\r\n    selectedOption.value = null\r\n    showAnswer.value = false\r\n    showHint.value = false\r\n    emit('next')\r\n  }\r\n}\r\n\r\nconst playQuestionAudio = async () => {\r\n  if (props.question.audio) {\r\n    try {\r\n      await playAudio(props.question.question)\r\n    } catch (error) {\r\n      console.error('Error playing audio:', error)\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"names":["_openBlock","_createElementBlock","_createElementVNode","_toDisplayString","question","_Fragment","_normalizeClass","questionIndex","totalQuestions"],"mappings":"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"}