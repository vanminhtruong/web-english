import { d as defineComponent, H as useI18n, A as ref, c as createElementBlock, v as openBlock, y as createVNode, w as withCtx, e as createCommentVNode, M as Transition, f as createBaseVNode, i as withModifiers, t as toDisplayString, u as unref, F as Fragment, j as renderList, n as normalizeClass } from "./vendor-vEVloz7Q.js";
const _hoisted_1 = {
  key: 0,
  class: "fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[60] backdrop-blur-sm"
};
const _hoisted_2 = { class: "bg-white dark:bg-[#0a0a0a] shadow-2xl rounded-xl border border-gray-200 dark:border-dark-bg-mute flex flex-col max-h-[82vh]" };
const _hoisted_3 = { class: "px-6 py-4 border-b border-gray-200 dark:border-dark-bg-mute flex-shrink-0 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-[#0a0a0a] dark:to-[#0a0a0a] rounded-t-xl" };
const _hoisted_4 = { class: "flex items-center justify-between" };
const _hoisted_5 = { class: "text-lg md:text-xl font-semibold text-gray-900 dark:text-white flex items-center gap-2" };
const _hoisted_6 = ["aria-label"];
const _hoisted_7 = { class: "px-4 md:px-6 py-4 flex-1 overflow-y-auto min-h-0" };
const _hoisted_8 = {
  key: 0,
  class: "text-center py-10"
};
const _hoisted_9 = { class: "text-gray-500 dark:text-white/70" };
const _hoisted_10 = {
  key: 1,
  class: "space-y-4"
};
const _hoisted_11 = { class: "grid grid-cols-2 md:grid-cols-4 gap-3 text-sm" };
const _hoisted_12 = { class: "bg-blue-50 dark:bg-blue-900/30 rounded-lg p-3" };
const _hoisted_13 = { class: "text-gray-500 dark:text-white/70" };
const _hoisted_14 = { class: "text-gray-900 dark:text-white font-semibold" };
const _hoisted_15 = { class: "bg-green-50 dark:bg-green-900/30 rounded-lg p-3" };
const _hoisted_16 = { class: "text-gray-500 dark:text-white/70" };
const _hoisted_17 = { class: "text-green-700 dark:text-green-400 font-semibold" };
const _hoisted_18 = { class: "bg-red-50 dark:bg-red-900/30 rounded-lg p-3" };
const _hoisted_19 = { class: "text-gray-500 dark:text-white/70" };
const _hoisted_20 = { class: "text-red-700 dark:text-red-400 font-semibold" };
const _hoisted_21 = { class: "bg-indigo-50 dark:bg-indigo-900/30 rounded-lg p-3" };
const _hoisted_22 = { class: "text-gray-500 dark:text-white/70" };
const _hoisted_23 = { class: "text-indigo-700 dark:text-indigo-300 font-semibold" };
const _hoisted_24 = { class: "divide-y divide-gray-200 dark:divide-dark-bg-mute rounded-lg overflow-hidden border border-gray-200 dark:border-dark-bg-mute" };
const _hoisted_25 = { class: "flex items-start justify-between gap-3" };
const _hoisted_26 = { class: "min-w-0" };
const _hoisted_27 = { class: "flex items-center gap-2" };
const _hoisted_28 = { class: "text-sm font-semibold text-gray-900 dark:text-white truncate" };
const _hoisted_29 = { class: "text-xs text-gray-500 dark:text-white/70 truncate" };
const _hoisted_30 = { class: "mt-1 text-sm" };
const _hoisted_31 = { class: "text-gray-500 dark:text-white/70" };
const _hoisted_32 = { class: "text-sm text-gray-500 dark:text-white/70" };
const _hoisted_33 = { class: "ml-1 text-gray-900 dark:text-white" };
const _hoisted_34 = {
  key: 0,
  class: "mt-3 space-y-2"
};
const _hoisted_35 = ["onClick"];
const _hoisted_36 = ["src", "alt"];
const _hoisted_37 = ["onClick"];
const _hoisted_38 = { class: "uppercase tracking-wider" };
const _hoisted_39 = {
  key: 1,
  class: "text-xs text-gray-500 dark:text-white/70 mt-1"
};
const _hoisted_40 = { class: "flex items-center gap-2" };
const _hoisted_41 = {
  key: 0,
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  class: "w-4 h-4",
  fill: "currentColor"
};
const _hoisted_42 = {
  key: 1,
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  class: "w-4 h-4",
  fill: "currentColor"
};
const _hoisted_43 = { class: "text-xs text-gray-500 dark:text-white/70" };
const _hoisted_44 = {
  key: 0,
  class: "fixed inset-0 z-[70] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4"
};
const _hoisted_45 = { class: "bg-white dark:bg-[#0a0a0a] shadow-2xl rounded-xl border border-gray-200 dark:border-dark-bg-mute flex flex-col max-h-[86vh]" };
const _hoisted_46 = { class: "px-6 py-4 border-b border-gray-200 dark:border-dark-bg-mute flex-shrink-0 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-[#0a0a0a] dark:to-[#0a0a0a] rounded-t-xl" };
const _hoisted_47 = { class: "flex items-center justify-between" };
const _hoisted_48 = { class: "text-lg md:text-xl font-semibold text-gray-900 dark:text-white flex items-center gap-2" };
const _hoisted_49 = ["aria-label"];
const _hoisted_50 = { class: "p-4 md:p-6 overflow-y-auto min-h-0" };
const _hoisted_51 = { class: "flex flex-col md:flex-row gap-6 items-start" };
const _hoisted_52 = {
  key: 0,
  class: "flex-shrink-0"
};
const _hoisted_53 = ["src", "alt"];
const _hoisted_54 = { class: "flex-1" };
const _hoisted_55 = { class: "flex flex-wrap gap-2 items-center" };
const _hoisted_56 = { class: "uppercase tracking-wider" };
const _sfc_main = /* @__PURE__ */ defineComponent({
  __name: "SessionDetailModal",
  props: {
    show: { type: Boolean },
    details: {}
  },
  emits: ["close"],
  setup(__props, { emit: __emit }) {
    const emit = __emit;
    const { t } = useI18n();
    const zoomOpen = ref(false);
    const zoomImage = ref(void 0);
    const zoomSlots = ref([]);
    const openZoom = (entry) => {
      const img = entry?.extra?.pictionary?.image;
      const s = (entry?.extra?.pictionary?.slots || []).map((x) => ({
        char: x.char,
        fixed: !!x.fixed,
        separator: !!x.separator
      }));
      zoomImage.value = img;
      zoomSlots.value = s;
      zoomOpen.value = true;
    };
    const closeZoom = () => {
      zoomOpen.value = false;
    };
    return (_ctx, _cache) => {
      return openBlock(), createElementBlock("div", null, [
        createVNode(Transition, {
          "enter-active-class": "transition-all duration-500 ease-out",
          "enter-from-class": "opacity-0",
          "enter-to-class": "opacity-100",
          "leave-active-class": "transition-all duration-300 ease-in",
          "leave-from-class": "opacity-100",
          "leave-to-class": "opacity-0"
        }, {
          default: withCtx(() => [
            _ctx.show ? (openBlock(), createElementBlock("div", _hoisted_1, [
              createVNode(Transition, {
                "enter-active-class": "transition-all duration-500 ease-out",
                "enter-from-class": "opacity-0 scale-95 translate-y-4",
                "enter-to-class": "opacity-100 scale-100 translate-y-0",
                "leave-active-class": "transition-all duration-300 ease-in",
                "leave-from-class": "opacity-100 scale-100 translate-y-0",
                "leave-to-class": "opacity-0 scale-95 translate-y-4"
              }, {
                default: withCtx(() => [
                  createBaseVNode("div", {
                    class: "w-full max-w-5xl max-h-[82vh]",
                    onClick: _cache[1] || (_cache[1] = withModifiers(() => {
                    }, ["stop"]))
                  }, [
                    createBaseVNode("div", _hoisted_2, [
                      createBaseVNode("div", _hoisted_3, [
                        createBaseVNode("div", _hoisted_4, [
                          createBaseVNode("h3", _hoisted_5, [
                            _cache[3] || (_cache[3] = createBaseVNode("span", { class: "w-2 h-2 bg-indigo-500 rounded-full animate-pulse" }, null, -1)),
                            createBaseVNode("span", null, toDisplayString(unref(t)("flashcard.history.details.title", "Session Details")), 1)
                          ]),
                          createBaseVNode("button", {
                            onClick: _cache[0] || (_cache[0] = ($event) => emit("close")),
                            class: "text-gray-400 hover:text-gray-600 dark:hover:text-white/80 transition-all duration-300 hover:scale-110 hover:rotate-90 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-dark-bg-soft",
                            "aria-label": unref(t)("common.close", "Close")
                          }, _cache[4] || (_cache[4] = [
                            createBaseVNode("svg", {
                              class: "w-6 h-6",
                              fill: "none",
                              stroke: "currentColor",
                              viewBox: "0 0 24 24"
                            }, [
                              createBaseVNode("path", {
                                "stroke-linecap": "round",
                                "stroke-linejoin": "round",
                                "stroke-width": "2",
                                d: "M6 18L18 6M6 6l12 12"
                              })
                            ], -1)
                          ]), 8, _hoisted_6)
                        ])
                      ]),
                      createBaseVNode("div", _hoisted_7, [
                        !_ctx.details ? (openBlock(), createElementBlock("div", _hoisted_8, [
                          createBaseVNode("div", _hoisted_9, toDisplayString(unref(t)("flashcard.history.details.noData", "No details available for this session")), 1)
                        ])) : (openBlock(), createElementBlock("div", _hoisted_10, [
                          createBaseVNode("div", _hoisted_11, [
                            createBaseVNode("div", _hoisted_12, [
                              createBaseVNode("div", _hoisted_13, toDisplayString(unref(t)("flashcard.history.totalCards", "Total Cards")), 1),
                              createBaseVNode("div", _hoisted_14, toDisplayString(_ctx.details.total), 1)
                            ]),
                            createBaseVNode("div", _hoisted_15, [
                              createBaseVNode("div", _hoisted_16, toDisplayString(unref(t)("flashcard.history.correct", "Correct")), 1),
                              createBaseVNode("div", _hoisted_17, toDisplayString(_ctx.details.correct), 1)
                            ]),
                            createBaseVNode("div", _hoisted_18, [
                              createBaseVNode("div", _hoisted_19, toDisplayString(unref(t)("flashcard.history.incorrect", "Incorrect")), 1),
                              createBaseVNode("div", _hoisted_20, toDisplayString(_ctx.details.incorrect), 1)
                            ]),
                            createBaseVNode("div", _hoisted_21, [
                              createBaseVNode("div", _hoisted_22, toDisplayString(unref(t)("flashcard.modes.mode", "Mode")), 1),
                              createBaseVNode("div", _hoisted_23, toDisplayString(_ctx.details.mode), 1)
                            ])
                          ]),
                          createBaseVNode("div", _hoisted_24, [
                            (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.details.entries, (e, idx) => {
                              return openBlock(), createElementBlock("div", {
                                key: idx,
                                class: "p-3 md:p-4 bg-white dark:bg-gray-custom"
                              }, [
                                createBaseVNode("div", _hoisted_25, [
                                  createBaseVNode("div", _hoisted_26, [
                                    createBaseVNode("div", _hoisted_27, [
                                      createBaseVNode("span", _hoisted_28, toDisplayString(e.word), 1),
                                      createBaseVNode("span", _hoisted_29, "— " + toDisplayString(e.meaningShort), 1)
                                    ]),
                                    createBaseVNode("div", _hoisted_30, [
                                      createBaseVNode("span", _hoisted_31, toDisplayString(unref(t)("flashcard.history.details.yourAnswer", "Your answer")) + ":", 1),
                                      createBaseVNode("span", {
                                        class: normalizeClass(["ml-1", e.isCorrect ? "text-green-700 dark:text-green-400" : "text-red-700 dark:text-red-400"])
                                      }, toDisplayString(e.userAnswer || unref(t)("flashcard.history.details.noAnswer", "No answer")), 3)
                                    ]),
                                    createBaseVNode("div", _hoisted_32, [
                                      createBaseVNode("span", null, toDisplayString(unref(t)("flashcard.history.details.correctAnswer", "Correct answer")) + ":", 1),
                                      createBaseVNode("span", _hoisted_33, toDisplayString(e.correctAnswer), 1)
                                    ]),
                                    e.mode === "pictionary" ? (openBlock(), createElementBlock("div", _hoisted_34, [
                                      e.extra?.pictionary?.image ? (openBlock(), createElementBlock("div", {
                                        key: 0,
                                        class: "flex items-center gap-3 cursor-zoom-in select-none",
                                        onClick: ($event) => openZoom(e)
                                      }, [
                                        createBaseVNode("img", {
                                          src: e.extra.pictionary.image,
                                          alt: unref(t)("flashcard.pictionary.imageAlt", "Pictionary image"),
                                          class: "w-24 h-24 object-contain rounded-lg border border-gray-200 dark:border-dark-bg-mute bg-white dark:bg-dark-bg-soft"
                                        }, null, 8, _hoisted_36)
                                      ], 8, _hoisted_35)) : createCommentVNode("", true),
                                      e.extra?.pictionary?.slots && e.extra.pictionary.slots.length ? (openBlock(), createElementBlock("div", {
                                        key: 1,
                                        class: "flex flex-wrap gap-1.5 items-center cursor-zoom-in select-none",
                                        onClick: ($event) => openZoom(e)
                                      }, [
                                        (openBlock(true), createElementBlock(Fragment, null, renderList(e.extra.pictionary.slots, (slot, sIdx) => {
                                          return openBlock(), createElementBlock(Fragment, null, [
                                            slot.separator ? (openBlock(), createElementBlock("div", {
                                              key: `sep-${sIdx}`,
                                              class: "px-1 text-base text-gray-700 dark:text-white/80 select-none"
                                            }, toDisplayString(slot.char), 1)) : (openBlock(), createElementBlock("div", {
                                              key: `box-${sIdx}`,
                                              class: normalizeClass(["w-8 h-10 sm:w-9 sm:h-11 flex items-center justify-center rounded-md border text-lg font-semibold bg-white dark:bg-dark-bg-soft text-gray-900 dark:text-white border-gray-300 dark:border-dark-bg-mute", slot.fixed ? "opacity-90" : ""])
                                            }, [
                                              createBaseVNode("span", _hoisted_38, toDisplayString(slot.char || " "), 1)
                                            ], 2))
                                          ], 64);
                                        }), 256))
                                      ], 8, _hoisted_37)) : createCommentVNode("", true)
                                    ])) : createCommentVNode("", true),
                                    e.notes ? (openBlock(), createElementBlock("div", _hoisted_39, toDisplayString(e.notes), 1)) : createCommentVNode("", true)
                                  ]),
                                  createBaseVNode("div", _hoisted_40, [
                                    createBaseVNode("span", {
                                      class: normalizeClass(["inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs", e.isCorrect ? "bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200" : "bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"])
                                    }, [
                                      e.isCorrect ? (openBlock(), createElementBlock("svg", _hoisted_41, _cache[5] || (_cache[5] = [
                                        createBaseVNode("path", { d: "M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z" }, null, -1)
                                      ]))) : (openBlock(), createElementBlock("svg", _hoisted_42, _cache[6] || (_cache[6] = [
                                        createBaseVNode("path", { d: "m19 6.41-1.41-1.41L12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" }, null, -1)
                                      ]))),
                                      createBaseVNode("span", null, toDisplayString(e.isCorrect ? unref(t)("flashcard.history.correct", "Correct") : unref(t)("flashcard.history.incorrect", "Incorrect")), 1)
                                    ], 2),
                                    createBaseVNode("span", _hoisted_43, toDisplayString(new Date(e.timestamp).toLocaleString()), 1)
                                  ])
                                ])
                              ]);
                            }), 128))
                          ])
                        ]))
                      ])
                    ])
                  ])
                ]),
                _: 1
              }),
              createVNode(Transition, {
                "enter-active-class": "transition-all duration-500 ease-out",
                "enter-from-class": "opacity-0",
                "enter-to-class": "opacity-100",
                "leave-active-class": "transition-all duration-300 ease-in",
                "leave-from-class": "opacity-100",
                "leave-to-class": "opacity-0"
              }, {
                default: withCtx(() => [
                  zoomOpen.value ? (openBlock(), createElementBlock("div", _hoisted_44, [
                    createVNode(Transition, {
                      "enter-active-class": "transition-all duration-500 ease-out",
                      "enter-from-class": "opacity-0 scale-95 translate-y-4",
                      "enter-to-class": "opacity-100 scale-100 translate-y-0",
                      "leave-active-class": "transition-all duration-300 ease-in",
                      "leave-from-class": "opacity-100 scale-100 translate-y-0",
                      "leave-to-class": "opacity-0 scale-95 translate-y-4"
                    }, {
                      default: withCtx(() => [
                        createBaseVNode("div", {
                          class: "w-full max-w-4xl max-h-[86vh]",
                          onClick: _cache[2] || (_cache[2] = withModifiers(() => {
                          }, ["stop"]))
                        }, [
                          createBaseVNode("div", _hoisted_45, [
                            createBaseVNode("div", _hoisted_46, [
                              createBaseVNode("div", _hoisted_47, [
                                createBaseVNode("h3", _hoisted_48, [
                                  _cache[7] || (_cache[7] = createBaseVNode("span", { class: "w-2 h-2 bg-indigo-500 rounded-full animate-pulse" }, null, -1)),
                                  createBaseVNode("span", null, toDisplayString(unref(t)("flashcard.pictionary.preview", "Pictionary Preview")), 1)
                                ]),
                                createBaseVNode("button", {
                                  onClick: closeZoom,
                                  class: "text-gray-400 hover:text-gray-600 dark:hover:text-white/80 transition-all duration-300 hover:scale-110 hover:rotate-90 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-dark-bg-soft",
                                  "aria-label": unref(t)("common.close", "Close")
                                }, _cache[8] || (_cache[8] = [
                                  createBaseVNode("svg", {
                                    class: "w-6 h-6",
                                    fill: "none",
                                    stroke: "currentColor",
                                    viewBox: "0 0 24 24"
                                  }, [
                                    createBaseVNode("path", {
                                      "stroke-linecap": "round",
                                      "stroke-linejoin": "round",
                                      "stroke-width": "2",
                                      d: "M6 18L18 6M6 6l12 12"
                                    })
                                  ], -1)
                                ]), 8, _hoisted_49)
                              ])
                            ]),
                            createBaseVNode("div", _hoisted_50, [
                              createBaseVNode("div", _hoisted_51, [
                                zoomImage.value ? (openBlock(), createElementBlock("div", _hoisted_52, [
                                  createBaseVNode("img", {
                                    src: zoomImage.value,
                                    alt: unref(t)("flashcard.pictionary.imageAlt", "Pictionary image"),
                                    class: "w-[320px] h-[240px] md:w-[420px] md:h-[300px] object-contain rounded-lg border border-gray-200 dark:border-dark-bg-mute bg-white dark:bg-dark-bg-soft"
                                  }, null, 8, _hoisted_53)
                                ])) : createCommentVNode("", true),
                                createBaseVNode("div", _hoisted_54, [
                                  createBaseVNode("div", _hoisted_55, [
                                    (openBlock(true), createElementBlock(Fragment, null, renderList(zoomSlots.value, (slot, sIdx) => {
                                      return openBlock(), createElementBlock(Fragment, null, [
                                        slot.separator ? (openBlock(), createElementBlock("div", {
                                          key: `sep-${sIdx}`,
                                          class: "px-1 text-xl text-gray-700 dark:text-white/80 select-none"
                                        }, toDisplayString(slot.char), 1)) : (openBlock(), createElementBlock("div", {
                                          key: `box-${sIdx}`,
                                          class: normalizeClass(["w-12 h-14 sm:w-14 sm:h-16 flex items-center justify-center rounded-lg border text-2xl font-semibold bg-white dark:bg-dark-bg-soft text-gray-900 dark:text-white border-gray-300 dark:border-dark-bg-mute", slot.fixed ? "opacity-90" : ""])
                                        }, [
                                          createBaseVNode("span", _hoisted_56, toDisplayString(slot.char || " "), 1)
                                        ], 2))
                                      ], 64);
                                    }), 256))
                                  ])
                                ])
                              ])
                            ])
                          ])
                        ])
                      ]),
                      _: 1
                    })
                  ])) : createCommentVNode("", true)
                ]),
                _: 1
              })
            ])) : createCommentVNode("", true)
          ]),
          _: 1
        })
      ]);
    };
  }
});
export {
  _sfc_main as default
};
//# sourceMappingURL=SessionDetailModal-BwNiru15.js.map
