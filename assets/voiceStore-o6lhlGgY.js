import{u as e}from"./ui-vendor-D-J_fEQ5.js";import{A as l,D as o}from"./vue-vendor-Bt65BSdi.js";const n=()=>{if("speechSynthesis"in window){const e=speechSynthesis.getVoices();console.log("=== AVAILABLE VOICES DEBUG ===="),console.log(`Total voices found: ${e.length}`),e.forEach((e,l)=>{console.log(`${l+1}. Name: "${e.name}" | Lang: ${e.lang} | Local: ${e.localService} | Default: ${e.default}`)});const l=e.filter(e=>e.lang.startsWith("ko"));return console.log("\n=== KOREAN VOICES DETAIL ===="),console.log(`Korean voices found: ${l.length}`),l.forEach((e,l)=>{const o=e.name.toLowerCase(),n=o.includes("female")||o.includes("woman")?"ðŸ‘© Female":o.includes("male")||o.includes("man")?"ðŸ‘¨ Male":"â“ Unknown";console.log(`ðŸ‡°ðŸ‡· ${l+1}. "${e.name}" | ${n} | Lang: ${e.lang}`)}),console.log("==============================="),e}return[]},a={"female-sweet":{rate:.85,pitch:1.1,volume:1},"female-clear":{rate:1,pitch:.95,volume:1},"female-professional":{rate:.9,pitch:.85,volume:1},"male-strong":{rate:.8,pitch:.7,volume:1},"male-gentle":{rate:.9,pitch:.9,volume:1},"male-deep":{rate:.75,pitch:.6,volume:1},"korean-female":{rate:.95,pitch:1.15,volume:1},"korean-male":{rate:.85,pitch:.5,volume:1}},s=l({...a}),c=l("female-sweet"),t=l([]),i=l(null),r=()=>{if("speechSynthesis"in window){const e=speechSynthesis.getVoices();console.log("Loading voices, total found:",e.length),n();const l=e.filter(e=>e.lang.startsWith("en")),o=e.filter(e=>e.lang.startsWith("ko")),a=[...l,...o];console.log("English voices found:",l.length),console.log("Korean voices found:",o.length),console.log("Total supported voices:",a.length),t.value=a,a.length>0&&u()}},u=()=>{const e=t.value;if(console.log("Updating voice selection, available voices:",e.length),console.log("Current voice type:",c.value),0===e.length)return console.log("No voices available, loading voices..."),void r();let l=null;const o=e.filter(e=>e.lang.startsWith("en")),n=e.filter(e=>e.lang.startsWith("ko")),a=o.filter(e=>{const l=e.name.toLowerCase();return l.includes("female")||l.includes("woman")||l.includes("zira")||l.includes("hazel")||l.includes("cortana")||l.includes("helena")||l.includes("susan")||l.includes("samantha")||l.includes("karen")}),s=o.filter(e=>{const l=e.name.toLowerCase();return l.includes("male")||l.includes("man")||l.includes("david")||l.includes("mark")||l.includes("daniel")||l.includes("richard")||l.includes("alex")||l.includes("tom")||l.includes("aaron")}),u=n.filter(e=>{const l=e.name.toLowerCase();return!(!l.includes("female")&&!l.includes("woman"))||(!!(l.includes("heami")||l.includes("yuna")||l.includes("seoyeon")||l.includes("sora")||l.includes("inha")||l.includes("nayeon")||l.includes("clara")||l.includes("aria"))||(l.includes("male")||l.includes("man"),!1))}),g=n.filter(e=>{const l=e.name.toLowerCase();return!(!l.includes("male")&&!l.includes("man"))||(!!(l.includes("minho")||l.includes("woojin")||l.includes("taehyun")||l.includes("jun")||l.includes("alex")||l.includes("david")||l.includes("injoo"))||(l.includes("female")||l.includes("woman"),!1))}),m=n.filter(e=>!u.includes(e)&&!g.includes(e));if(m.length>0){const e=Math.ceil(m.length/2);u.push(...m.slice(0,e)),g.push(...m.slice(e))}if(console.log(`English Female voices found: ${a.length}`,a.map(e=>e.name)),console.log(`English Male voices found: ${s.length}`,s.map(e=>e.name)),console.log(`Korean Female voices found: ${u.length}`,u.map(e=>e.name)),console.log(`Korean Male voices found: ${g.length}`,g.map(e=>e.name)),0===u.length&&0===g.length&&n.length>0){const e=Math.floor(n.length/2);u.push(...n.slice(0,e)),g.push(...n.slice(e)),console.log("No Korean gender-specific voices found, splitting by index")}if(0===a.length&&0===s.length&&o.length>0){const e=Math.floor(o.length/2);a.push(...o.slice(0,e)),s.push(...o.slice(e)),console.log("No English gender-specific voices found, splitting by index")}switch(c.value){case"female-sweet":l=a[0]||e[0],console.log("Selected female-sweet:",l?.name);break;case"female-clear":l=a[1]||a[0]||e[1]||e[0],console.log("Selected female-clear:",l?.name);break;case"female-professional":l=a[2]||a[0]||e[2]||e[0],console.log("Selected female-professional:",l?.name);break;case"male-strong":l=s[0]||e[Math.floor(e.length/2)]||e[0],console.log("Selected male-strong:",l?.name);break;case"male-gentle":l=s[1]||s[0]||e[Math.floor(e.length/2)+1]||e[0],console.log("Selected male-gentle:",l?.name);break;case"male-deep":l=s[2]||s[0]||e[Math.floor(e.length/2)+2]||e[0],console.log("Selected male-deep:",l?.name);break;case"korean-female":l=n[0]||e[0],console.log("ðŸ‡°ðŸ‡·ðŸ‘© KOREAN FEMALE - Selected voice:",l?.name,"Lang:",l?.lang);break;case"korean-male":n.length>=2?(l=n[1],console.log("ðŸ‡°ðŸ‡·ðŸ‘¨ KOREAN MALE - Using second Korean voice:",l?.name)):1===n.length?(l=n[0],console.log("ðŸ‡°ðŸ‡·ðŸ‘¨ KOREAN MALE - Using same Korean voice with deep pitch (0.5):",l?.name)):(l=s[0]||e[0],console.log("ðŸ‡°ðŸ‡·ðŸ‘¨ KOREAN MALE - No Korean voices, using male voice:",l?.name)),l||(l=e[0],console.log("âš ï¸ FALLBACK: Using first available voice:",l?.name)),console.log("ðŸ‡°ðŸ‡· Total Korean voices:",n.length,n.map(e=>e.name)),console.log("ðŸŽ¯ Final selected voice for Korean Male:",l?.name,"Lang:",l?.lang)}console.log(`Looking for ${c.value} voice, found:`,l?.name);const d=i.value?.name;i.value=l||e[0]||null,console.log("Voice changed from",d,"to",i.value?.name)},g=()=>{localStorage.setItem("voice-settings",JSON.stringify(s.value)),localStorage.setItem("voice-type",c.value)},m=e=>{u();const l=new SpeechSynthesisUtterance(e);l.lang="en-US";const o=s.value[c.value];return l.rate=Math.max(.1,Math.min(10,o.rate)),l.pitch=Math.max(0,Math.min(2,o.pitch)),l.volume=Math.max(0,Math.min(1,o.volume)),console.log("Creating utterance with voice type:",c.value),console.log("Selected voice for utterance:",i.value?.name),i.value&&(l.voice=i.value),l},d=e=>new Promise((l,o)=>{if(!("speechSynthesis"in window))return console.warn("Speech synthesis not supported"),void o(new Error("Speech synthesis not supported"));const n=m(e);n.onend=()=>l(),n.onerror=e=>o(e.error),speechSynthesis.speak(n)}),h=e=>{console.log("Setting voice type to:",e),c.value=e,0===t.value.length&&r(),u(),g(),console.log("Voice updated to:",i.value?.name)},v=(e,l)=>{s.value[e]&&(s.value[e]={...s.value[e],...l},g())},f=e=>{a[e]&&(s.value[e]={...a[e]},g())},p=()=>{const{t:l}=e();return[{value:"female-sweet",label:l("voice.types.female_sweet","Female Sweet"),icon:"ðŸ‘©ðŸ’–"},{value:"female-clear",label:l("voice.types.female_clear","Female Clear"),icon:"ðŸ‘©ðŸ’¼"},{value:"female-professional",label:l("voice.types.female_professional","Female Professional"),icon:"ðŸ‘©ðŸŽ¯"},{value:"male-strong",label:l("voice.types.male_strong","Male Strong"),icon:"ðŸ‘¨ðŸ’ª"},{value:"male-gentle",label:l("voice.types.male_gentle","Male Gentle"),icon:"ðŸ‘¨ðŸ˜Š"},{value:"male-deep",label:l("voice.types.male_deep","Male Deep"),icon:"ðŸ‘¨ðŸŽ­"},{value:"korean-female",label:l("voice.types.korean_female","Korean Female"),icon:"ðŸ‡°ðŸ‡·ðŸ‘©"},{value:"korean-male",label:l("voice.types.korean_male","Korean Male"),icon:"ðŸ‡°ðŸ‡·ðŸ‘¨"}]},y=()=>{if(!i.value)return null;const e=c.value.includes("female")?"female":"male";return{name:i.value.name,lang:i.value.lang,gender:e}};o(s,()=>{g()},{deep:!0}),o(c,(e,l)=>{e!==l&&(console.log("Voice type changed from",l,"to",e),u(),g())}),"speechSynthesis"in window&&(speechSynthesis.onvoiceschanged=()=>{r()}),(()=>{const e=localStorage.getItem("voice-settings"),l=localStorage.getItem("voice-type");if(e)try{const l=JSON.parse(e);s.value={...a,...Object.keys(l).reduce((e,o)=>{const n=o;return a[n]&&(e[n]={...a[n],...l[n]}),e},{})}}catch(o){console.error("Error loading voice settings:",o),s.value={...a}}l&&(c.value=l)})(),r();const S=()=>{console.log("ðŸ”„ Force reloading voices..."),"speechSynthesis"in window&&(speechSynthesis.cancel(),speechSynthesis.getVoices(),r(),n())};function w(){return{voiceSettings:s,currentVoiceType:c,availableVoices:t,selectedVoice:i,setVoiceType:h,updateVoiceSettings:v,resetVoiceSettings:f,playAudio:d,createUtterance:m,getVoiceTypeOptions:p,getCurrentVoiceInfo:y,loadVoices:r,forceReloadVoices:S,debugAvailableVoices:n}}export{w as u};
