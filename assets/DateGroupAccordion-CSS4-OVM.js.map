{"version":3,"mappings":"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","names":["t","_createElementBlock","_createElementVNode","_normalizeClass","_toDisplayString","group","$emit","_openBlock","_unref","_createTextVNode","_createVNode","_Fragment","_Transition","_renderList","hoverToExpandEnabled","_withModifiers","globalMoveMode","_createBlock"],"ignoreList":[],"sources":["../../src/views/vocabulary/components/DateGroupAccordion.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"mb-3 xs:mb-4 sm:mb-6\">\n    <!-- Date group header with accordion toggle -->\n    <div class=\"sticky top-0 bg-gray-50 dark:bg-[#0f0f0f] px-2 xs:px-3 sm:px-4 md:px-6 py-2 xs:py-2.5 sm:py-3 border-b border-gray-200 dark:border-gray-700 z-10\">\n      <!-- Mobile/Small layout: Block/Vertical with Grid -->\n      <div class=\"sm:block md:hidden\">\n        <!-- First row: Date header -->\n        <div \n          @click=\"toggleAccordion\"\n          class=\"flex items-center justify-between mb-2 cursor-pointer py-1 -mx-1 px-1 rounded hover:bg-gray-50 dark:hover:bg-gray-custom transition-colors\"\n        >\n          <!-- Header content -->\n          <div class=\"flex items-center space-x-1 flex-1\">\n            <!-- Accordion toggle button -->\n            <div class=\"p-0.5 rounded-md\">\n              <svg\n                class=\"w-2.5 h-2.5 text-gray-500 dark:text-gray-400 transition-transform duration-200\"\n                :class=\"{ 'transform rotate-90': isExpanded }\"\n                fill=\"currentColor\"\n                viewBox=\"0 0 20 20\"\n              >\n                <path fill-rule=\"evenodd\" d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" clip-rule=\"evenodd\"/>\n              </svg>\n            </div>\n\n            <h4 class=\"text-xs sm:text-sm md:text-base lg:text-lg xl:text-base 2xl:text-lg font-semibold text-gray-700 dark:text-gray-300 flex items-center space-x-1\">\n              <svg class=\"w-2.5 h-2.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path fill-rule=\"evenodd\" d=\"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z\" clip-rule=\"evenodd\"/>\n              </svg>\n              <span>{{ group.displayDate }}</span>\n              <span class=\"text-xs xs:text-xs sm:text-sm md:text-sm lg:text-base xl:text-sm 2xl:text-base text-gray-500 dark:text-gray-400\">\n                ({{ totalVocabularyCount }})\n              </span>\n            </h4>\n          </div>\n\n          <!-- Toggle switch for action buttons on mobile -->\n          <div class=\"flex items-center space-x-1\" @click.stop>\n            <label class=\"relative inline-flex items-center cursor-pointer\">\n              <input \n                type=\"checkbox\" \n                v-model=\"showActionButtons\"\n                class=\"sr-only peer\"\n              >\n              <div class=\"w-9 h-5 sm:w-11 sm:h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-1 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 sm:after:h-5 sm:after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600\"></div>\n            </label>\n          </div>\n\n          <!-- Pagination on mobile (if needed) -->\n          <div v-if=\"isExpanded && group.totalPages && group.totalPages > 1\" class=\"flex items-center space-x-1\" @click.stop>\n            <button\n              @click=\"$emit('date-group-previous', group.date)\"\n              :disabled=\"(group.currentPage || 1) === 1\"\n              class=\"px-1.5 py-0.5 xs:px-2 xs:py-1 sm:px-3 sm:py-1 md:px-4 md:py-1.5 xl:px-4 xl:py-1.5 2xl:px-5 2xl:py-2 text-xs xs:text-xs sm:text-sm md:text-sm lg:text-base xl:text-base 2xl:text-lg border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-[#0a0a0a] text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              ‹\n            </button>\n\n            <span class=\"text-xs sm:text-sm md:text-base lg:text-lg xl:text-base 2xl:text-lg text-gray-500 dark:text-gray-400\">\n              {{ group.currentPage || 1 }}/{{ group.totalPages }}\n            </span>\n\n            <button\n              @click=\"$emit('date-group-next', group.date)\"\n              :disabled=\"(group.currentPage || 1) === group.totalPages\"\n              class=\"px-1.5 py-0.5 xs:px-2 xs:py-1 sm:px-3 sm:py-1 md:px-4 md:py-1.5 xl:px-4 xl:py-1.5 2xl:px-5 2xl:py-2 text-xs xs:text-xs sm:text-sm md:text-sm lg:text-base xl:text-base 2xl:text-lg border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-[#0a0a0a] text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              ›\n            </button>\n          </div>\n        </div>\n\n        <!-- Second row: Action buttons with 2x2 grid layout for mobile -->\n        <div class=\"w-full\" @click.stop>\n          <!-- Topic input form (when editing) -->\n          <div v-if=\"showTopicInput\" class=\"flex items-center justify-center mb-3\">\n            <div class=\"flex items-center space-x-1 w-full max-w-[280px]\">\n              <input\n                ref=\"topicInput\"\n                v-model=\"topicInputValue\"\n                @keyup.enter=\"saveTopic\"\n                @keyup.escape=\"cancelTopicInput\"\n                type=\"text\"\n                :placeholder=\"t('vocabulary.accordion.topicPlaceholder')\"\n                class=\"flex-1 px-3 py-2 text-xs border border-orange-300 dark:border-orange-600 rounded-md bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n              />\n              <button\n                @click=\"saveTopic\"\n                class=\"px-2 py-2 text-xs bg-orange-600 hover:bg-orange-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 transition-colors\"\n                :aria-label=\"t('vocabulary.accordion.saveTopic')\"\n              >\n                <svg class=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\"/>\n                </svg>\n              </button>\n              <button\n                @click=\"cancelTopicInput\"\n                class=\"px-2 py-2 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors dark:bg-blue-700 dark:hover:bg-blue-600 dark:focus:ring-blue-500\"\n                :aria-label=\"t('vocabulary.accordion.cancelTopic')\"\n              >\n                <svg class=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clip-rule=\"evenodd\"/>\n                </svg>\n              </button>\n            </div>\n          </div>\n\n          <!-- Normal state: 2x2 Grid layout for action buttons -->\n          <div v-else>\n            <!-- Current topic display (if exists) - Compact design -->\n            <div v-if=\"groupTopic\" class=\"flex items-center justify-center mb-1.5\">\n              <div class=\"flex items-center space-x-1 px-2.5 py-1 bg-orange-50 dark:bg-orange-900/50 rounded-lg border border-orange-200 dark:border-orange-700 max-w-[180px]\">\n                <svg class=\"w-3 h-3 text-orange-600 dark:text-orange-400 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clip-rule=\"evenodd\"/>\n                </svg>\n                <div class=\"relative flex-1 min-w-0\">\n                  <span \n                    ref=\"topicSpanMobile\"\n                    class=\"text-xs font-medium text-orange-700 dark:text-orange-300 truncate block cursor-default\"\n                    @mouseenter=\"showTopicTooltip = true\"\n                    @mouseleave=\"showTopicTooltip = false\"\n                  >{{ groupTopic }}</span>\n                  \n                  <!-- Tooltip -->\n                  <div \n                    v-if=\"showTopicTooltip && isTopicTruncated\"\n                    class=\"absolute z-[9999] bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 dark:bg-gray-700 text-white text-xs rounded-lg shadow-lg whitespace-nowrap\"\n                  >\n                    {{ groupTopic }}\n                    <!-- Arrow -->\n                    <div class=\"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900 dark:border-t-gray-700\"></div>\n                  </div>\n                </div>\n                <button\n                  @click.stop=\"editTopic\"\n                  class=\"text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 focus:outline-none flex-shrink-0 p-0.5 rounded hover:bg-orange-100 dark:hover:bg-orange-800/50 transition-colors\"\n                  :aria-label=\"t('vocabulary.accordion.editTopic')\"\n                >\n                  <svg class=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path d=\"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z\"/>\n                  </svg>\n                </button>\n              </div>\n            </div>\n\n            <!-- 2x2 Grid for action buttons - Responsive mobile/small tablet design -->\n            <div class=\"grid grid-cols-2 gap-2 max-w-[280px] sm:max-w-[320px] mx-auto\">\n              <!-- Row 1 -->\n              <!-- Add Topic button (Top Left) -->\n              <button\n                v-if=\"!groupTopic\"\n                @click.stop=\"showTopicInput = true\"\n                class=\"flex flex-col items-center justify-center p-2 sm:p-3 text-xs sm:text-sm font-medium text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 hover:bg-orange-50 dark:hover:bg-orange-900/50 rounded-md border border-dashed border-orange-300 dark:border-orange-600 hover:border-orange-400 dark:hover:border-orange-500 transition-all duration-200 focus:outline-none focus:ring-1 focus:ring-orange-500 min-h-[56px] sm:min-h-[64px] hover:scale-[1.02]\"\n                :aria-label=\"t('vocabulary.accordion.addTopic', 'Add Topic')\"\n              >\n                <svg class=\"w-3.5 h-3.5 sm:w-4 sm:h-4 mb-0.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z\" clip-rule=\"evenodd\"/>\n                </svg>\n                <span class=\"text-center leading-tight\">{{ t('vocabulary.accordion.addTopic', 'Add Topic') }}</span>\n              </button>\n\n              <!-- Manage Notes button (Top Right or Top Left if topic exists) -->\n              <div class=\"flex\" v-if=\"showActionButtons\">\n                <VocabularyNoteButton\n                  :date=\"group.date\"\n                  :is-today=\"isTodayGroup\"\n                  :class=\"'w-full flex flex-col items-center justify-center p-2 sm:p-3 text-xs sm:text-sm font-medium min-h-[56px] sm:min-h-[64px] hover:scale-[1.02] transition-all duration-200 rounded-md'\"\n                  @open-note-dialog=\"() => emit('open-note-dialog', { date: group.date, words: group.vocabularies })\"\n                />\n              </div>\n\n              <!-- Row 2 -->\n              <!-- Add Word button (Bottom Left) -->\n              <button\n                v-if=\"showActionButtons\"\n                @click.stop=\"openAddVocabularyDialog\"\n                class=\"flex flex-col items-center justify-center p-2 sm:p-3 text-xs sm:text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 hover:bg-blue-50 dark:hover:bg-blue-900/50 rounded-md border border-dashed border-blue-300 dark:border-blue-600 hover:border-blue-400 dark:hover:border-blue-500 transition-all duration-200 focus:outline-none focus:ring-1 focus:ring-blue-500 min-h-[56px] sm:min-h-[64px] hover:scale-[1.02]\"\n                :aria-label=\"t('vocabulary.addWord', 'Add Word')\"\n              >\n                <svg class=\"w-3.5 h-3.5 sm:w-4 sm:h-4 mb-0.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z\" clip-rule=\"evenodd\"/>\n                </svg>\n                <span class=\"text-center leading-tight\">{{ t('vocabulary.addWord', 'Add Word') }}</span>\n              </button>\n              \n              <!-- Manager Grammar button (Bottom Right) -->\n              <div class=\"flex\" v-if=\"showActionButtons\">\n                <GrammarManagerButton\n                  :date=\"group.date\"\n                  :class=\"'w-full flex flex-col items-center justify-center p-2 sm:p-3 text-xs sm:text-sm font-medium min-h-[56px] sm:min-h-[64px] hover:scale-[1.02] transition-all duration-200 rounded-md'\"\n                  @open-grammar-manager=\"openGrammarManager\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Desktop/Tablet layout: Responsive -->\n      <div class=\"hidden md:block\">\n        <!-- Date Header Section -->\n        <div \n          @click=\"toggleAccordion\"\n          class=\"flex items-center justify-between cursor-pointer py-1 -mx-1 px-1 rounded hover:bg-gray-50 dark:hover:bg-gray-custom transition-colors\"\n        >\n        <!-- Header content -->\n        <div class=\"flex items-center space-x-2\">\n          <!-- Accordion toggle button -->\n          <div class=\"p-1 rounded-md\">\n            <svg\n              class=\"w-3 xs:w-3.5 sm:w-4 h-3 xs:h-3.5 sm:h-4 text-gray-500 dark:text-gray-400 transition-transform duration-200\"\n              :class=\"{ 'transform rotate-90': isExpanded }\"\n              fill=\"currentColor\"\n              viewBox=\"0 0 20 20\"\n            >\n              <path fill-rule=\"evenodd\" d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" clip-rule=\"evenodd\"/>\n            </svg>\n          </div>\n\n          <h4 class=\"text-xs xs:text-sm sm:text-sm md:text-base lg:text-base xl:text-sm 2xl:text-base font-semibold text-gray-700 dark:text-gray-300 flex items-center space-x-1 xs:space-x-1.5 sm:space-x-2\">\n            <svg class=\"w-3 md:w-4 lg:w-4 xl:w-5 xl:h-5 2xl:w-6 2xl:h-6 h-3 md:h-4 lg:h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fill-rule=\"evenodd\" d=\"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z\" clip-rule=\"evenodd\"/>\n            </svg>\n            <span>{{ group.displayDate }}</span>\n            <span class=\"text-xs xs:text-xs sm:text-sm md:text-sm lg:text-base xl:text-sm 2xl:text-base text-gray-500 dark:text-gray-400\">\n              ({{ totalVocabularyCount }} {{ t('vocabulary.words', 'words') }})\n            </span>\n          </h4>\n        </div>\n\n        <!-- For xs, sm, md: Show toggle switch in header -->  \n        <div class=\"lg:hidden flex items-center space-x-2\" @click.stop>\n          <!-- Toggle switch for action buttons -->\n          <label class=\"relative inline-flex items-center cursor-pointer\">\n            <input \n              type=\"checkbox\" \n              v-model=\"showActionButtons\"\n              class=\"sr-only peer\"\n            >\n            <div class=\"w-7 h-4 bg-gray-200 peer-focus:outline-none peer-focus:ring-1 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-3 after:w-3 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600\"></div>\n          </label>\n        </div>\n\n        <!-- For lg+: Show toggle and pagination in header -->\n        <div class=\"hidden lg:flex items-center space-x-2\">\n          <!-- Date group pagination (only show when expanded) -->\n          <div v-if=\"isExpanded && group.totalPages && group.totalPages > 1\" class=\"flex items-center space-x-2\" @click.stop>\n            <button\n              @click=\"$emit('date-group-previous', group.date)\"\n              :disabled=\"(group.currentPage || 1) === 1\"\n              class=\"px-2 md:px-2 py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 xl:px-3 xl:py-1.5 2xl:px-4 2xl:py-2 text-xs xs:text-xs sm:text-sm md:text-sm lg:text-base xl:text-sm 2xl:text-base border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-[#0a0a0a] text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {{ t('common.previous') }}\n            </button>\n\n            <span class=\"text-xs sm:text-sm md:text-base lg:text-lg xl:text-sm 2xl:text-base text-gray-500 dark:text-gray-400\">\n              {{ group.currentPage || 1 }} / {{ group.totalPages }}\n            </span>\n\n            <button\n              @click=\"$emit('date-group-next', group.date)\"\n              :disabled=\"(group.currentPage || 1) === group.totalPages\"\n              class=\"px-2 md:px-2 py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 xl:px-3 xl:py-1.5 2xl:px-4 2xl:py-2 text-xs xs:text-xs sm:text-sm md:text-sm lg:text-base xl:text-sm 2xl:text-base border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-[#0a0a0a] text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {{ t('common.next') }}\n            </button>\n          </div>\n\n          <!-- Toggle switch for action buttons -->\n          <div class=\"flex items-center space-x-2\" @click.stop>\n            <label class=\"relative inline-flex items-center cursor-pointer\">\n              <input \n                type=\"checkbox\" \n                v-model=\"showActionButtons\"\n                class=\"sr-only peer\"\n              >\n              <div class=\"w-9 h-5 sm:w-11 sm:h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 sm:after:h-5 sm:after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600\"></div>\n            </label>\n            <span class=\"text-xs sm:text-sm md:text-base lg:text-lg xl:text-sm 2xl:text-base text-gray-600 dark:text-gray-300\">{{ t('common.actions', 'Actions') }}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Pagination for xs, sm, md (when expanded) -->\n      <div v-if=\"isExpanded && group.totalPages && group.totalPages > 1\" class=\"lg:hidden flex items-center justify-center space-x-1 mt-2\" @click.stop>\n        <button\n          @click=\"$emit('date-group-previous', group.date)\"\n          :disabled=\"(group.currentPage || 1) === 1\"\n          class=\"px-1.5 py-0.5 xs:px-2 xs:py-1 sm:px-3 sm:py-1 md:px-4 md:py-1.5 text-xs xs:text-xs sm:text-sm md:text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-[#0a0a0a] text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          ‹\n        </button>\n\n        <span class=\"text-xs sm:text-sm md:text-base text-gray-500 dark:text-gray-400\">\n          {{ group.currentPage || 1 }}/{{ group.totalPages }}\n        </span>\n\n        <button\n          @click=\"$emit('date-group-next', group.date)\"\n          :disabled=\"(group.currentPage || 1) === group.totalPages\"\n          class=\"px-1.5 py-0.5 xs:px-2 xs:py-1 sm:px-3 sm:py-1 md:px-4 md:py-1.5 text-xs xs:text-xs sm:text-sm md:text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-[#0a0a0a] text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          ›\n        </button>\n      </div>\n\n      <!-- Buttons row for md+ - centered -->\n      <div class=\"lg:hidden flex items-center justify-center space-x-2 mt-2\" @click.stop>\n        <div v-if=\"!showTopicInput\" class=\"flex items-center space-x-2\">\n          <!-- Topic display or add button -->\n          <div v-if=\"groupTopic\" class=\"flex items-center space-x-1 xs:space-x-1.5 sm:space-x-1.5 md:space-x-2 px-2 xs:px-2.5 sm:px-3 md:px-4 py-0.5 xs:py-1 sm:py-1 md:py-1.5 bg-orange-50 dark:bg-orange-900/50 rounded-full border border-orange-200 dark:border-orange-700\">\n            <svg class=\"w-2.5 xs:w-3 sm:w-3 md:w-4 h-2.5 xs:h-3 sm:h-3 md:h-4 text-orange-600 dark:text-orange-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clip-rule=\"evenodd\"/>\n            </svg>\n            <div class=\"relative\">\n              <span\n                ref=\"topicSpanTablet\"\n                class=\"font-medium text-orange-700 dark:text-orange-300 truncate max-w-[80px] sm:max-w-none block cursor-default text-xs xs:text-xs sm:text-sm md:text-sm\"\n                @mouseenter=\"showTopicTooltip = true\"\n                @mouseleave=\"showTopicTooltip = false\"\n              >{{ groupTopic }}</span>\n              \n              <!-- Tooltip -->\n              <div \n                v-if=\"showTopicTooltip && isTopicTruncated\"\n                class=\"absolute z-[9999] bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 dark:bg-gray-700 text-white text-xs rounded-lg shadow-lg whitespace-nowrap\"\n              >\n                {{ groupTopic }}\n                <!-- Arrow -->\n                <div class=\"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900 dark:border-t-gray-700\"></div>\n              </div>\n            </div>\n            <button\n              @click.stop=\"editTopic\"\n              class=\"text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-200 focus:outline-none flex-shrink-0\"\n              :aria-label=\"t('vocabulary.accordion.editTopic')\"\n            >\n              <svg class=\"w-2.5 xs:w-3 sm:w-3 md:w-4 h-2.5 xs:h-3 sm:h-3 md:h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path d=\"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z\"/>\n              </svg>\n            </button>\n          </div>\n          <button\n            v-else\n            @click.stop=\"showTopicInput = true\"\n            class=\"flex items-center space-x-0.5 xs:space-x-1 sm:space-x-1 md:space-x-1.5 px-2 xs:px-2.5 sm:px-3 md:px-4 py-0.5 xs:py-1 sm:py-1 md:py-1.5 text-xs xs:text-xs sm:text-sm md:text-sm bg-orange-50 hover:bg-orange-100 dark:bg-orange-900/20 dark:hover:bg-orange-800/30 text-orange-600 dark:text-orange-400 rounded-full border border-orange-200 dark:border-orange-800 cursor-pointer transition-colors duration-150\"\n            :aria-label=\"t('vocabulary.accordion.addTopic', 'Add Topic')\"\n          >\n            <svg class=\"w-3 md:w-4 h-3 md:h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fill-rule=\"evenodd\" d=\"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z\" clip-rule=\"evenodd\"/>\n            </svg>\n            <span class=\"whitespace-nowrap\">{{ t('vocabulary.accordion.addTopic', 'Add Topic') }}</span>\n          </button>\n\n          <!-- Action buttons (Note and Add Vocabulary) - controlled by toggle -->\n          <template v-if=\"showActionButtons\">\n            <!-- Note button -->\n            <VocabularyNoteButton\n              :date=\"group.date\"\n              :is-today=\"isTodayGroup\"\n              @open-note-dialog=\"() => emit('open-note-dialog', { date: group.date, words: group.vocabularies })\"\n            />\n            \n            <!-- Add Vocabulary button -->\n            <button\n              @click=\"openAddVocabularyDialog\"\n              class=\"flex items-center space-x-1 md:space-x-1.5 px-2 xs:px-2.5 sm:px-3 md:px-4 py-0.5 xs:py-1 sm:py-1 md:py-1.5 text-xs md:text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 hover:bg-blue-50 dark:hover:bg-blue-900/50 rounded-full border border-dashed border-blue-300 dark:border-blue-600 hover:border-blue-400 dark:hover:border-blue-500 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              :aria-label=\"t('vocabulary.addWord', 'Add Word')\"\n            >\n              <svg class=\"w-3 md:w-4 h-3 md:h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path fill-rule=\"evenodd\" d=\"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z\" clip-rule=\"evenodd\"/>\n              </svg>\n              <span>{{ t('vocabulary.addWord', 'Add Word') }}</span>\n            </button>\n            \n            <!-- Manager Grammar button -->\n            <GrammarManagerButton\n              :date=\"group.date\"\n              @open-grammar-manager=\"openGrammarManager\"\n            />\n          </template>\n        </div>\n\n        <!-- Topic input form for md+ -->\n        <div v-else class=\"flex items-center space-x-1 xs:space-x-1.5 sm:space-x-2 w-full max-w-[150px] xs:max-w-[200px] sm:max-w-xs\">\n          <input\n            ref=\"topicInputTablet\"\n            v-model=\"topicInputValue\"\n            @keyup.enter=\"saveTopic\"\n            @keyup.escape=\"cancelTopicInput\"\n            type=\"text\"\n            :placeholder=\"t('vocabulary.accordion.topicPlaceholder')\"\n            class=\"flex-1 px-2 xs:px-2 sm:px-2 md:px-2 py-0.5 xs:py-1 sm:py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 text-xs border border-orange-300 dark:border-orange-600 rounded-md bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n          />\n          <button\n            @click=\"saveTopic\"\n            class=\"px-1.5 xs:px-2 sm:px-2 md:px-2 py-0.5 xs:py-1 sm:py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 text-xs bg-orange-600 hover:bg-orange-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 transition-colors\"\n            :aria-label=\"t('vocabulary.accordion.saveTopic')\"\n          >\n            <svg class=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\"/>\n            </svg>\n          </button>\n          <button\n            @click=\"cancelTopicInput\"\n            class=\"px-1.5 xs:px-2 sm:px-2 md:px-2 py-0.5 xs:py-1 sm:py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors\"\n            :aria-label=\"t('vocabulary.accordion.cancelTopic')\"\n          >\n            <svg class=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fill-rule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clip-rule=\"evenodd\"/>\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- lg+ layout: horizontal with center topic section -->\n      <div class=\"hidden lg:block\">\n        <!-- Center topic section for lg+ -->\n        <div \n          @click=\"toggleAccordion\"\n          class=\"flex items-center justify-between flex-wrap gap-1 cursor-pointer py-1 -mx-1 px-1 rounded hover:bg-gray-50 dark:hover:bg-gray-custom transition-colors\"\n        >\n          <!-- Center topic section -->\n          <div class=\"flex-1 flex justify-center mx-1 xs:mx-2 sm:mx-4 min-w-0\">\n            <div v-if=\"!showTopicInput\" class=\"flex items-center space-x-1.5 xs:space-x-1.5 sm:space-x-2 flex-nowrap\">\n              <!-- Topic display or add button -->\n              <div v-if=\"groupTopic\" class=\"flex items-center space-x-1 md:space-x-1.5 px-2 xs:px-2.5 sm:px-3 md:px-4 py-0.5 xs:py-1 sm:py-1 md:py-1.5 lg:py-1.5 xl:py-1.5 2xl:py-1.5 bg-orange-50 dark:bg-orange-900/50 rounded-full border border-orange-200 dark:border-orange-700 flex-shrink-0\">\n                <svg class=\"w-3 md:w-4 lg:w-4 xl:w-5 xl:h-5 2xl:w-6 2xl:h-6 h-3 md:h-4 lg:h-4 text-orange-600 dark:text-orange-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clip-rule=\"evenodd\"/>\n                </svg>\n                <div class=\"relative\">\n                  <span\n                    ref=\"topicSpanDesktop\"\n                    class=\"text-xs md:text-sm lg:text-base xl:text-sm 2xl:text-base font-medium text-orange-700 dark:text-orange-300 truncate max-w-[80px] sm:max-w-none block cursor-default\"\n                    @mouseenter=\"showTopicTooltip = true\"\n                    @mouseleave=\"showTopicTooltip = false\"\n                  >{{ groupTopic }}</span>\n                  \n                  <!-- Tooltip -->\n                  <div \n                    v-if=\"showTopicTooltip && isTopicTruncated\"\n                    class=\"absolute z-[9999] bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 dark:bg-gray-700 text-white text-xs rounded-lg shadow-lg whitespace-nowrap\"\n                  >\n                    {{ groupTopic }}\n                    <!-- Arrow -->\n                    <div class=\"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900 dark:border-t-gray-700\"></div>\n                  </div>\n                </div>\n                <button\n                  @click.stop=\"editTopic\"\n                  class=\"text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-200 focus:outline-none flex-shrink-0\"\n                  :aria-label=\"t('vocabulary.accordion.editTopic')\"\n                >\n                  <svg class=\"w-3 md:w-4 lg:w-4 xl:w-5 xl:h-5 2xl:w-6 2xl:h-6 h-3 md:h-4 lg:h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path d=\"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z\"/>\n                  </svg>\n                </button>\n              </div>\n              <button\n                v-else\n                @click.stop=\"showTopicInput = true\"\n                class=\"flex items-center space-x-1 md:space-x-1.5 px-2 xs:px-2.5 sm:px-3 md:px-4 py-0.5 xs:py-1 sm:py-1 md:py-1.5 text-xs md:text-sm lg:text-base xl:text-sm 2xl:text-base font-medium bg-orange-50 hover:bg-orange-100 dark:bg-orange-900/20 dark:hover:bg-orange-800/30 text-orange-600 dark:text-orange-400 rounded-full border border-dashed border-orange-200 dark:border-orange-800 hover:border-orange-400 dark:hover:border-orange-500 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500\"\n                :aria-label=\"t('vocabulary.accordion.addTopic', 'Add Topic')\"\n              >\n                <svg class=\"w-3 md:w-4 lg:w-4 xl:w-5 xl:h-5 2xl:w-6 2xl:h-6 h-3 md:h-4 lg:h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z\" clip-rule=\"evenodd\"/>\n                </svg>\n                <span>{{ t('vocabulary.accordion.addTopic', 'Add Topic') }}</span>\n              </button>\n\n              <!-- Action buttons (Note and Add Vocabulary) - controlled by toggle -->\n              <template v-if=\"showActionButtons\">\n                <!-- Note button for all vocabulary groups -->\n                <div class=\"flex-shrink-0\" @click.stop>\n                  <VocabularyNoteButton\n                    :date=\"group.date\"\n                    :is-today=\"isTodayGroup\"\n                    @open-note-dialog=\"() => emit('open-note-dialog', { date: group.date, words: group.vocabularies })\"\n                  />\n                </div>\n                \n                <!-- Add Vocabulary button -->\n                <div class=\"flex-shrink-0\" @click.stop>\n                  <button\n                    @click=\"openAddVocabularyDialog\"\n                    class=\"flex items-center space-x-1 md:space-x-1.5 px-2 xs:px-2.5 sm:px-3 md:px-4 py-0.5 xs:py-1 sm:py-1 md:py-1.5 text-xs md:text-sm lg:text-base xl:text-sm 2xl:text-base font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 hover:bg-blue-50 dark:hover:bg-blue-900/50 rounded-full border border-dashed border-blue-300 dark:border-blue-600 hover:border-blue-400 dark:hover:border-blue-500 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    :aria-label=\"t('vocabulary.addWord', 'Add Word')\"\n                  >\n                    <svg class=\"w-3 md:w-4 lg:w-4 xl:w-5 xl:h-5 2xl:w-6 2xl:h-6 h-3 md:h-4 lg:h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fill-rule=\"evenodd\" d=\"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z\" clip-rule=\"evenodd\"/>\n                    </svg>\n                    <span>{{ t('vocabulary.addWord', 'Add Word') }}</span>\n                  </button>\n                </div>\n                \n                <!-- Manager Grammar button -->\n                <div class=\"flex-shrink-0\" @click.stop>\n                  <GrammarManagerButton\n                    :date=\"group.date\"\n                    @open-grammar-manager=\"openGrammarManager\"\n                  />\n                </div>\n              </template>\n            </div>\n\n            <!-- Topic input form -->\n            <div v-else class=\"flex items-center space-x-1 xs:space-x-1.5 sm:space-x-2 w-full max-w-[150px] xs:max-w-[200px] sm:max-w-xs\" @click.stop>\n              <input\n                ref=\"topicInput\"\n                v-model=\"topicInputValue\"\n                @keyup.enter=\"saveTopic\"\n                @keyup.escape=\"cancelTopicInput\"\n                type=\"text\"\n                :placeholder=\"t('vocabulary.accordion.topicPlaceholder')\"\n                class=\"flex-1 px-2 xs:px-2 sm:px-2 md:px-2 py-0.5 xs:py-1 sm:py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 text-xs border border-orange-300 dark:border-orange-600 rounded-md bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n              />\n              <button\n                @click=\"saveTopic\"\n                class=\"px-1.5 xs:px-2 sm:px-2 md:px-2 py-0.5 xs:py-1 sm:py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 text-xs bg-orange-600 hover:bg-orange-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 transition-colors\"\n                :aria-label=\"t('vocabulary.accordion.saveTopic')\"\n              >\n                <svg class=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\"/>\n                </svg>\n              </button>\n              <button\n                @click=\"cancelTopicInput\"\n                class=\"px-1.5 xs:px-2 sm:px-2 md:px-2 py-0.5 xs:py-1 sm:py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors\"\n                :aria-label=\"t('vocabulary.accordion.cancelTopic')\"\n              >\n                <svg class=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clip-rule=\"evenodd\"/>\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Collapsible content with simple transition -->\n    <transition name=\"accordion\">\n      <div v-if=\"isExpanded\" class=\"accordion-content\">\n        \n        <!-- Topic-based sub-groups -->\n        <div v-if=\"group.topics && group.topics.length > 0\" class=\"divide-y divide-gray-200 dark:divide-gray-700\">\n          <div \n            v-for=\"topicGroup in group.topics\" \n            :key=\"topicGroup.topic\" \n            class=\"topic-group\"\n            @mouseenter=\"hoverToExpandEnabled ? handleTopicHover(topicGroup.topic, true) : null\"\n            @mouseleave=\"hoverToExpandEnabled ? handleTopicHover(topicGroup.topic, false) : null\"\n          >\n            <!-- Topic header with accordion toggle and pagination -->\n            <div class=\"bg-gray-50 dark:bg-gray-custom border-b border-gray-200 dark:border-gray-700\">\n              <!-- Topic name and toggle -->\n              <div \n                :id=\"`date-group-${group.date}-topic-${topicGroup.topic}`\"\n                class=\"flex items-center justify-between px-6 py-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-custom/50\"\n                @click=\"toggleTopicAccordion(topicGroup.topic)\"\n              >\n                <div class=\"flex items-center space-x-2\">\n                  <svg \n                    class=\"w-4 h-4 text-gray-400 dark:text-gray-500 transition-transform duration-200\"\n                    :class=\"{ 'transform rotate-90': isTopicExpanded(topicGroup.topic) }\"\n                    fill=\"currentColor\" \n                    viewBox=\"0 0 20 20\"\n                  >\n                    <path fill-rule=\"evenodd\" d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" clip-rule=\"evenodd\"/>\n                  </svg>\n                  <div class=\"flex items-center space-x-1\">\n                    <h5 class=\"text-sm font-medium text-gray-600 dark:text-gray-400\">\n                      {{ getTopicName(topicGroup.topic) }}\n                      <span class=\"text-xs text-gray-500\">({{ topicGroup.vocabularies.length }})</span>\n                    </h5>\n                    <!-- Info icon moved next to the topic name with tighter spacing -->\n                    <div \n                      class=\"relative\"\n                      @mouseenter.stop=\"handleInfoMouseEnter(topicGroup.topic)\"\n                      @mouseleave=\"handleInfoMouseLeave\"\n                      @click.stop\n                    >\n                      <button\n                        type=\"button\"\n                        class=\"p-1 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md\"\n                        :aria-label=\"t('vocabulary.sameTopicDatesAria', 'Show dates with same topic')\"\n                      >\n                        <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" class=\"w-4 h-4\">\n                          <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm.75 15h-1.5v-6h1.5v6zm0-8h-1.5V7h1.5v2z\"/>\n                        </svg>\n                      </button>\n                      <!-- Tooltip panel -->\n                      <div \n                        v-if=\"infoHoverTopic === topicGroup.topic\"\n                        class=\"absolute left-full top-1/2 -translate-y-1/2 ml-3 w-64 rounded-lg shadow-xl ring-1 ring-black/5 bg-white text-gray-800 p-3 z-30 border border-gray-200 dark:bg-[#0a0a0a] dark:text-white dark:border dark:border-[#0f0f0f]\"\n                        @mouseenter=\"handleTooltipMouseEnter\"\n                        @mouseleave=\"handleTooltipMouseLeave\"\n                      >\n                        <!-- Arrow pointer -->\n                        <div \n                          class=\"absolute -left-1.5 top-1/2 -translate-y-1/2 w-3 h-3 rotate-45 bg-white dark:bg-[#0a0a0a]\"\n                          aria-hidden=\"true\"\n                        />\n                        <div class=\"text-xs font-semibold mb-2\">\n                          {{ t('vocabulary.sameTopicDatesTitle', 'Dates with same topic') }}\n                        </div>\n                        <div \n                          v-if=\"!availableDatesByTopic[topicGroup.topic] || availableDatesByTopic[topicGroup.topic].length === 0\"\n                          class=\"text-xs text-gray-600 dark:text-white/70\"\n                        >\n                          {{ t('vocabulary.sameTopicDatesEmpty', 'No other dates found for this topic') }}\n                        </div>\n                        <ul \n                          v-else \n                          class=\"text-xs space-y-1 pr-1 overflow-y-auto\"\n                          :class=\"{ 'max-h-24': (availableDatesByTopic[topicGroup.topic]?.length || 0) >= 4 }\"\n                        >\n                          <li \n                            v-for=\"d in availableDatesByTopic[topicGroup.topic]\" \n                            :key=\"d.date\" \n                            class=\"flex items-center justify-between hover:bg-white dark:hover:bg-[#0f0f0f] rounded px-2 py-1 cursor-pointer\"\n                            @click=\"handleNavigateClick(d.date, topicGroup.topic)\"\n                          >\n                            <span>{{ formatDateForDisplay(d.date) }}</span>\n                            <span class=\"text-gray-500 dark:text-white/60\">({{ d.count }})</span>\n                          </li>\n                        </ul>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \n                \n                <!-- Batch Move Arrow for Category -->\n                <button\n                  v-if=\"globalMoveMode && topicGroup.vocabularies.length > 0\"\n                  @click.stop=\"handleBatchMoveCategory(topicGroup)\"\n                  class=\"ml-auto mr-2 p-1.5 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded-md transition-colors\"\n                  :title=\"t('vocabulary.moveCategoryToAnotherDay', 'Move all words in this category to another day')\"\n                >\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4\"/>\n                  </svg>\n                </button>\n              </div>\n              \n              <!-- Category pagination (only show when expanded and has multiple pages) -->\n              <div \n                v-if=\"isTopicExpanded(topicGroup.topic) && getPaginatedTopicVocabularies(topicGroup).totalPages > 1\" \n                class=\"px-6 pb-3\" \n                @click.stop\n              >\n                <div class=\"flex items-center justify-between text-xs\">\n                  <!-- Mobile pagination -->\n                  <div class=\"flex-1 flex justify-between sm:hidden\">\n                    <button \n                      @click=\"previousTopicPage(topicGroup.topic)\" \n                      :disabled=\"!getPaginatedTopicVocabularies(topicGroup).hasPrevious\" \n                      class=\"relative inline-flex items-center px-2 md:px-2 py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 border border-gray-300 dark:border-gray-600 text-xs font-medium rounded text-gray-700 dark:text-gray-300 bg-white dark:bg-[#0a0a0a] hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      {{ t('common.previous') }}\n                    </button>\n                    <button \n                      @click=\"nextTopicPage(topicGroup.topic)\" \n                      :disabled=\"!getPaginatedTopicVocabularies(topicGroup).hasNext\" \n                      class=\"ml-2 relative inline-flex items-center px-2 md:px-2 py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 border border-gray-300 dark:border-gray-600 text-xs font-medium rounded text-gray-700 dark:text-gray-300 bg-white dark:bg-[#0a0a0a] hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      {{ t('common.next') }}\n                    </button>\n                  </div>\n                  \n                  <!-- Desktop pagination -->\n                  <div class=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\n                    <div>\n                      <p class=\"text-xs text-gray-700 dark:text-gray-300\">\n                        {{ t('vocabulary.showingCategoryItems', { \n                          start: getPaginatedTopicVocabularies(topicGroup).startIndex, \n                          end: getPaginatedTopicVocabularies(topicGroup).endIndex, \n                          total: getPaginatedTopicVocabularies(topicGroup).totalItems \n                        }, `Showing ${getPaginatedTopicVocabularies(topicGroup).startIndex} to ${getPaginatedTopicVocabularies(topicGroup).endIndex} of ${getPaginatedTopicVocabularies(topicGroup).totalItems} items`) }}\n                      </p>\n                    </div>\n                    <div>\n                      <nav class=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\">\n                        <button \n                          @click=\"previousTopicPage(topicGroup.topic)\" \n                          :disabled=\"!getPaginatedTopicVocabularies(topicGroup).hasPrevious\" \n                          class=\"relative inline-flex items-center px-1.5 md:px-1.5 py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-[#0a0a0a] text-xs font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed\"\n                        >\n                          <span class=\"sr-only\">{{ t('common.previous') }}</span>\n                          <svg class=\"h-3 w-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                            <path fill-rule=\"evenodd\" d=\"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z\" clip-rule=\"evenodd\"/>\n                          </svg>\n                        </button>\n                        \n                        <!-- Page numbers -->\n                        <button\n                          v-for=\"page in getVisibleTopicPages(getPaginatedTopicVocabularies(topicGroup).currentPage, getPaginatedTopicVocabularies(topicGroup).totalPages)\"\n                          :key=\"`${topicGroup.topic}-${page}`\"\n                          @click=\"page > 0 ? goToTopicPage(topicGroup.topic, page) : null\"\n                          :disabled=\"page === -1\"\n                          :class=\"[\n                            page === getPaginatedTopicVocabularies(topicGroup).currentPage\n                              ? 'z-10 bg-blue-50 dark:bg-blue-900 border-blue-500 dark:border-blue-400 text-blue-600 dark:text-blue-300'\n                              : page === -1\n                              ? 'bg-white dark:bg-[#0a0a0a] border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 cursor-default'\n                              : 'bg-white dark:bg-[#0a0a0a] border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600',\n                            'relative inline-flex items-center px-2 md:px-2 py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 border text-xs font-medium'\n                          ]\"\n                        >\n                          {{ page === -1 ? '...' : page }}\n                        </button>\n                        \n                        <!-- Next button -->\n                        <button \n                          @click=\"nextTopicPage(topicGroup.topic)\" \n                          :disabled=\"!getPaginatedTopicVocabularies(topicGroup).hasNext\" \n                          class=\"relative inline-flex items-center px-1.5 md:px-1.5 py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-[#0a0a0a] text-xs font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed\"\n                        >\n                          <span class=\"sr-only\">{{ t('common.next') }}</span>\n                          <svg class=\"h-3 w-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                            <path fill-rule=\"evenodd\" d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" clip-rule=\"evenodd\"/>\n                          </svg>\n                        </button>\n                      </nav>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Collapsible content for topic -->\n            <transition name=\"topic-accordion\">\n              <div v-if=\"isTopicExpanded(topicGroup.topic)\" class=\"topic-accordion-content py-2\">\n                <div class=\"divide-y divide-gray-200 dark:divide-gray-700\">\n                  <VocabularyCard\n                    v-for=\"word in getPaginatedTopicVocabularies(topicGroup).vocabularies\"\n                    :key=\"word.id\"\n                    :word=\"word\"\n                    :move-mode=\"globalMoveMode\"\n                    @play-audio=\"$emit('play-audio', $event)\"\n                    @edit-word=\"$emit('edit-word', $event)\"\n                    @delete-word=\"$emit('delete-word', $event)\"\n                    @toggle-favorite=\"$emit('toggle-favorite', $event)\"\n                    @view-details=\"$emit('view-details', $event)\"\n                    @move-vocabulary=\"handleMoveVocabulary\"\n                  />\n                </div>\n              </div>\n            </transition>\n          </div>\n        </div>\n\n        <!-- Fallback for words without topics -->\n        <div v-else class=\"divide-y divide-gray-200 dark:divide-gray-700\">\n            <VocabularyCard\n              v-for=\"word in group.vocabularies\"\n              :key=\"word.id\"\n              :word=\"word\"\n              :move-mode=\"globalMoveMode\"\n              @play-audio=\"$emit('play-audio', $event)\"\n              @edit-word=\"$emit('edit-word', $event)\"\n              @delete-word=\"$emit('delete-word', $event)\"\n              @toggle-favorite=\"$emit('toggle-favorite', $event)\"\n              @view-details=\"$emit('view-details', $event)\"\n              @move-vocabulary=\"handleMoveVocabulary\"\n            />\n        </div>\n      </div>\n    </transition>\n    </div>\n\n\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { defineAsyncComponent, ref, computed, onMounted, onUnmounted, nextTick, watch } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport { loadComponentSafely } from '../../../utils/import-helper'\nimport type { GroupedVocabulary } from '../../../utils/dateUtils'\nimport { getTopicName } from '../../../utils/topicUtils'\nimport { getDateKey } from '../../../utils/dateUtils'\n\nconst { t, locale } = useI18n()\n\n// Sử dụng defineAsyncComponent để import components an toàn\nconst VocabularyCard = defineAsyncComponent(\n  loadComponentSafely(() => import('./VocabularyCard.vue'))\n)\n\n// Import the new components\nconst VocabularyNoteButton = defineAsyncComponent(\n  loadComponentSafely(() => import('./VocabularyNoteButton.vue'))\n)\n\n// Async component imports\nconst GrammarManagerButton = defineAsyncComponent(() => loadComponentSafely(() => import('./GrammarManagerButton.vue'))())\n\n\n\ninterface Props {\n  group: GroupedVocabulary\n  defaultExpanded?: boolean\n  accordionState?: Record<string, boolean>\n  hoverToExpandEnabled?: boolean\n  globalMoveMode?: boolean\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  defaultExpanded: false, // Changed to false for collapsed by default\n  accordionState: () => ({}),\n  hoverToExpandEnabled: false,\n  globalMoveMode: false\n})\n\n// Computed property to calculate total vocabulary count (including paginated items)\nconst totalVocabularyCount = computed(() => {\n  // Use totalItems if available (includes all paginated vocabularies)\n  if (props.group.totalItems && props.group.totalItems > 0) {\n    return props.group.totalItems\n  }\n  \n  // Fallback: calculate from current visible data\n  if (props.group.topics && props.group.topics.length > 0) {\n    // Sum up vocabularies from all topics\n    return props.group.topics.reduce((total, topicGroup) => {\n      return total + (topicGroup.vocabularies?.length || 0)\n    }, 0)\n  } else {\n    // Fallback to direct vocabularies array\n    return props.group.vocabularies?.length || 0\n  }\n})\n\n// Check if this group is today's vocabulary\nconst isTodayGroup = computed(() => {\n  const today = new Date();\n  const todayKey = getDateKey(today.toISOString());\n  return props.group.date === todayKey;\n});\n\n// Check if topic text is truncated\nconst isTopicTruncated = computed(() => {\n  if (!groupTopic.value) {\n    return false\n  }\n  \n  // Check mobile span (visible on small screens)\n  if (topicSpanMobile.value) {\n    return topicSpanMobile.value.scrollWidth > topicSpanMobile.value.clientWidth\n  }\n  \n  // Check desktop span (visible on larger screens)\n  if (topicSpanDesktop.value) {\n    return topicSpanDesktop.value.scrollWidth > topicSpanDesktop.value.clientWidth\n  }\n  \n  return false\n})\n\n// Local state for accordion\nconst isExpanded = ref(false)\nconst isHovered = ref(false)\nconst hoverTimeout = ref<number | null>(null)\nconst accordionContent = ref<HTMLElement>()\nconst accordionMaxHeight = ref(0)\n// Toggle for action buttons visibility with localStorage persistence per date\nconst SHOW_ACTION_BUTTONS_KEY = 'vocabulary-show-action-buttons-by-date'\nconst showActionButtons = ref(true)\n\n// Load initial state from localStorage for this specific date\nconst loadActionButtonsState = () => {\n  try {\n    const saved = localStorage.getItem(SHOW_ACTION_BUTTONS_KEY)\n    if (saved !== null) {\n      const allStates = JSON.parse(saved)\n      if (typeof allStates === 'object' && allStates[props.group.date] !== undefined) {\n        showActionButtons.value = allStates[props.group.date]\n      }\n    }\n  } catch (error) {\n    console.warn('Failed to load action buttons state from localStorage:', error)\n    showActionButtons.value = true // fallback to default\n  }\n}\n\n// Save state to localStorage for this specific date\nconst saveActionButtonsState = () => {\n  try {\n    const saved = localStorage.getItem(SHOW_ACTION_BUTTONS_KEY)\n    let allStates: Record<string, boolean> = {}\n    \n    if (saved !== null) {\n      allStates = JSON.parse(saved)\n    }\n    \n    allStates[props.group.date] = showActionButtons.value\n    localStorage.setItem(SHOW_ACTION_BUTTONS_KEY, JSON.stringify(allStates))\n  } catch (error) {\n    console.warn('Failed to save action buttons state to localStorage:', error)\n  }\n}\n\n// Watch for changes and save to localStorage\nwatch(showActionButtons, () => {\n  saveActionButtonsState()\n})\n\n// State for topic accordions\nconst expandedTopics = ref<Record<string, boolean>>({})\n\n// State for topic pagination (5 words per page)\nconst topicPaginationState = ref<Record<string, { currentPage: number }>>({}) \nconst itemsPerCategoryPage = 5\nconst TOPIC_PAGINATION_STORAGE_KEY = 'vocabulary-topic-pagination-state'\n\n// Load topic pagination state from localStorage\nconst loadTopicPaginationState = (): Record<string, { currentPage: number }> => {\n  try {\n    const stored = localStorage.getItem(TOPIC_PAGINATION_STORAGE_KEY)\n    return stored ? JSON.parse(stored) : {}\n  } catch (error) {\n    console.warn('Failed to load topic pagination state from localStorage:', error)\n    return {}\n  }\n}\n\n// Save topic pagination state to localStorage\nconst saveTopicPaginationState = (state: Record<string, { currentPage: number }>) => {\n  try {\n    localStorage.setItem(TOPIC_PAGINATION_STORAGE_KEY, JSON.stringify(state))\n  } catch (error) {\n    console.warn('Failed to save topic pagination state to localStorage:', error)\n  }\n}\n\n// Toggle topic accordion\nconst toggleTopicAccordion = (topic: string) => {\n  expandedTopics.value[topic] = !expandedTopics.value[topic]\n  \n  // Initialize pagination state for this topic if not exists\n  if (!topicPaginationState.value[topic]) {\n    topicPaginationState.value[topic] = { currentPage: 1 }\n  }\n}\n\nconst isTopicExpanded = (topic: string) => {\n  return expandedTopics.value[topic] || false\n}\n\n// Get current page for a topic\nconst getTopicCurrentPage = (topic: string): number => {\n  return topicPaginationState.value[topic]?.currentPage || 1\n}\n\n// Set current page for a topic\nconst setTopicCurrentPage = (topic: string, page: number) => {\n  if (!topicPaginationState.value[topic]) {\n    topicPaginationState.value[topic] = { currentPage: 1 }\n  }\n  topicPaginationState.value[topic].currentPage = page\n  // Save to localStorage\n  saveTopicPaginationState(topicPaginationState.value)\n}\n\n// Get paginated vocabularies for a topic\nconst getPaginatedTopicVocabularies = (topicGroup: any) => {\n  const currentPage = getTopicCurrentPage(topicGroup.topic)\n  const totalItems = topicGroup.vocabularies.length\n  const startIndex = (currentPage - 1) * itemsPerCategoryPage\n  const endIndex = startIndex + itemsPerCategoryPage\n  \n  return {\n    vocabularies: topicGroup.vocabularies.slice(startIndex, endIndex),\n    currentPage,\n    totalPages: Math.ceil(totalItems / itemsPerCategoryPage),\n    totalItems,\n    startIndex: startIndex + 1,\n    endIndex: Math.min(endIndex, totalItems),\n    hasNext: currentPage < Math.ceil(totalItems / itemsPerCategoryPage),\n    hasPrevious: currentPage > 1\n  }\n}\n\n// Category pagination functions\nconst goToTopicPage = (topic: string, page: number) => {\n  const totalItems = props.group.topics?.find(t => t.topic === topic)?.vocabularies.length || 0\n  const totalPages = Math.ceil(totalItems / itemsPerCategoryPage)\n  \n  if (page >= 1 && page <= totalPages) {\n    setTopicCurrentPage(topic, page)\n  }\n}\n\nconst nextTopicPage = (topic: string) => {\n  const currentPage = getTopicCurrentPage(topic)\n  const totalItems = props.group.topics?.find(t => t.topic === topic)?.vocabularies.length || 0\n  const totalPages = Math.ceil(totalItems / itemsPerCategoryPage)\n  \n  if (currentPage < totalPages) {\n    setTopicCurrentPage(topic, currentPage + 1)\n  }\n}\n\nconst previousTopicPage = (topic: string) => {\n  const currentPage = getTopicCurrentPage(topic)\n  if (currentPage > 1) {\n    setTopicCurrentPage(topic, currentPage - 1)\n  }\n}\n\n// Generate visible page numbers for topic pagination (smart pagination)\nconst getVisibleTopicPages = (currentPage: number, totalPages: number): number[] => {\n  if (totalPages <= 7) {\n    return Array.from({ length: totalPages }, (_, i) => i + 1)\n  }\n  \n  if (currentPage <= 4) {\n    return [1, 2, 3, 4, 5, -1, totalPages]\n  }\n  \n  if (currentPage >= totalPages - 3) {\n    return [1, -1, totalPages - 4, totalPages - 3, totalPages - 2, totalPages - 1, totalPages]\n  }\n  \n  return [1, -1, currentPage - 1, currentPage, currentPage + 1, -1, totalPages]\n}\n\n// Handle topic hover for expand/collapse\nconst hoverTimeouts = ref<Record<string, number>>({})\n\nconst handleTopicHover = (topic: string, isHovering: boolean) => {\n  if (props.hoverToExpandEnabled) {\n    // Clear any existing timeout for this topic\n    if (hoverTimeouts.value[topic]) {\n      clearTimeout(hoverTimeouts.value[topic])\n      delete hoverTimeouts.value[topic]\n    }\n    \n    if (isHovering) {\n      // Immediately expand on hover\n      expandedTopics.value[topic] = true\n    } else {\n      // Delay collapse to allow for modal interactions\n      hoverTimeouts.value[topic] = setTimeout(() => {\n        // Close the topic after delay, but check if modal opened during delay\n        if (!isModalOpen()) {\n          expandedTopics.value[topic] = false\n        }\n        delete hoverTimeouts.value[topic]\n      }, 200) // 200ms delay\n    }\n  }\n}\n\n// Track if mouse is outside vocabulary area\nconst isMouseOutsideVocabulary = ref(false)\n\n// Handle vocabulary list mouse leave event\nconst handleVocabularyListMouseLeave = () => {\n  if (props.hoverToExpandEnabled) {\n    isMouseOutsideVocabulary.value = true\n    \n    // If no modal is open, close immediately\n    if (!isModalOpen()) {\n      closeAllTopics()\n    }\n    // If modal is open, categories will close when modal closes (via watcher)\n  }\n}\n\n// Handle vocabulary list mouse enter event\nconst handleVocabularyListMouseEnter = () => {\n  if (props.hoverToExpandEnabled) {\n    isMouseOutsideVocabulary.value = false\n  }\n}\n\n// Close all topics helper function\nconst closeAllTopics = () => {\n  Object.keys(expandedTopics.value).forEach(topic => {\n    expandedTopics.value[topic] = false\n  })\n  // Clear any pending timeouts\n  Object.keys(hoverTimeouts.value).forEach(topic => {\n    if (hoverTimeouts.value[topic]) {\n      clearTimeout(hoverTimeouts.value[topic])\n      delete hoverTimeouts.value[topic]\n    }\n  })\n}\n\n// Check if any modal is currently open\nconst isModalOpen = (): boolean => {\n  // Check for common modal/dialog selectors\n  const modalSelectors = [\n    '[role=\"dialog\"]',\n    '.modal',\n    '.dialog',\n    '[data-headlessui-state=\"open\"]', // HeadlessUI modals\n    '.fixed.inset-0', // Common modal backdrop pattern\n  ]\n  \n  return modalSelectors.some(selector => {\n    const elements = document.querySelectorAll(selector)\n    return Array.from(elements).some(el => {\n      const style = window.getComputedStyle(el)\n      return style.display !== 'none' && style.visibility !== 'hidden'\n    })\n  })\n}\n\n// Topic functionality state\nconst showTopicInput = ref(false)\nconst topicInputValue = ref('')\nconst topicInput = ref<HTMLInputElement>()\nconst groupTopic = ref('')\nconst showTopicTooltip = ref(false)\nconst topicSpanMobile = ref<HTMLElement>()\nconst topicSpanDesktop = ref<HTMLElement>()\n\n// Local storage key for topics\nconst TOPICS_STORAGE_KEY = 'vocabulary-group-topics'\n\n// Load group topics from localStorage\nconst getStoredTopics = (): Record<string, string> => {\n  try {\n    const stored = localStorage.getItem(TOPICS_STORAGE_KEY)\n    return stored ? JSON.parse(stored) : {}\n  } catch (error) {\n    console.warn('Failed to load group topics from localStorage:', error)\n    return {}\n  }\n}\n\n// Save group topics to localStorage\nconst setStoredTopics = (topics: Record<string, string>) => {\n  try {\n    localStorage.setItem(TOPICS_STORAGE_KEY, JSON.stringify(topics))\n  } catch (error) {\n    console.warn('Failed to save group topics to localStorage:', error)\n  }\n}\n\n// Topic functionality methods\nconst editTopic = () => {\n  topicInputValue.value = groupTopic.value\n  showTopicInput.value = true\n  nextTick(() => {\n    topicInput.value?.focus()\n  })\n}\n\nconst saveTopic = () => {\n  const trimmedTopic = topicInputValue.value.trim()\n  groupTopic.value = trimmedTopic\n  \n  // Update localStorage\n  const storedTopics = getStoredTopics()\n  if (trimmedTopic) {\n    storedTopics[props.group.date] = trimmedTopic\n  } else {\n    delete storedTopics[props.group.date]\n  }\n  setStoredTopics(storedTopics)\n  \n  // Reset input state\n  showTopicInput.value = false\n  topicInputValue.value = ''\n}\n\nconst cancelTopicInput = () => {\n  showTopicInput.value = false\n  topicInputValue.value = ''\n}\n\n// Move modal state moved to parent (VocabularyListView)\n\n// Handle move vocabulary event\nconst handleMoveVocabulary = (data: { word: any, targetDate: string }) => {\n  // Always emit to parent - let parent handle modal display\n  emit('move-vocabulary', data)\n}\n\n// Modal methods moved to parent (VocabularyListView)\n\n// Format date for display\nconst formatDateForDisplay = (dateStr: string) => {\n  const date = new Date(dateStr)\n  return date.toLocaleDateString(locale.value, {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  })\n}\n\n// Calculate accordion content height for smooth animation\nconst calculateHeight = async () => {\n  if (!accordionContent.value) return\n  \n  const innerElement = accordionContent.value.querySelector('.accordion-inner') as HTMLElement\n  if (innerElement) {\n    // Create a temporary clone to measure height without affecting current element\n    const clone = innerElement.cloneNode(true) as HTMLElement\n    clone.style.visibility = 'hidden'\n    clone.style.position = 'absolute'\n    clone.style.height = 'auto'\n    clone.style.maxHeight = 'none'\n    clone.style.overflow = 'visible'\n    \n    document.body.appendChild(clone)\n    \n    await nextTick()\n    \n    accordionMaxHeight.value = clone.scrollHeight + 24 // Add padding\n    \n    document.body.removeChild(clone)\n  }\n}\n\n// Watch for modal state changes to close categories when modal closes\nconst modalWatchInterval = ref<number | null>(null)\n\n// Start watching for modal changes when component mounts\nconst startModalWatcher = () => {\n  if (modalWatchInterval.value) return\n  \n  modalWatchInterval.value = setInterval(() => {\n    if (props.hoverToExpandEnabled && isMouseOutsideVocabulary.value && !isModalOpen()) {\n      closeAllTopics()\n    }\n  }, 300) // Check every 300ms\n}\n\n// Stop modal watcher\nconst stopModalWatcher = () => {\n  if (modalWatchInterval.value) {\n    clearInterval(modalWatchInterval.value)\n    modalWatchInterval.value = null\n  }\n}\n\nconst toggleAccordion = () => {\n  isExpanded.value = !isExpanded.value\n  emit('accordion-toggle', props.group.date, isExpanded.value)\n}\n\n// Open add vocabulary dialog for this specific date\nconst openAddVocabularyDialog = () => {\n  emit('open-add-vocabulary-dialog', props.group.date)\n}\n\n// Open grammar manager modal for this specific date\nconst openGrammarManager = (date: string) => {\n  emit('open-grammar-manager', date)\n}\n\n// Handle batch move for all words in a category\nconst handleBatchMoveCategory = (topicGroup: any) => {\n  // Emit batch move event with all words in the category\n  emit('batch-move-category', {\n    topic: topicGroup.topic,\n    words: topicGroup.vocabularies,\n    sourceDate: props.group.date\n  })\n}\n\n// Info tooltip: available dates with same topic\nconst availableDatesByTopic = ref<Record<string, { date: string; count: number }[]>>({})\nconst infoHoverTopic = ref<string | null>(null)\n// Pending open key for cross-page navigation fallback\nconst PENDING_OPEN_KEY = 'open-date-topic-pending'\n\nconst handleInfoMouseEnter = (topic: string) => {\n  infoHoverTopic.value = topic\n  emit('request-available-dates', { topic, currentDate: props.group.date })\n}\n\nconst handleInfoMouseLeave = () => {\n  // Delay hiding so user can move into tooltip panel\n  setTimeout(() => {\n    if (!isHoveringTooltip.value) {\n      infoHoverTopic.value = null\n    }\n  }, 120)\n}\n\nconst handleAvailableDatesResponse = (e: Event) => {\n  const detail = (e as CustomEvent).detail as { topic: string; currentDate: string; availableDates: { date: string; count: number }[] }\n  if (!detail) return\n  if (detail.currentDate !== props.group.date) return\n  availableDatesByTopic.value[detail.topic] = detail.availableDates || []\n}\n\n// Navigate to another date/topic from tooltip  \nconst handleNavigateClick = (targetDate: string, topic: string) => {\n  console.log('🎯 Tooltip navigation:', { targetDate, topic, currentDate: props.group.date })\n  infoHoverTopic.value = null\n  \n  // If navigating within same date, expand the target topic immediately\n  if (targetDate === props.group.date) {\n    console.log('📍 Same date navigation - expanding locally')\n    isExpanded.value = true\n    expandedTopics.value[topic] = true\n    nextTick(() => {\n      const el = document.getElementById(`date-group-${props.group.date}-topic-${topic}`)\n      if (el && typeof el.scrollIntoView === 'function') {\n        el.scrollIntoView({ behavior: 'smooth', block: 'center' })\n      }\n    })\n  } else {\n    // For different dates, emit to parent for navigation\n    console.log('🚀 Cross-date navigation - emitting to parent')\n    emit('navigate-to-date-topic', { date: targetDate, topic })\n  }\n}\n\n// Receive open instructions from parent to expand and scroll\nconst handleOpenDateTopic = (e: Event) => {\n  const detail = (e as CustomEvent).detail as { date: string; topic: string }\n  console.log('📨 Received open-date-topic event:', { detail, currentDate: props.group.date })\n  \n  if (!detail) {\n    console.log('❌ No detail in event')\n    return\n  }\n  \n  if (detail.date !== props.group.date) {\n    console.log('⏭️ Event not for this date group')\n    return\n  }\n  \n  console.log('✅ Opening accordion for cross-date navigation:', detail.topic)\n  // Expand group and topic, then scroll\n  isExpanded.value = true\n  expandedTopics.value[detail.topic] = true\n  // Sync with parent for persistence\n  emit('accordion-toggle', props.group.date, true)\n  if (props.accordionState) {\n    // Best-effort local persistence (object is passed by reference from parent)\n    props.accordionState[props.group.date] = true\n  }\n  nextTick(() => {\n    // Delay a bit to ensure inner topic list has fully rendered\n    setTimeout(() => {\n      const el = document.getElementById(`date-group-${props.group.date}-topic-${detail.topic}`)\n      if (el && typeof el.scrollIntoView === 'function') {\n        console.log('🎯 Scrolling to topic element')\n        el.scrollIntoView({ behavior: 'smooth', block: 'center' })\n      } else {\n        console.log('❌ Topic element not found:', `date-group-${props.group.date}-topic-${detail.topic}`)\n      }\n      // Clear pending key if present to avoid later unintended opens\n      try { sessionStorage.removeItem(PENDING_OPEN_KEY) } catch {}\n    }, 100)\n  })\n}\n\n// Track hover state inside tooltip to prevent flicker\nconst isHoveringTooltip = ref(false)\nconst handleTooltipMouseEnter = () => {\n  isHoveringTooltip.value = true\n}\nconst handleTooltipMouseLeave = () => {\n  isHoveringTooltip.value = false\n  // When leaving tooltip, close if icon isn't hovered either\n  infoHoverTopic.value = null\n}\n\n// Initialize component\nonMounted(async () => {\n  // Load action buttons state from localStorage\n  loadActionButtonsState()\n  \n  // Load topic pagination state from localStorage\n  topicPaginationState.value = loadTopicPaginationState()\n  \n  // Check if there's a saved state for this date group\n  if (props.accordionState && typeof props.accordionState[props.group.date] === 'boolean') {\n    isExpanded.value = props.accordionState[props.group.date]\n  }\n  \n  // Load saved topic for this group\n  const storedTopics = getStoredTopics()\n  if (storedTopics[props.group.date]) {\n    groupTopic.value = storedTopics[props.group.date]\n  }\n  \n  // Add event listeners for hover behavior\n  window.addEventListener('vocabulary-list-mouse-leave', handleVocabularyListMouseLeave)\n  window.addEventListener('vocabulary-list-mouse-enter', handleVocabularyListMouseEnter)\n  \n  // Start modal watcher\n  startModalWatcher()\n  \n  // Calculate height for smooth animation\n  await nextTick()\n  await calculateHeight()\n\n  // Fallback: If event fired before we mounted, open from sessionStorage\n  try {\n    const raw = sessionStorage.getItem(PENDING_OPEN_KEY)\n    if (raw) {\n      const pending = JSON.parse(raw) as { date: string; topic: string } | null\n      if (pending && pending.date === props.group.date) {\n        console.log('🧭 Applying pending open on mount:', pending)\n        isExpanded.value = true\n        expandedTopics.value[pending.topic] = true\n        emit('accordion-toggle', props.group.date, true)\n        if (props.accordionState) {\n          props.accordionState[props.group.date] = true\n        }\n        nextTick(() => {\n          setTimeout(() => {\n            const el = document.getElementById(`date-group-${props.group.date}-topic-${pending.topic}`)\n            if (el && typeof el.scrollIntoView === 'function') {\n              el.scrollIntoView({ behavior: 'smooth', block: 'center' })\n            }\n          }, 100)\n        })\n        sessionStorage.removeItem(PENDING_OPEN_KEY)\n      }\n    }\n  } catch (err) {\n    console.warn('Failed to apply pending open-date-topic on mount:', err)\n  }\n\n  // Listen for available dates response from parent\n  window.addEventListener('available-dates-response', handleAvailableDatesResponse as EventListener)\n  // Listen for open/scroll command from parent after pagination change\n  window.addEventListener('open-date-topic', handleOpenDateTopic as EventListener)\n})\n\n// Cleanup on unmount\nonUnmounted(() => {\n  window.removeEventListener('vocabulary-list-mouse-leave', handleVocabularyListMouseLeave)\n  window.removeEventListener('vocabulary-list-mouse-enter', handleVocabularyListMouseEnter)\n  \n  // Stop modal watcher\n  stopModalWatcher()\n  \n  // Clear any remaining timeouts\n  Object.keys(hoverTimeouts.value).forEach(topic => {\n    if (hoverTimeouts.value[topic]) {\n      clearTimeout(hoverTimeouts.value[topic])\n    }\n  })\n\n  // Remove available dates response listener\n  window.removeEventListener('available-dates-response', handleAvailableDatesResponse as EventListener)\n  window.removeEventListener('open-date-topic', handleOpenDateTopic as EventListener)\n})\n\nconst emit = defineEmits<{\n  'play-audio': [word: string]\n  'edit-word': [word: any]\n  'delete-word': [word: any]\n  'toggle-favorite': [word: any]\n  'view-details': [word: any]\n  'date-group-previous': [date: string]\n  'date-group-next': [date: string]\n  'accordion-toggle': [date: string, expanded: boolean]\n  'note-saved': [date: string, note: string, markedWords: string[]]\n  'open-note-dialog': [payload: { date: string, words: any[] }]\n  'open-add-vocabulary-dialog': [date: string]\n  'open-grammar-manager': [date: string]\n  'move-vocabulary': [data: { word: any, targetDate: string }]\n  'request-available-dates': [data: { topic: string, currentDate: string }]\n  'navigate-to-date-topic': [payload: { date: string, topic: string }]\n  'batch-move-category': [data: { topic: string, words: any[], sourceDate: string }]\n}>()\n</script>\n\n<style scoped>\n/* Smooth transition for chevron icon */\nsvg {\n  transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n  will-change: transform;\n}\n\n/* Accordion transition classes */\n.accordion-enter-active,\n.accordion-leave-active {\n  transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\n  transform-origin: top;\n}\n\n.accordion-enter-from {\n  opacity: 0;\n  transform: translateY(-10px) scaleY(0.8);\n}\n\n.accordion-leave-to {\n  opacity: 0;\n  transform: translateY(-10px) scaleY(0.8);\n}\n\n.accordion-enter-to,\n.accordion-leave-from {\n  opacity: 1;\n  transform: translateY(0) scaleY(1);\n}\n\n/* Ensure smooth rendering */\n.accordion-content {\n  transform-origin: top;\n  backface-visibility: hidden;\n}\n\n/* Topic Accordion transition classes */\n.topic-accordion-enter-active,\n.topic-accordion-leave-active {\n  transition: all 0.3s ease-out;\n}\n.topic-accordion-enter-from,\n.topic-accordion-leave-to {\n  opacity: 0;\n  transform: translateY(-5px);\n}\n</style>\n"],"file":"assets/DateGroupAccordion-CSS4-OVM.js"}