const t=(t,e="vi-VN")=>{if(!t)return"";try{return new Date(t).toLocaleDateString(e,{year:"numeric",month:"long",day:"numeric"})}catch(r){return""}},e=(e,r)=>{if(!e)return"";try{const a=new Date(e),o=(new Date).getTime()-a.getTime(),n=Math.floor(o/36e5),s=Math.floor(n/24);if(n<1){const t=Math.floor(o/6e4);return t<1?r?r("time.ago.justNow"):"Just now":r?r("time.ago.minutesAgo",{minutes:t}):`${t} minutes ago`}return n<24?r?r("time.ago.hoursAgo",{hours:n}):`${n} hours ago`:1===s?r?r("time.ago.yesterday"):"Yesterday":s<7?r?r("time.ago.daysAgo",{days:s}):`${s} days ago`:t(e)}catch(a){return""}},r=t=>{if(!t)return"";try{return new Date(t).toISOString().split("T")[0]}catch(e){return""}},a=t=>{const e=new Map,r="Uncategorized";t.forEach(t=>{const a=t.category||r;e.has(a)||e.set(a,[]),e.get(a).push(t)});return Array.from(e.entries()).map(([t,e])=>{const r=e[0];return{topic:t,categoryName:r?.categoryName||null,vocabularies:e.sort((t,e)=>{const r=new Date(t.createdAt||"").getTime();return new Date(e.createdAt||"").getTime()-r})}}).sort((t,e)=>t.topic===r?1:e.topic===r?-1:t.topic.localeCompare(e.topic))},o=(t,e="vi-VN",r)=>n(t,e,r).map(t=>({...t,topics:a(t.vocabularies)})),n=(t,e="vi-VN",a)=>{const o=new Map;t.forEach(t=>{const e=r(t.createdAt);e&&(o.has(e)||o.set(e,[]),o.get(e).push(t))});return Array.from(o.entries()).map(([t,r])=>({date:t,displayDate:s(t,e,a),vocabularies:r.sort((t,e)=>{const r=new Date(t.createdAt||"").getTime();return new Date(e.createdAt||"").getTime()-r})})).sort((t,e)=>e.date.localeCompare(t.date))},s=(e,a="vi-VN",o)=>{try{const n=new Date(e+"T00:00:00"),s=new Date,i=new Date(s);i.setDate(s.getDate()-1);const c=r(s.toISOString()),u=r(i.toISOString());if(e===c){if(o)return o("time.today")||"Today";const t=a.toLowerCase();return t.startsWith("vi")?"Hôm nay":t.startsWith("ko")?"오늘":"Today"}if(e===u){if(o)return o("time.yesterday")||"Yesterday";const t=a.toLowerCase();return t.startsWith("vi")?"Hôm qua":t.startsWith("ko")?"어제":"Yesterday"}return t(n.toISOString(),a)}catch(n){return e}};export{r as a,n as b,o as c,t as f,e as g};
