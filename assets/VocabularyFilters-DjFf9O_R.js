const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["/web-english/assets/BaseAccordion-DQkowxOL.js","/web-english/assets/vue-vendor-Bt65BSdi.js","/web-english/assets/_plugin-vue_export-helper-BCo6x5W8.js","/web-english/assets/BaseAccordion-DsqjnQjB.css"])))=>i.map(i=>d[i]);
import{_ as e}from"./index-DmJNupMF.js";import{d as t,A as a,C as l,I as r,a2 as s,b as o,v as n,w as i,f as u,t as d,u as c,a3 as v,c as p,e as b,a as m,M as x,_ as g,F as w,j as f,n as h,N as y,q as k}from"./vue-vendor-Bt65BSdi.js";import{u as L}from"./ui-vendor-D-J_fEQ5.js";import{a as C}from"./topicUtils-CuplmVBM.js";const E={class:"p-2 xs:p-3 sm:p-4 md:p-5 lg:p-6"},_={class:"grid grid-cols-1 xs:grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-2 xs:gap-3 sm:gap-4 lg:gap-6"},A={class:"col-span-1 xs:col-span-1 sm:col-span-2 md:col-span-2"},F={class:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-white mb-1 xs:mb-1.5 sm:mb-2"},M={class:"group relative"},R={class:"rounded-md p-[1px] bg-gradient-to-r from-blue-500 via-emerald-500 to-purple-500 transition duration-300 group-focus-within:brightness-110"},B={class:"relative rounded-md bg-white dark:bg-[#0a0a0a]"},j=["value","placeholder"],O={class:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-white mb-1 xs:mb-1.5 sm:mb-2"},D={class:"group relative"},S={class:"rounded-md p-[1px] bg-gradient-to-r from-blue-500 via-emerald-500 to-purple-500 transition duration-300 group-focus-within:brightness-110"},T={class:"relative rounded-md bg-white dark:bg-[#0a0a0a]"},z=["aria-expanded"],I={class:"truncate text-left"},P={class:"p-2 border-b border-gray-200 dark:border-blue-900/30 bg-white dark:bg-[#0a0a0a]"},$=["placeholder"],H=["onClick"],Q={class:"col-span-1"},U={class:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-white mb-1 xs:mb-1.5 sm:mb-2"},V={class:"rounded-md p-[1px] bg-gradient-to-r from-blue-500 via-emerald-500 to-purple-500 transition duration-300 group-focus-within:brightness-110"},Y={class:"relative rounded-md bg-white dark:bg-[#0a0a0a]"},W=["aria-expanded"],q={class:"truncate text-left"},K={class:"max-h-80 overflow-y-auto py-1 divide-y divide-blue-50 dark:divide-blue-900/20"},N={class:"mt-2 xs:mt-3 sm:mt-4"},G=["aria-pressed","title"],J={class:"leading-none"},X=t({__name:"VocabularyFilters",props:{searchQuery:{},selectedCategory:{},selectedLevel:{},categories:{},showFavoritesOnly:{type:Boolean}},emits:["update:searchQuery","update:selectedCategory","update:selectedLevel","update:showFavoritesOnly"],setup(t,{emit:X}){const Z=y(()=>e(()=>import("./BaseAccordion-DQkowxOL.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),{t:ee,locale:te}=L(),ae=t,le=X,re=e=>C(e,ee,{value:te.value}),se=a(!1),oe=a(null),ne=a(null),ie=a(null),ue=a(null),de=a(null),ce=a(""),ve=a({}),pe=l(()=>ae.selectedCategory?re(ae.selectedCategory):ee("common.all","All")),be=a(!1),me=a(null),xe=a(null),ge=a(null),we=a({}),fe=l(()=>{switch(ae.selectedLevel){case"beginner":return ee("vocabulary.levels.beginner","Beginner");case"intermediate":return ee("vocabulary.levels.intermediate","Intermediate");case"advanced":return ee("vocabulary.levels.advanced","Advanced");default:return ee("common.all","All")}}),he=l(()=>{const e=ce.value.trim().toLowerCase();return e?ae.categories.filter(t=>re(t).toLowerCase().includes(e)||t.toLowerCase().includes(e)):ae.categories}),ye=()=>{const e=ne.value;if(!e)return;const t=e.getBoundingClientRect(),a=t.bottom,l=t.left,r=t.width,s=window.innerWidth-8-r,o=Math.max(8,Math.min(l,s));ve.value={top:`${a}px`,left:`${o}px`,width:`${r}px`}},ke=async()=>{se.value=!se.value,se.value?(ce.value="",await k(),ye(),Ie(),de.value?.focus()):Pe()},Le=e=>{le("update:selectedCategory",e),se.value=!1,Pe()},Ce=()=>{const e=xe.value;if(!e)return;const t=e.getBoundingClientRect(),a=t.bottom,l=t.left,r=t.width,s=window.innerWidth-8-r,o=Math.max(8,Math.min(l,s));we.value={top:`${a}px`,left:`${o}px`,width:`${r}px`}},Ee=async()=>{be.value=!be.value,be.value&&(await k(),Ce())},_e=e=>{le("update:selectedLevel",e),be.value=!1},Ae=e=>{const t=e.target,a=oe.value,l=ie.value,r=!!a&&a.contains(t),s=!!l&&l.contains(t);r||s||se.value&&(se.value=!1,Pe());const o=me.value,n=ge.value,i=!!o&&o.contains(t),u=!!n&&n.contains(t);i||u||be.value&&(be.value=!1)},Fe=()=>{se.value&&ye(),be.value&&Ce()},Me=e=>{if(se.value){const t=ie.value,a=oe.value,l=e?.target||null;if(t&&l&&t.contains(l))return;if(a&&l&&a.contains(l))return;se.value=!1}if(be.value){const t=ge.value,a=me.value,l=e?.target||null;if(t&&l&&t.contains(l))return;if(a&&l&&a.contains(l))return;be.value=!1}},Re=e=>{const t=e.target,a=ie.value,l=ge.value,r=oe.value,s=me.value;a&&t&&a.contains(t)||l&&t&&l.contains(t)||r&&t&&r.contains(t)||s&&t&&s.contains(t)||(se.value&&(se.value=!1),be.value&&(be.value=!1))},Be=e=>{if(["PageUp","PageDown","Home","End"," ","ArrowDown","ArrowUp"].includes(e.key)){if(se.value){const t=ie.value,a=oe.value,l=e.target;if(t&&l&&t.contains(l))return;if(a&&l&&a.contains(l))return;se.value=!1}if(be.value){const t=ge.value,a=me.value,l=e.target;if(t&&l&&t.contains(l))return;if(a&&l&&a.contains(l))return;be.value=!1}}};r(()=>{window.addEventListener("click",Ae,{passive:!0}),window.addEventListener("scroll",Me,!0),window.addEventListener("wheel",Re,{passive:!1,capture:!0}),window.addEventListener("touchstart",Re,{passive:!0,capture:!0}),window.addEventListener("touchmove",Re,{passive:!1,capture:!0}),window.addEventListener("pointerdown",Re,{capture:!0}),window.addEventListener("mousedown",Re,{capture:!0}),window.addEventListener("keydown",Be),window.addEventListener("resize",Fe)}),s(()=>{window.removeEventListener("click",Ae),window.removeEventListener("scroll",Me,!0),window.removeEventListener("wheel",Re,!0),window.removeEventListener("touchstart",Re,!0),window.removeEventListener("touchmove",Re,!0),window.removeEventListener("pointerdown",Re,!0),window.removeEventListener("mousedown",Re,!0),window.removeEventListener("keydown",Be),window.removeEventListener("resize",Fe),Pe()});const je=e=>{const t=e.target;le("update:searchQuery",t.value)},Oe=()=>{le("update:showFavoritesOnly",!ae.showFavoritesOnly)},De=a(0),Se=e=>{const t=ue.value;if(!t)return;const a=e.deltaY,l=t.scrollTop<=0,r=t.scrollTop+t.clientHeight>=t.scrollHeight-1;(a<0&&l||a>0&&r)&&e.preventDefault(),e.stopPropagation()},Te=e=>{De.value=e.touches[0]?.clientY??0},ze=e=>{const t=ue.value;if(!t)return;const a=e.touches[0]?.clientY??0,l=De.value-a,r=t.scrollTop<=0,s=t.scrollTop+t.clientHeight>=t.scrollHeight-1;(l<0&&r||l>0&&s)&&e.preventDefault(),e.stopPropagation()},Ie=()=>{const e=ue.value;e&&(e.addEventListener("wheel",Se,{passive:!1}),e.addEventListener("touchstart",Te,{passive:!0}),e.addEventListener("touchmove",ze,{passive:!1}))},Pe=()=>{const e=ue.value;e&&(e.removeEventListener("wheel",Se),e.removeEventListener("touchstart",Te),e.removeEventListener("touchmove",ze))};return(e,t)=>(n(),o(c(Z),{title:c(ee)("vocabulary.filters.accordionTitle","Search & Filter"),description:c(ee)("vocabulary.filters.accordionDescription","Search and filter vocabulary words"),icon:"filter","default-open":!0,"persist-key":"vocabulary-filters"},{default:i(()=>[u("div",E,[u("div",_,[u("div",A,[u("label",F,d(c(ee)("common.search","Search")),1),u("div",M,[u("div",R,[u("div",B,[t[6]||(t[6]=u("span",{class:"pointer-events-none absolute inset-y-0 left-2.5 flex items-center"},[u("svg",{class:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-blue-500 dark:text-blue-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","aria-hidden":"true"},[u("circle",{cx:"11",cy:"11",r:"8"}),u("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})])],-1)),u("input",{value:e.searchQuery,onInput:je,type:"text",placeholder:c(ee)("vocabulary.searchPlaceholder","Search vocabulary..."),class:"w-full pl-8 pr-3 py-1.5 xs:pl-9 xs:pr-3 xs:py-2 sm:pl-9 sm:pr-3 sm:py-2 text-xs sm:text-sm rounded-md bg-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,j)])])])]),u("div",{class:"col-span-1",ref_key:"categoryDropdownRef",ref:oe},[u("label",O,d(c(ee)("vocabulary.category","Category")),1),u("div",D,[u("div",S,[u("div",T,[u("button",{type:"button",onClick:ke,"aria-expanded":se.value?"true":"false",ref_key:"categoryTriggerRef",ref:ne,class:"w-full inline-flex items-center justify-between px-2 py-1.5 xs:px-2.5 xs:py-2 sm:px-3 sm:py-2 text-xs sm:text-sm rounded-md bg-transparent text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"},[u("span",I,d(pe.value),1),t[7]||(t[7]=u("svg",{class:"ml-2 h-3.5 w-3.5 sm:h-4 sm:w-4 text-blue-500 dark:text-blue-400 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},[u("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.24 4.5a.75.75 0 01-1.08 0l-4.24-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})],-1))],8,z)])])]),(n(),o(v,{to:"body"},[se.value?(n(),p("div",{key:0,class:"fixed z-[9999] rounded-md border border-gray-300 dark:border-blue-900/30 bg-white dark:bg-[#0a0a0a] shadow-xl ring-1 ring-blue-100/50 dark:ring-blue-900/30 overflow-hidden",style:m(ve.value),ref_key:"categoryMenuRef",ref:ie},[u("div",P,[x(u("input",{ref_key:"categorySearchInputRef",ref:de,"onUpdate:modelValue":t[0]||(t[0]=e=>ce.value=e),type:"text",placeholder:c(ee)("common.search","Search"),class:"w-full px-2 py-1.5 text-xs sm:text-sm border border-gray-300 dark:border-blue-900/30 rounded-md bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,$),[[g,ce.value]])]),u("ul",{class:"max-h-80 overflow-y-auto divide-y divide-blue-50 dark:divide-blue-900/20",ref_key:"categoryMenuListRef",ref:ue},[u("li",null,[u("button",{type:"button",onClick:t[1]||(t[1]=e=>Le("")),class:"w-full text-left px-3 py-2 text-xs sm:text-sm hover:bg-blue-50 dark:hover:bg-blue-800/30 text-gray-700 dark:text-white"},d(c(ee)("common.all","All")),1)]),(n(!0),p(w,null,f(he.value,e=>(n(),p("li",{key:e},[u("button",{type:"button",onClick:t=>Le(e),class:"w-full text-left px-3 py-2 text-xs sm:text-sm hover:bg-blue-50 dark:hover:bg-blue-800/30 text-gray-700 dark:text-white"},d(re(e)),9,H)]))),128))],512)],4)):b("",!0)]))],512),u("div",Q,[u("label",U,d(c(ee)("vocabulary.level","Level")),1),u("div",{class:"group relative",ref_key:"levelDropdownRef",ref:me},[u("div",V,[u("div",Y,[u("button",{type:"button",onClick:Ee,"aria-expanded":be.value?"true":"false",ref_key:"levelTriggerRef",ref:xe,class:"w-full inline-flex items-center justify-between px-2 py-1.5 xs:px-2.5 xs:py-2 sm:px-3 sm:py-2 text-xs sm:text-sm rounded-md bg-transparent text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"},[u("span",q,d(fe.value),1),t[8]||(t[8]=u("svg",{class:"ml-2 h-3.5 w-3.5 sm:h-4 sm:w-4 text-blue-500 dark:text-blue-400 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},[u("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.24 4.5a.75.75 0 01-1.08 0l-4.24-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})],-1))],8,W),(n(),o(v,{to:"body"},[be.value?(n(),p("div",{key:0,ref_key:"levelMenuRef",ref:ge,class:"fixed z-[10000] rounded-md border border-blue-200 dark:border-blue-900/30 bg-white dark:bg-[#0a0a0a] shadow-xl ring-1 ring-blue-100/50 dark:ring-blue-900/30 overflow-hidden",style:m(we.value)},[u("ul",K,[u("li",null,[u("button",{type:"button",onClick:t[2]||(t[2]=e=>_e("")),class:"w-full text-left px-3 py-2 text-xs sm:text-sm hover:bg-blue-50 dark:hover:bg-blue-800/30 text-gray-700 dark:text-white"},d(c(ee)("common.all","All")),1)]),u("li",null,[u("button",{type:"button",onClick:t[3]||(t[3]=e=>_e("beginner")),class:"w-full text-left px-3 py-2 text-xs sm:text-sm hover:bg-blue-50 dark:hover:bg-blue-800/30 text-gray-700 dark:text-white"},d(c(ee)("vocabulary.levels.beginner","Beginner")),1)]),u("li",null,[u("button",{type:"button",onClick:t[4]||(t[4]=e=>_e("intermediate")),class:"w-full text-left px-3 py-2 text-xs sm:text-sm hover:bg-blue-50 dark:hover:bg-blue-800/30 text-gray-700 dark:text-white"},d(c(ee)("vocabulary.levels.intermediate","Intermediate")),1)]),u("li",null,[u("button",{type:"button",onClick:t[5]||(t[5]=e=>_e("advanced")),class:"w-full text-left px-3 py-2 text-xs sm:text-sm hover:bg-blue-50 dark:hover:bg-blue-800/30 text-gray-700 dark:text-white"},d(c(ee)("vocabulary.levels.advanced","Advanced")),1)])])],4)):b("",!0)]))])])],512)]),u("div",N,[u("button",{type:"button","aria-pressed":e.showFavoritesOnly?"true":"false",title:c(ee)("vocabulary.showFavoritesOnly","Show favorites only"),onClick:Oe,class:h(["inline-flex items-center select-none rounded-full border px-3 py-1.5 xs:px-3 xs:py-1.5 sm:px-3.5 sm:py-2 text-xs sm:text-sm transition-all duration-150",[e.showFavoritesOnly?"bg-rose-500 border-rose-600 text-white shadow hover:bg-rose-600":"bg-white border-blue-500 text-blue-600 hover:bg-blue-50 dark:bg-[#0a0a0a] dark:border-blue-400 dark:text-blue-300 dark:hover:bg-blue-900/30"]])},[t[9]||(t[9]=u("svg",{class:"w-4 h-4 sm:w-4.5 sm:h-4.5 mr-1.5",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[u("path",{d:"M12 21.35l-1.45-1.32C6.4 16.36 4 14.28 4 11.5 4 9.5 5.5 8 7.5 8c1.04 0 2.04.5 2.65 1.32.61-.82 1.61-1.32 2.65-1.32C15.5 8 17 9.5 17 11.5c0 2.78-2.4 4.86-6.55 8.54L12 21.35z"})],-1)),u("span",J,d(c(ee)("vocabulary.showFavoritesOnly","Show favorites only")),1)],10,G)])])])]),_:1},8,["title","description"]))}});export{X as default};
