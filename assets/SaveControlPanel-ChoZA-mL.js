import{u as e}from"./ui-vendor-D-J_fEQ5.js";import{d as a,A as t,D as o,I as s,C as l,c as r,v as n,f as i,t as u,u as d,n as c,e as g,g as v}from"./vue-vendor-Bt65BSdi.js";const x={class:"bg-white dark:bg-[#0a0a0a] rounded-xl shadow-lg border border-gray-200 dark:border-[#0f0f0f] mb-6 overflow-hidden"},p={class:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-[#0f0f0f] dark:to-[#0a0a0a] px-3 xs:px-4 sm:px-6 py-3 xs:py-4 border-b border-gray-200 dark:border-[#0f0f0f]"},m={class:"block sm:hidden"},b={class:"flex items-center justify-between mb-3"},y={class:"flex items-center space-x-2"},h={class:"text-base xs:text-lg font-semibold text-gray-900 dark:text-white"},f={class:"flex items-center justify-between"},k={class:"text-xs xs:text-sm text-gray-500 dark:text-gray-400 flex-1 pr-2"},S={class:"text-xs font-medium text-gray-600 dark:text-gray-400 flex-shrink-0"},w={class:"hidden sm:block"},F={class:"flex items-center justify-between"},C={class:"flex items-center space-x-3"},G={class:"text-lg font-semibold text-gray-900 dark:text-white"},I={class:"text-sm text-gray-500 dark:text-gray-400"},T={class:"flex items-center space-x-3"},E={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},j={class:"p-3 xs:p-4 sm:p-6"},A={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 xs:gap-8 sm:gap-10"},M={class:"lg:col-span-2 space-y-4 xs:space-y-6"},D={key:0,class:"bg-green-50 dark:bg-green-900/10 border border-green-200 dark:border-green-800 rounded-lg p-3 xs:p-4"},B={class:"text-xs xs:text-sm font-medium text-green-800 dark:text-green-400 mb-2 xs:mb-3"},N=["disabled"],H={key:0,class:"animate-spin h-3 xs:h-4 w-3 xs:w-4",fill:"none",viewBox:"0 0 24 24"},O={key:1,class:"h-3 xs:h-4 w-3 xs:w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},J={key:1,class:"bg-blue-50 dark:bg-blue-900/10 border border-blue-200 dark:border-blue-800 rounded-lg p-3 xs:p-4"},L={class:"text-xs xs:text-sm font-medium text-blue-800 dark:text-blue-400 mb-2 xs:mb-3"},P={class:"mb-3 xs:mb-4"},V={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1.5 xs:mb-2"},z=["value"],U={value:"local"},_={value:"google-drive"},R={class:"space-y-1.5 xs:space-y-2"},$={class:"bg-purple-50 dark:bg-purple-900/10 border border-purple-200 dark:border-purple-800 rounded-lg p-3 xs:p-4"},q={class:"text-xs xs:text-sm font-medium text-purple-800 dark:text-purple-400 mb-2 xs:mb-3"},K={class:"space-y-2 xs:space-y-2.5"},Q={class:"relative"},W={class:"space-y-3 xs:space-y-4"},X={class:"bg-gray-50 dark:bg-[#0f0f0f] border border-gray-200 dark:border-[#0f0f0f] rounded-lg p-3 xs:p-4"},Y={class:"text-xs xs:text-sm font-medium text-gray-800 dark:text-gray-200 mb-2 xs:mb-3"},Z={class:"space-y-2 xs:space-y-3"},ee={class:"flex items-center space-x-1.5 xs:space-x-2"},ae={class:"text-xs xs:text-sm text-gray-600 dark:text-gray-400"},te={class:"flex items-center space-x-1.5 xs:space-x-2 text-xs xs:text-sm text-gray-500 dark:text-gray-400"},oe={class:"truncate"},se={key:0,class:"bg-indigo-50 dark:bg-indigo-900/10 border border-indigo-200 dark:border-indigo-800 rounded-lg p-3 xs:p-4"},le={class:"text-xs xs:text-sm font-medium text-indigo-800 dark:text-indigo-400 mb-2 xs:mb-3"},re={class:"text-xs xs:text-sm text-gray-600 dark:text-gray-400"},ne={class:"mb-1.5 xs:mb-2"},ie={class:"font-medium"},ue={key:0,class:"text-xs text-green-600 dark:text-green-400"},de={key:1,class:"space-y-1"},ce={class:"text-xs text-green-600 dark:text-green-400"},ge={key:0,class:"text-xs text-gray-600 dark:text-gray-400"},ve={class:"font-medium"},xe={key:1,class:"text-xs text-yellow-600 dark:text-yellow-400"},pe="vocabulary-auto-save-enabled",me="vocabulary-storage-type",be="vocabulary-has-auto-save-file",ye="vocabulary-has-google-drive-file",he="vocabulary-is-google-signed-in",fe="vocabulary-auto-save-file-path",ke=a({__name:"SaveControlPanel",props:{autoSaveEnabled:{type:Boolean},isSaving:{type:Boolean},hasAutoSaveFile:{type:Boolean},hasGoogleDriveFile:{type:Boolean},isGoogleSignedIn:{type:Boolean},googleUserEmail:{},lastSaveTime:{},saveStatusColor:{},saveStatusText:{},autoSaveFilePath:{},storageType:{}},emits:["update:autoSaveEnabled","update:storageType","update:hasAutoSaveFile","update:hasGoogleDriveFile","update:isGoogleSignedIn","update:autoSaveFilePath","manual-save","setup-auto-save","reset-auto-save","import-file","google-sign-in","google-sign-out","setup-google-drive","sync-from-google-drive"],setup(a,{emit:ke}){const Se=a,we=ke,{t:Fe}=e(),Ce=t(null);o(()=>Se.autoSaveEnabled,e=>{(e=>{try{localStorage.setItem(pe,JSON.stringify(e))}catch(a){console.warn("Failed to save auto save setting to localStorage:",a)}})(e)}),o(()=>Se.storageType,e=>{(e=>{try{localStorage.setItem(me,e)}catch(a){console.warn("Failed to save storage type to localStorage:",a)}})(e)}),o(()=>Se.hasAutoSaveFile,e=>{(e=>{try{localStorage.setItem(be,JSON.stringify(e))}catch(a){console.warn("Failed to save auto save file state to localStorage:",a)}})(e)}),o(()=>Se.hasGoogleDriveFile,e=>{(e=>{try{localStorage.setItem(ye,JSON.stringify(e))}catch(a){console.warn("Failed to save Google Drive file state to localStorage:",a)}})(e)}),o(()=>Se.isGoogleSignedIn,e=>{(e=>{try{localStorage.setItem(he,JSON.stringify(e))}catch(a){console.warn("Failed to save Google sign-in state to localStorage:",a)}})(e)}),o(()=>Se.autoSaveFilePath,e=>{e&&(e=>{try{localStorage.setItem(fe,e)}catch(a){console.warn("Failed to save auto save file path to localStorage:",a)}})(e)}),s(()=>{const e=(()=>{try{const e=localStorage.getItem(pe);return null!==e?JSON.parse(e):null}catch(e){return console.warn("Failed to load auto save setting from localStorage:",e),null}})(),a=(()=>{try{const e=localStorage.getItem(me);return!e||"local"!==e&&"google-drive"!==e?null:e}catch(e){return console.warn("Failed to load storage type from localStorage:",e),null}})(),t=(()=>{try{const e=localStorage.getItem(be);return null!==e?JSON.parse(e):null}catch(e){return console.warn("Failed to load auto save file state from localStorage:",e),null}})(),o=(()=>{try{const e=localStorage.getItem(ye);return null!==e?JSON.parse(e):null}catch(e){return console.warn("Failed to load Google Drive file state from localStorage:",e),null}})(),s=(()=>{try{const e=localStorage.getItem(he);return null!==e?JSON.parse(e):null}catch(e){return console.warn("Failed to load Google sign-in state from localStorage:",e),null}})(),l=(()=>{try{return localStorage.getItem(fe)}catch(e){return console.warn("Failed to load auto save file path from localStorage:",e),null}})();null!==e&&e!==Se.autoSaveEnabled&&we("update:autoSaveEnabled",e),null!==a&&a!==Se.storageType&&we("update:storageType",a),null!==t&&t!==Se.hasAutoSaveFile&&we("update:hasAutoSaveFile",t),null!==o&&o!==Se.hasGoogleDriveFile&&we("update:hasGoogleDriveFile",o),null!==s&&s!==Se.isGoogleSignedIn&&we("update:isGoogleSignedIn",s),null!==l&&l!==Se.autoSaveFilePath&&we("update:autoSaveFilePath",l)});const Ge=l(()=>{const e=Fe("vocabulary.save.notSaved","Not saved");if(!Se.lastSaveTime)return e;const a=Fe("vocabulary.save.lastSave",{time:Se.lastSaveTime},"Last save: {time}");return a&&a.includes("{time}")?a.replace("{time}",Se.lastSaveTime):a||`Last save: ${Se.lastSaveTime}`}),Ie=e=>{const a=e.target;we("update:storageType",a.value)},Te=()=>{Ce.value?.click()},Ee=e=>{const a=e.target;a.files&&a.files.length>0&&(we("import-file",a.files[0]),a.value="")};return(e,a)=>(n(),r("div",null,[i("div",x,[i("div",p,[i("div",m,[i("div",b,[i("div",y,[a[8]||(a[8]=i("div",{class:"p-1.5 bg-blue-100 dark:bg-blue-900/20 rounded-lg"},[i("svg",{class:"h-4 w-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"})])],-1)),i("div",null,[i("h3",h,u(d(Fe)("vocabulary.save.title","Save & Sync")),1)])]),i("button",{onClick:a[0]||(a[0]=a=>we("update:autoSaveEnabled",!e.autoSaveEnabled)),class:c(["relative inline-flex h-5 w-9 items-center rounded-full transition-colors duration-200 flex-shrink-0",e.autoSaveEnabled?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"])},[i("span",{class:c(["inline-block h-3 w-3 transform rounded-full bg-white transition-transform duration-200",e.autoSaveEnabled?"translate-x-5":"translate-x-1"])},null,2)],2)]),i("div",f,[i("p",k,u(d(Fe)("vocabulary.save.subtitle","Manage your vocabulary data storage")),1),i("span",S,u(e.autoSaveEnabled?d(Fe)("vocabulary.save.auto","Auto"):d(Fe)("vocabulary.save.manual","Manual")),1)])]),i("div",w,[i("div",F,[i("div",C,[a[9]||(a[9]=i("div",{class:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg"},[i("svg",{class:"h-5 w-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"})])],-1)),i("div",null,[i("h3",G,u(d(Fe)("vocabulary.save.title","Save & Sync")),1),i("p",I,u(d(Fe)("vocabulary.save.subtitle","Manage your vocabulary data storage")),1)])]),i("div",T,[i("button",{onClick:a[1]||(a[1]=a=>we("update:autoSaveEnabled",!e.autoSaveEnabled)),class:c(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 flex-shrink-0",e.autoSaveEnabled?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"])},[i("span",{class:c(["inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200",e.autoSaveEnabled?"translate-x-6":"translate-x-1"])},null,2)],2),i("span",E,u(e.autoSaveEnabled?d(Fe)("vocabulary.save.auto","Auto"):d(Fe)("vocabulary.save.manual","Manual")),1)])])])])]),i("div",j,[i("div",A,[i("div",M,[e.autoSaveEnabled?g("",!0):(n(),r("div",D,[i("h4",B,u(d(Fe)("vocabulary.save.manualMode","Manual Save Mode")),1),i("button",{onClick:a[2]||(a[2]=e=>we("manual-save")),disabled:e.isSaving,class:"w-full px-3 xs:px-4 py-2 xs:py-2.5 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white text-sm xs:text-base font-medium rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 hover:shadow-md"},[e.isSaving?(n(),r("svg",H,a[10]||(a[10]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(n(),r("svg",O,a[11]||(a[11]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"},null,-1)]))),i("span",null,u(e.isSaving?d(Fe)("common.saving","Saving..."):d(Fe)("vocabulary.save.saveNow","Save Now")),1)],8,N)])),e.autoSaveEnabled?(n(),r("div",J,[i("h4",L,u(d(Fe)("vocabulary.save.autoMode","Auto Save Configuration")),1),i("div",P,[i("label",V,u(d(Fe)("vocabulary.save.storageType","Storage Type")),1),i("select",{value:e.storageType,onChange:Ie,class:"w-full px-2.5 xs:px-3 py-1.5 xs:py-2 text-xs xs:text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"},[i("option",U,u(d(Fe)("vocabulary.save.localStorage","Local File")),1),i("option",_,u(d(Fe)("vocabulary.save.googleDrive","Google Drive")),1)],40,z)]),i("div",R,["local"!==e.storageType||e.hasAutoSaveFile?g("",!0):(n(),r("button",{key:0,onClick:a[3]||(a[3]=e=>we("setup-auto-save")),class:"w-full px-3 xs:px-4 py-2 xs:py-2.5 bg-orange-600 hover:bg-orange-700 text-white text-sm xs:text-base font-medium rounded-lg transition-all duration-200 flex items-center justify-center space-x-1.5 xs:space-x-2 hover:shadow-md"},[a[12]||(a[12]=i("svg",{class:"h-3 xs:h-4 w-3 xs:w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)),i("span",null,u(d(Fe)("vocabulary.save.chooseAutoFile","Choose Auto File")),1)])),"google-drive"!==e.storageType||e.isGoogleSignedIn?g("",!0):(n(),r("button",{key:1,onClick:a[4]||(a[4]=e=>we("google-sign-in")),class:"w-full px-3 xs:px-4 py-2 xs:py-2.5 bg-red-600 hover:bg-red-700 text-white text-sm xs:text-base font-medium rounded-lg transition-all duration-200 flex items-center justify-center space-x-1.5 xs:space-x-2 hover:shadow-md"},[a[13]||(a[13]=i("svg",{class:"h-3 xs:h-4 w-3 xs:w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013 3v1"})],-1)),i("span",null,u(d(Fe)("vocabulary.save.signInGoogle","Sign in Google")),1)])),"google-drive"===e.storageType&&e.isGoogleSignedIn&&!e.hasGoogleDriveFile?(n(),r("button",{key:2,onClick:a[5]||(a[5]=e=>we("setup-google-drive")),class:"w-full px-3 xs:px-4 py-2 xs:py-2.5 bg-blue-600 hover:bg-blue-700 text-white text-sm xs:text-base font-medium rounded-lg transition-all duration-200 flex items-center justify-center space-x-1.5 xs:space-x-2 hover:shadow-md"},[a[14]||(a[14]=i("svg",{class:"h-3 xs:h-4 w-3 xs:w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),i("span",null,u(d(Fe)("vocabulary.save.setupDrive","Setup Google Drive")),1)])):g("",!0),"google-drive"===e.storageType&&e.isGoogleSignedIn&&e.hasGoogleDriveFile?(n(),r("button",{key:3,onClick:a[6]||(a[6]=e=>we("sync-from-google-drive")),class:"w-full px-3 xs:px-4 py-2 xs:py-2.5 bg-green-600 hover:bg-green-700 text-white text-sm xs:text-base font-medium rounded-lg transition-all duration-200 flex items-center justify-center space-x-1.5 xs:space-x-2 hover:shadow-md"},[a[15]||(a[15]=i("svg",{class:"h-3 xs:h-4 w-3 xs:w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),i("span",null,u(d(Fe)("vocabulary.save.syncFromDrive","Sync from Drive")),1)])):g("",!0),"local"===e.storageType&&e.hasAutoSaveFile||"google-drive"===e.storageType&&e.isGoogleSignedIn?(n(),r("button",{key:4,onClick:a[7]||(a[7]=a=>"local"===e.storageType?we("reset-auto-save"):we("google-sign-out")),class:"w-full px-3 xs:px-4 py-2 xs:py-2.5 bg-gray-500 hover:bg-gray-600 text-white text-sm xs:text-base font-medium rounded-lg transition-all duration-200 flex items-center justify-center space-x-1.5 xs:space-x-2 hover:shadow-md"},[a[16]||(a[16]=i("svg",{class:"h-3 xs:h-4 w-3 xs:w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),i("span",null,u("local"===e.storageType?d(Fe)("vocabulary.save.changeAutoFile","Change Auto File"):d(Fe)("vocabulary.save.signOutGoogle","Sign Out Google")),1)])):g("",!0)])])):g("",!0),i("div",$,[i("h4",q,u(d(Fe)("vocabulary.save.importExport","Import & Export")),1),i("div",K,[i("div",Q,[i("input",{ref_key:"fileInputRef",ref:Ce,type:"file",accept:".json",onChange:Ee,class:"hidden"},null,544),i("button",{onClick:Te,class:"w-full px-3 xs:px-4 py-2 xs:py-2.5 bg-purple-600 hover:bg-purple-700 text-white text-sm xs:text-base font-medium rounded-lg transition-all duration-200 flex items-center justify-center space-x-1.5 xs:space-x-2 hover:shadow-md"},[a[17]||(a[17]=i("svg",{class:"h-3 xs:h-4 w-3 xs:w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})],-1)),i("span",null,u(d(Fe)("vocabulary.save.importFromComputer","Import from Computer")),1)])])])])]),i("div",W,[i("div",X,[i("h4",Y,u(d(Fe)("vocabulary.save.status","Save Status")),1),i("div",Z,[i("div",ee,[i("div",{class:c(["h-2.5 xs:h-3 w-2.5 xs:w-3 rounded-full",e.saveStatusColor])},null,2),i("span",ae,u(e.saveStatusText),1)]),i("div",te,[a[18]||(a[18]=i("svg",{class:"h-3 xs:h-4 w-3 xs:w-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("span",oe,u(Ge.value),1)])])]),e.autoSaveEnabled?(n(),r("div",se,[i("h4",le,u(d(Fe)("vocabulary.save.storageInfo","Storage Information")),1),i("div",re,[i("p",ne,[i("span",ie,u(d(Fe)("vocabulary.save.type","Type"))+":",1),v(" "+u("local"===e.storageType?d(Fe)("vocabulary.save.localStorage","Local File"):d(Fe)("vocabulary.save.googleDrive","Google Drive")),1)]),"local"===e.storageType&&e.hasAutoSaveFile?(n(),r("p",ue," ✓ "+u(d(Fe)("vocabulary.save.fileConfigured","Auto-save file configured")),1)):g("",!0),"google-drive"===e.storageType&&e.isGoogleSignedIn?(n(),r("div",de,[i("p",ce," ✓ "+u(d(Fe)("vocabulary.save.googleConnected","Google Drive connected")),1),e.googleUserEmail?(n(),r("p",ge,[i("span",ve,u(d(Fe)("vocabulary.save.account","Account"))+":",1),v(" "+u(e.googleUserEmail),1)])):(n(),r("p",xe," ⚠️ Email not loaded - Sign out and sign in again "))])):g("",!0)])])):g("",!0)])])])]))}});export{ke as default};
