import{d as e,A as a,C as t,D as l,I as r,J as s,c as o,v as n,y as c,w as i,e as d,Y as u,f as g,i as y,t as b,u as p,n as v,M as f,_ as m,F as h,j as x}from"./vue-vendor-Bt65BSdi.js";import{u as k}from"./ui-vendor-D-J_fEQ5.js";import{u as w}from"./useVocabularyStore-CJz0zgKu.js";import{a as C}from"./topicUtils-CuplmVBM.js";const S={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-sm"},j={class:"w-full max-w-md"},A={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-[#0a0a0a] dark:to-[#0a0a0a] rounded-t-xl"},L={class:"flex items-center justify-between"},F={class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center space-x-2"},_={class:"px-6 py-4"},M={class:"space-y-4"},B={class:"relative"},D={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},E={key:0,class:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-[#0a0a0a] border border-gray-300 dark:border-gray-700 rounded-md shadow-xl z-[99999] overflow-hidden"},z={class:"p-3 border-b border-gray-200 dark:border-gray-700"},V=["placeholder"],U={class:"max-h-[240px] overflow-y-auto"},I=["onClick"],J={key:0,class:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400 text-center"},K={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},N=["value"],R={value:""},W=["value"],Y={class:"flex items-center"},$=["checked"],q={class:"text-sm text-gray-700 dark:text-gray-300"},G={class:"flex items-center"},H=["checked"],O={class:"text-sm text-gray-700 dark:text-gray-300"},P={class:"flex justify-end space-x-3 mt-6"},Q=e({__name:"SettingsModal",props:{show:{type:Boolean},settings:{},localSettings:{},dateFilterEnabled:{type:Boolean},selectedDate:{}},emits:["update:settings","update:local-settings","cancel","apply"],setup(e,{emit:Q}){const T=e,X=Q,{t:Z}=k(),{getCategories:ee,getLevels:ae,allVocabularies:te}=w(),le=ae,re=a(!1),se=a(""),oe=t(()=>{if(T.dateFilterEnabled&&T.selectedDate){const e=te.value.filter(e=>e.createdAt&&e.createdAt.startsWith(T.selectedDate)),a=new Set(e.map(e=>e.category));return Array.from(a)}const e=new Set(te.value.map(e=>e.category));return Array.from(e)}),ne=t(()=>se.value?oe.value.filter(e=>C(e).toLowerCase().includes(se.value.toLowerCase())):oe.value),ce=()=>{re.value=!re.value,re.value&&(se.value="")},ie=e=>{ue("category",{target:{value:e}}),re.value=!1,se.value=""},de=e=>{e.target.closest(".relative")||(re.value=!1)};l(()=>T.show,e=>{e||(re.value=!1,se.value="")}),r(()=>{document.addEventListener("click",de)}),s(()=>{document.removeEventListener("click",de)});const ue=(e,a)=>{const t=a.target,l="checkbox"===t.type?t.checked:t.value;X("update:local-settings",{...T.localSettings,[e]:l})};return(e,a)=>(n(),o("div",null,[c(u,{"enter-active-class":"transition-all duration-500 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-300 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:i(()=>[e.show?(n(),o("div",S,[c(u,{"enter-active-class":"transition-all duration-500 ease-out","enter-from-class":"opacity-0 scale-90 translate-y-8 rotate-1","enter-to-class":"opacity-100 scale-100 translate-y-0 rotate-0","leave-active-class":"transition-all duration-300 ease-in","leave-from-class":"opacity-100 scale-100 translate-y-0 rotate-0","leave-to-class":"opacity-0 scale-90 translate-y-8 rotate-1"},{default:i(()=>[g("div",j,[g("div",{class:"bg-white dark:bg-[#0a0a0a] shadow-2xl rounded-xl border border-gray-200 dark:border-gray-700 transform",onClick:a[9]||(a[9]=y(()=>{},["stop"]))},[g("div",A,[g("div",L,[g("h3",F,[a[10]||(a[10]=g("span",{class:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"},null,-1)),g("span",null,b(p(Z)("flashcard.settings.title","Flashcard Settings")),1)]),g("button",{onClick:a[0]||(a[0]=e=>X("cancel")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-all duration-300 hover:scale-110 hover:rotate-90 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800"},a[11]||(a[11]=[g("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),g("div",_,[g("div",M,[g("div",B,[g("label",D,b(p(Z)("flashcard.settings.category","Category")),1),g("button",{type:"button",onClick:ce,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white text-left flex items-center justify-between hover:border-blue-300 dark:hover:border-blue-600 transition-colors"},[g("span",null,b(T.localSettings.category?C(T.localSettings.category):Z("flashcard.settings.all","All")),1),(n(),o("svg",{class:v(["w-4 h-4 transition-transform duration-200",re.value?"rotate-180":""]),fill:"currentColor",viewBox:"0 0 20 20"},a[12]||(a[12]=[g("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.17l3.71-3.94a.75.75 0 111.08 1.04l-4.24 4.5a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z","clip-rule":"evenodd"},null,-1)]),2))]),c(u,{"enter-active-class":"transition-all duration-200 ease-out","enter-from-class":"opacity-0 scale-95 translate-y-2","enter-to-class":"opacity-100 scale-100 translate-y-0","leave-active-class":"transition-all duration-150 ease-in","leave-from-class":"opacity-100 scale-100 translate-y-0","leave-to-class":"opacity-0 scale-95 translate-y-2"},{default:i(()=>[re.value?(n(),o("div",E,[g("div",z,[f(g("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>se.value=e),type:"text",placeholder:p(Z)("common.search","Search")+"...",class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-[#0f0f0f] text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",onClick:a[2]||(a[2]=y(()=>{},["stop"]))},null,8,V),[[m,se.value]])]),g("div",U,[g("div",{class:v(["px-3 py-2 text-sm cursor-pointer hover:bg-blue-50 dark:hover:bg-blue-900/20 text-gray-900 dark:text-white transition-colors",""===e.localSettings.category?"bg-blue-100 dark:bg-blue-900/30 font-medium":""]),onClick:a[3]||(a[3]=e=>ie(""))},b(p(Z)("flashcard.settings.all","All")),3),(n(!0),o(h,null,x(ne.value,a=>(n(),o("div",{key:a,class:v(["px-3 py-2 text-sm cursor-pointer hover:bg-blue-50 dark:hover:bg-blue-900/20 text-gray-900 dark:text-white transition-colors",e.localSettings.category===a?"bg-blue-100 dark:bg-blue-900/30 font-medium":""]),onClick:e=>ie(a)},b(p(C)(a)),11,I))),128)),0===ne.value.length?(n(),o("div",J,b(p(Z)("common.noResults","No results found")),1)):d("",!0)])])):d("",!0)]),_:1})]),g("div",null,[g("label",K,b(p(Z)("flashcard.settings.level","Level")),1),g("select",{value:e.localSettings.level,onChange:a[4]||(a[4]=e=>ue("level",e)),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white"},[g("option",R,b(p(Z)("flashcard.settings.all","All")),1),(n(!0),o(h,null,x(p(le),e=>(n(),o("option",{key:e,value:e},b(p(Z)(`flashcard.settings.${e.toLowerCase()}`,e)),9,W))),128))],40,N)]),g("div",null,[g("label",Y,[g("input",{type:"checkbox",checked:e.localSettings.autoFlip,onChange:a[5]||(a[5]=e=>ue("autoFlip",e)),class:"mr-2"},null,40,$),g("span",q,b(p(Z)("flashcard.settings.autoFlip","Auto-flip after answering")),1)])]),g("div",null,[g("label",G,[g("input",{type:"checkbox",checked:e.localSettings.shuffleCards,onChange:a[6]||(a[6]=e=>ue("shuffleCards",e)),class:"mr-2"},null,40,H),g("span",O,b(p(Z)("flashcard.settings.shuffle","Shuffle cards")),1)])])]),g("div",P,[g("button",{onClick:a[7]||(a[7]=e=>X("cancel")),class:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"},b(p(Z)("common.cancel","Cancel")),1),g("button",{onClick:a[8]||(a[8]=e=>X("apply")),class:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors"},b(p(Z)("common.apply","Apply")),1)])])])])]),_:1})])):d("",!0)]),_:1})]))}});export{Q as default};
