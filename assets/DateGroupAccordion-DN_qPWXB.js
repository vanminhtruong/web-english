const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["/web-english/assets/VocabularyCard-D9IQQGJI.js","/web-english/assets/vue-vendor-Bt65BSdi.js","/web-english/assets/ui-vendor-D-J_fEQ5.js","/web-english/assets/dateUtils-N7QR9R2r.js","/web-english/assets/topicUtils-CuplmVBM.js","/web-english/assets/_plugin-vue_export-helper-BCo6x5W8.js","/web-english/assets/VocabularyCard-DvdEBeV2.css","/web-english/assets/MoveModal-CbFU7qyx.css","/web-english/assets/VocabularyNoteButton-BMQrpPg0.js","/web-english/assets/GrammarManagerButton-Cin6RXOC.js","/web-english/assets/CircularProgress-CDGHUtnI.js","/web-english/assets/CircularProgress-BGVRdQzk.css"])))=>i.map(i=>d[i]);
import{_ as e}from"./index-DmJNupMF.js";import{d as a,C as t,A as r,D as o,I as l,q as s,J as d,c as n,v as i,f as c,y as u,e as p,n as x,t as g,u as v,N as m,i as b,M as y,a0 as h,_ as f,W as k,g as w,F as C,w as M,j as T,Y as S,b as D}from"./vue-vendor-Bt65BSdi.js";import{u as P}from"./ui-vendor-D-J_fEQ5.js";import{l as z}from"./import-helper-Bho6F3X4.js";import{a as I}from"./topicUtils-CuplmVBM.js";import{a as L}from"./dateUtils-N7QR9R2r.js";import{u as E}from"./useFlashcardHistory--VfpBBh-.js";import{_ as $}from"./_plugin-vue_export-helper-BCo6x5W8.js";const V={class:"mb-3 xs:mb-4 sm:mb-6"},_={class:"sticky top-0 bg-gray-50 dark:bg-[#0f0f0f] px-2 xs:px-3 sm:px-4 md:px-6 py-2 xs:py-2.5 sm:py-3 border-b border-gray-200 dark:border-gray-700 z-10"},j={class:"sm:block md:hidden"},B={class:"flex items-center space-x-1 flex-1"},A={class:"p-0.5 rounded-md"},W={class:"text-xs sm:text-sm md:text-base lg:text-lg xl:text-base 2xl:text-lg font-semibold text-gray-700 dark:text-gray-300 flex items-center space-x-1"},O={class:"inline-flex items-center ml-1.5 xs:ml-2"},H={class:"relative inline-flex items-center cursor-pointer"},N=["disabled"],F={class:"text-xs sm:text-sm md:text-base lg:text-lg xl:text-base 2xl:text-lg text-gray-500 dark:text-gray-400"},J=["disabled"],U={key:0,class:"flex items-center justify-center mb-3"},G={class:"flex items-center space-x-1 w-full max-w-[280px]"},R=["placeholder"],q=["aria-label"],K=["aria-label"],Y={key:1},Q={key:0,class:"flex items-center justify-center mb-1.5"},X={class:"flex items-center space-x-1 px-2.5 py-1 bg-orange-50 dark:bg-orange-900/50 rounded-lg border border-orange-200 dark:border-orange-700 max-w-[180px]"},Z={class:"relative flex-1 min-w-0"},ee={key:0,class:"absolute z-[9999] bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 dark:bg-gray-700 text-white text-xs rounded-lg shadow-lg whitespace-nowrap"},ae=["aria-label"],te={class:"grid grid-cols-2 gap-2 max-w-[280px] sm:max-w-[320px] mx-auto"},re=["aria-label"],oe={class:"text-center leading-tight"},le={key:1,class:"flex"},se=["aria-label"],de={class:"text-center leading-tight"},ne={key:3,class:"flex"},ie={class:"hidden md:block"},ce={class:"flex items-center space-x-2"},ue={class:"p-1 rounded-md"},pe={class:"text-xs xs:text-sm sm:text-sm md:text-base lg:text-base xl:text-sm 2xl:text-base font-semibold text-gray-700 dark:text-gray-300 flex items-center space-x-1 xs:space-x-1.5 sm:space-x-2"},xe={class:"inline-flex items-center ml-1.5 xs:ml-2"},ge={class:"relative inline-flex items-center cursor-pointer"},ve={class:"hidden lg:flex items-center space-x-2"},me=["disabled"],be={class:"text-xs sm:text-sm md:text-base lg:text-lg xl:text-sm 2xl:text-base text-gray-500 dark:text-gray-400"},ye=["disabled"],he={class:"relative inline-flex items-center cursor-pointer"},fe={class:"text-xs sm:text-sm md:text-base lg:text-lg xl:text-sm 2xl:text-base text-gray-600 dark:text-gray-300"},ke=["disabled"],we={class:"text-xs sm:text-sm md:text-base text-gray-500 dark:text-gray-400"},Ce=["disabled"],Me={key:0,class:"flex items-center space-x-2"},Te={key:0,class:"flex items-center space-x-1 xs:space-x-1.5 sm:space-x-1.5 md:space-x-2 px-2 xs:px-2.5 sm:px-3 md:px-4 py-0.5 xs:py-1 sm:py-1 md:py-1.5 bg-orange-50 dark:bg-orange-900/50 rounded-full border border-orange-200 dark:border-orange-700"},Se={class:"relative"},De={key:0,class:"absolute z-[9999] bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 dark:bg-gray-700 text-white text-xs rounded-lg shadow-lg whitespace-nowrap"},Pe=["aria-label"],ze=["aria-label"],Ie={class:"whitespace-nowrap"},Le=["aria-label"],Ee={key:1,class:"flex items-center space-x-1 xs:space-x-1.5 sm:space-x-2 w-full max-w-[150px] xs:max-w-[200px] sm:max-w-xs"},$e=["placeholder"],Ve=["aria-label"],_e=["aria-label"],je={class:"hidden lg:block"},Be={class:"flex-1 flex justify-center mx-1 xs:mx-2 sm:mx-4 min-w-0"},Ae={key:0,class:"flex items-center space-x-1.5 xs:space-x-1.5 sm:space-x-2 flex-nowrap"},We={key:0,class:"flex items-center space-x-1 md:space-x-1.5 px-2 xs:px-2.5 sm:px-3 md:px-4 py-0.5 xs:py-1 sm:py-1 md:py-1.5 lg:py-1.5 xl:py-1.5 2xl:py-1.5 bg-orange-50 dark:bg-orange-900/50 rounded-full border border-orange-200 dark:border-orange-700 flex-shrink-0"},Oe={class:"relative"},He={key:0,class:"absolute z-[9999] bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 dark:bg-gray-700 text-white text-xs rounded-lg shadow-lg whitespace-nowrap"},Ne=["aria-label"],Fe=["aria-label"],Je=["aria-label"],Ue=["placeholder"],Ge=["aria-label"],Re=["aria-label"],qe={key:0,class:"accordion-content"},Ke={key:0,class:"divide-y divide-gray-200 dark:divide-gray-700"},Ye=["onMouseenter","onMouseleave"],Qe={class:"bg-gray-50 dark:bg-gray-custom border-b border-gray-200 dark:border-gray-700"},Xe=["id","onClick"],Ze={class:"flex items-center space-x-2"},ea={class:"flex items-center space-x-1"},aa={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},ta={class:"text-xs text-gray-500"},ra=["onMouseenter"],oa=["aria-label"],la={class:"text-xs font-semibold mb-2"},sa={key:0,class:"text-xs text-gray-600 dark:text-white/70"},da=["onClick"],na={class:"text-gray-500 dark:text-white/60"},ia=["onClick","title"],ca={class:"flex items-center justify-between text-xs"},ua={class:"flex-1 flex justify-between sm:hidden"},pa=["onClick","disabled"],xa=["onClick","disabled"],ga={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},va={class:"text-xs text-gray-700 dark:text-gray-300"},ma={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},ba=["onClick","disabled"],ya={class:"sr-only"},ha=["onClick","disabled"],fa=["onClick","disabled"],ka={class:"sr-only"},wa={key:0,class:"topic-accordion-content py-2"},Ca={class:"divide-y divide-gray-200 dark:divide-gray-700"},Ma={key:1,class:"divide-y divide-gray-200 dark:divide-gray-700"},Ta="vocabulary-show-action-buttons-by-date",Sa="vocabulary-topic-pagination-state",Da="vocabulary-group-topics",Pa="open-date-topic-pending",za=$(a({__name:"DateGroupAccordion",props:{group:{},defaultExpanded:{type:Boolean,default:!1},accordionState:{default:()=>({})},hoverToExpandEnabled:{type:Boolean,default:!1},globalMoveMode:{type:Boolean,default:!1}},emits:["play-audio","edit-word","delete-word","toggle-favorite","view-details","date-group-previous","date-group-next","accordion-toggle","note-saved","open-note-dialog","open-add-vocabulary-dialog","open-grammar-manager","move-vocabulary","request-available-dates","navigate-to-date-topic","batch-move-category"],setup(a,{emit:$}){const{t:za,locale:Ia}=P(),La=m(z(()=>e(()=>import("./VocabularyCard-D9IQQGJI.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url))),Ea=m(z(()=>e(()=>import("./VocabularyNoteButton-BMQrpPg0.js"),__vite__mapDeps([8,2,1]),import.meta.url))),$a=m(()=>z(()=>e(()=>import("./GrammarManagerButton-Cin6RXOC.js"),__vite__mapDeps([9,2,1]),import.meta.url))()),Va=m(z(()=>e(()=>import("./CircularProgress-CDGHUtnI.js"),__vite__mapDeps([10,1,5,11]),import.meta.url))),_a=a,ja=t(()=>_a.group.totalItems&&_a.group.totalItems>0?_a.group.totalItems:_a.group.topics&&_a.group.topics.length>0?_a.group.topics.reduce((e,a)=>e+(a.vocabularies?.length||0),0):_a.group.vocabularies?.length||0),Ba=t(()=>{const e=L((new Date).toISOString());return _a.group.date===e}),{getDailyProgress:Aa,DAILY_TARGET:Wa}=function(){const{practiceHistory:e}=E(),a=a=>{const t=new Date(a).toDateString(),r=e.value.filter(e=>new Date(e.date).toDateString()===t),o=new Set;r.forEach(e=>{const a=e.correctAnswers;for(let t=0;t<a;t++)o.add(`${e.id}-${t}`)});const l=o.size,s=Math.min(l/10*100,100);return{date:a,wordsLearned:l,totalWords:10,percentage:Math.round(s),isCompleted:s>=100}},t=e=>e.map(e=>a(e));return{DAILY_TARGET:10,getDailyProgress:a,getMultipleDailyProgress:t,getTodayProgress:()=>{const e=(new Date).toISOString().split("T")[0];return a(e)},getWeeklyProgress:()=>{const e=new Date,a=new Date(e);a.setDate(e.getDate()-e.getDay());const r=[];for(let t=0;t<7;t++){const e=new Date(a);e.setDate(a.getDate()+t),r.push(e.toISOString().split("T")[0])}const o=t(r),l=o.reduce((e,a)=>e+a.wordsLearned,0),s=Math.min(l/70*100,100);return{wordsLearned:l,totalWords:70,percentage:Math.round(s),daysCompleted:o.filter(e=>e.isCompleted).length,dailyStats:o}},hasActivityForDate:a=>{const t=new Date(a).toDateString();return e.value.some(e=>new Date(e.date).toDateString()===t)}}}(),Oa=t(()=>Aa(_a.group.date)),Ha=t(()=>{const e=ja.value,a=Math.min(e/Wa*100,100);return{percentage:Math.round(a),wordsLearned:Oa.value.wordsLearned,totalWords:Wa}});t(()=>{const e=za("progress.percentage","Percentage"),a=za("progress.wordsLearned","Words learned");return`${e}: ${Oa.value.percentage}% · ${a}: ${Oa.value.wordsLearned}/${Oa.value.totalWords}`});const Na=t(()=>{const e=za("progress.percentage","Percentage"),a=za("vocabulary.words","Words");return`${e}: ${Ha.value.percentage}% · ${ja.value}/${Wa} ${a}`}),Fa=t(()=>{const e=ja.value,a=Math.floor(e/10),t=[{light:"text-red-600",dark:"dark:text-red-400"},{light:"text-orange-600",dark:"dark:text-orange-400"},{light:"text-yellow-600",dark:"dark:text-yellow-400"},{light:"text-green-600",dark:"dark:text-green-400"},{light:"text-blue-600",dark:"dark:text-blue-400"},{light:"text-purple-600",dark:"dark:text-purple-400"}],r=t[Math.min(a,t.length-1)];return`${r.light} ${r.dark}`}),Ja=t(()=>!!xt.value&&(vt.value?vt.value.scrollWidth>vt.value.clientWidth:!!mt.value&&mt.value.scrollWidth>mt.value.clientWidth)),Ua=r(!1);r(!1),r(null);const Ga=r(),Ra=r(0),qa=r(!0);o(qa,()=>{(()=>{try{const e=localStorage.getItem(Ta);let a={};null!==e&&(a=JSON.parse(e)),a[_a.group.date]=qa.value,localStorage.setItem(Ta,JSON.stringify(a))}catch(e){console.warn("Failed to save action buttons state to localStorage:",e)}})()});const Ka=r({}),Ya=r({}),Qa=e=>Ka.value[e]||!1,Xa=e=>Ya.value[e]?.currentPage||1,Za=(e,a)=>{Ya.value[e]||(Ya.value[e]={currentPage:1}),Ya.value[e].currentPage=a,(e=>{try{localStorage.setItem(Sa,JSON.stringify(e))}catch(a){console.warn("Failed to save topic pagination state to localStorage:",a)}})(Ya.value)},et=e=>{const a=Xa(e.topic),t=e.vocabularies.length,r=5*(a-1),o=r+5;return{vocabularies:e.vocabularies.slice(r,o),currentPage:a,totalPages:Math.ceil(t/5),totalItems:t,startIndex:r+1,endIndex:Math.min(o,t),hasNext:a<Math.ceil(t/5),hasPrevious:a>1}},at=e=>{const a=Xa(e),t=_a.group.topics?.find(a=>a.topic===e)?.vocabularies.length||0;a<Math.ceil(t/5)&&Za(e,a+1)},tt=e=>{const a=Xa(e);a>1&&Za(e,a-1)},rt=r({}),ot=(e,a)=>{_a.hoverToExpandEnabled&&(rt.value[e]&&(clearTimeout(rt.value[e]),delete rt.value[e]),a?Ka.value[e]=!0:rt.value[e]=setTimeout(()=>{it()||(Ka.value[e]=!1),delete rt.value[e]},200))},lt=r(!1),st=()=>{_a.hoverToExpandEnabled&&(lt.value=!0,it()||nt())},dt=()=>{_a.hoverToExpandEnabled&&(lt.value=!1)},nt=()=>{Object.keys(Ka.value).forEach(e=>{Ka.value[e]=!1}),Object.keys(rt.value).forEach(e=>{rt.value[e]&&(clearTimeout(rt.value[e]),delete rt.value[e])})},it=()=>['[role="dialog"]',".modal",".dialog",'[data-headlessui-state="open"]',".fixed.inset-0"].some(e=>{const a=document.querySelectorAll(e);return Array.from(a).some(e=>{const a=window.getComputedStyle(e);return"none"!==a.display&&"hidden"!==a.visibility})}),ct=r(!1),ut=r(""),pt=r(),xt=r(""),gt=r(!1),vt=r(),mt=r(),bt=()=>{try{const e=localStorage.getItem(Da);return e?JSON.parse(e):{}}catch(e){return console.warn("Failed to load group topics from localStorage:",e),{}}},yt=()=>{ut.value=xt.value,ct.value=!0,s(()=>{pt.value?.focus()})},ht=()=>{const e=ut.value.trim();xt.value=e;const a=bt();e?a[_a.group.date]=e:delete a[_a.group.date],(e=>{try{localStorage.setItem(Da,JSON.stringify(e))}catch(a){console.warn("Failed to save group topics to localStorage:",a)}})(a),ct.value=!1,ut.value=""},ft=()=>{ct.value=!1,ut.value=""},kt=e=>{Vt("move-vocabulary",e)},wt=r(null),Ct=()=>{Ua.value=!Ua.value,Vt("accordion-toggle",_a.group.date,Ua.value)},Mt=()=>{Vt("open-add-vocabulary-dialog",_a.group.date)},Tt=e=>{Vt("open-grammar-manager",e)},St=r({}),Dt=r(null),Pt=()=>{setTimeout(()=>{Lt.value||(Dt.value=null)},120)},zt=e=>{const a=e.detail;a&&a.currentDate===_a.group.date&&(St.value[a.topic]=a.availableDates||[])},It=e=>{const a=e.detail;console.log("📨 Received open-date-topic event:",{detail:a,currentDate:_a.group.date}),a?a.date===_a.group.date?(console.log("✅ Opening accordion for cross-date navigation:",a.topic),Ua.value=!0,Ka.value[a.topic]=!0,Vt("accordion-toggle",_a.group.date,!0),_a.accordionState&&(_a.accordionState[_a.group.date]=!0),s(()=>{setTimeout(()=>{const e=document.getElementById(`date-group-${_a.group.date}-topic-${a.topic}`);e&&"function"==typeof e.scrollIntoView?(console.log("🎯 Scrolling to topic element"),e.scrollIntoView({behavior:"smooth",block:"center"})):console.log("❌ Topic element not found:",`date-group-${_a.group.date}-topic-${a.topic}`);try{sessionStorage.removeItem(Pa)}catch{}},100)})):console.log("⏭️ Event not for this date group"):console.log("❌ No detail in event")},Lt=r(!1),Et=()=>{Lt.value=!0},$t=()=>{Lt.value=!1,Dt.value=null};l(async()=>{(()=>{try{const e=localStorage.getItem(Ta);if(null!==e){const a=JSON.parse(e);"object"==typeof a&&void 0!==a[_a.group.date]&&(qa.value=a[_a.group.date])}}catch(e){console.warn("Failed to load action buttons state from localStorage:",e),qa.value=!0}})(),Ya.value=(()=>{try{const e=localStorage.getItem(Sa);return e?JSON.parse(e):{}}catch(e){return console.warn("Failed to load topic pagination state from localStorage:",e),{}}})(),_a.accordionState&&"boolean"==typeof _a.accordionState[_a.group.date]&&(Ua.value=_a.accordionState[_a.group.date]);const e=bt();e[_a.group.date]&&(xt.value=e[_a.group.date]),window.addEventListener("vocabulary-list-mouse-leave",st),window.addEventListener("vocabulary-list-mouse-enter",dt),wt.value||(wt.value=setInterval(()=>{_a.hoverToExpandEnabled&&lt.value&&!it()&&nt()},300)),await s(),await(async()=>{if(!Ga.value)return;const e=Ga.value.querySelector(".accordion-inner");if(e){const a=e.cloneNode(!0);a.style.visibility="hidden",a.style.position="absolute",a.style.height="auto",a.style.maxHeight="none",a.style.overflow="visible",document.body.appendChild(a),await s(),Ra.value=a.scrollHeight+24,document.body.removeChild(a)}})();try{const e=sessionStorage.getItem(Pa);if(e){const a=JSON.parse(e);a&&a.date===_a.group.date&&(console.log("🧭 Applying pending open on mount:",a),Ua.value=!0,Ka.value[a.topic]=!0,Vt("accordion-toggle",_a.group.date,!0),_a.accordionState&&(_a.accordionState[_a.group.date]=!0),s(()=>{setTimeout(()=>{const e=document.getElementById(`date-group-${_a.group.date}-topic-${a.topic}`);e&&"function"==typeof e.scrollIntoView&&e.scrollIntoView({behavior:"smooth",block:"center"})},100)}),sessionStorage.removeItem(Pa))}}catch(a){console.warn("Failed to apply pending open-date-topic on mount:",a)}window.addEventListener("available-dates-response",zt),window.addEventListener("open-date-topic",It)}),d(()=>{window.removeEventListener("vocabulary-list-mouse-leave",st),window.removeEventListener("vocabulary-list-mouse-enter",dt),wt.value&&(clearInterval(wt.value),wt.value=null),Object.keys(rt.value).forEach(e=>{rt.value[e]&&clearTimeout(rt.value[e])}),window.removeEventListener("available-dates-response",zt),window.removeEventListener("open-date-topic",It)});const Vt=$;return(e,a)=>(i(),n("div",null,[c("div",V,[c("div",_,[c("div",j,[c("div",{onClick:Ct,class:"flex items-center justify-between mb-2 cursor-pointer py-1 -mx-1 px-1 rounded hover:bg-gray-50 dark:hover:bg-gray-custom transition-colors"},[c("div",B,[c("div",A,[(i(),n("svg",{class:x(["w-2.5 h-2.5 text-gray-500 dark:text-gray-400 transition-transform duration-200",{"transform rotate-90":Ua.value}]),fill:"currentColor",viewBox:"0 0 20 20"},a[48]||(a[48]=[c("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"},null,-1)]),2))]),c("h4",W,[a[49]||(a[49]=c("svg",{class:"w-2.5 h-2.5",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})],-1)),c("span",null,g(e.group.displayDate),1),c("span",{class:x(["text-xs xs:text-xs sm:text-sm md:text-sm lg:text-base xl:text-sm 2xl:text-base font-semibold transition-colors duration-300",Fa.value])}," ("+g(ja.value)+") ",3),c("span",O,[u(v(Va),{percentage:Ha.value.percentage,size:26,"stroke-width":1.5,"show-text":!0,title:Na.value},null,8,["percentage","title"])])])]),c("div",{class:"flex items-center space-x-1",onClick:a[1]||(a[1]=b(()=>{},["stop"]))},[c("label",H,[y(c("input",{type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=e=>qa.value=e),class:"sr-only peer"},null,512),[[h,qa.value]]),a[50]||(a[50]=c("div",{class:"w-9 h-5 sm:w-11 sm:h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-1 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 sm:after:h-5 sm:after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),Ua.value&&e.group.totalPages&&e.group.totalPages>1?(i(),n("div",{key:0,class:"flex items-center space-x-1",onClick:a[4]||(a[4]=b(()=>{},["stop"]))},[c("button",{onClick:a[2]||(a[2]=a=>e.$emit("date-group-previous",e.group.date)),disabled:1===(e.group.currentPage||1),class:"px-1.5 py-0.5 xs:px-2 xs:py-1 sm:px-3 sm:py-1 md:px-4 md:py-1.5 xl:px-4 xl:py-1.5 2xl:px-5 2xl:py-2 text-xs xs:text-xs sm:text-sm md:text-sm lg:text-base xl:text-base 2xl:text-lg border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-[#0a0a0a] text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"}," ‹ ",8,N),c("span",F,g(e.group.currentPage||1)+"/"+g(e.group.totalPages),1),c("button",{onClick:a[3]||(a[3]=a=>e.$emit("date-group-next",e.group.date)),disabled:(e.group.currentPage||1)===e.group.totalPages,class:"px-1.5 py-0.5 xs:px-2 xs:py-1 sm:px-3 sm:py-1 md:px-4 md:py-1.5 xl:px-4 xl:py-1.5 2xl:px-5 2xl:py-2 text-xs xs:text-xs sm:text-sm md:text-sm lg:text-base xl:text-base 2xl:text-lg border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-[#0a0a0a] text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"}," › ",8,J)])):p("",!0)]),c("div",{class:"w-full",onClick:a[10]||(a[10]=b(()=>{},["stop"]))},[ct.value?(i(),n("div",U,[c("div",G,[y(c("input",{ref_key:"topicInput",ref:pt,"onUpdate:modelValue":a[5]||(a[5]=e=>ut.value=e),onKeyup:[k(ht,["enter"]),k(ft,["escape"])],type:"text",placeholder:v(za)("vocabulary.accordion.topicPlaceholder"),class:"flex-1 px-3 py-2 text-xs border border-orange-300 dark:border-orange-600 rounded-md bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"},null,40,R),[[f,ut.value]]),c("button",{onClick:ht,class:"px-2 py-2 text-xs bg-orange-600 hover:bg-orange-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 transition-colors","aria-label":v(za)("vocabulary.accordion.saveTopic")},a[51]||(a[51]=[c("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,q),c("button",{onClick:ft,class:"px-2 py-2 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors dark:bg-blue-700 dark:hover:bg-blue-600 dark:focus:ring-blue-500","aria-label":v(za)("vocabulary.accordion.cancelTopic")},a[52]||(a[52]=[c("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),8,K)])])):(i(),n("div",Y,[xt.value?(i(),n("div",Q,[c("div",X,[a[55]||(a[55]=c("svg",{class:"w-3 h-3 text-orange-600 dark:text-orange-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1)),c("div",Z,[c("span",{ref_key:"topicSpanMobile",ref:vt,class:"text-xs font-medium text-orange-700 dark:text-orange-300 truncate block cursor-default",onMouseenter:a[6]||(a[6]=e=>gt.value=!0),onMouseleave:a[7]||(a[7]=e=>gt.value=!1)},g(xt.value),545),gt.value&&Ja.value?(i(),n("div",ee,[w(g(xt.value)+" ",1),a[53]||(a[53]=c("div",{class:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900 dark:border-t-gray-700"},null,-1))])):p("",!0)]),c("button",{onClick:b(yt,["stop"]),class:"text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 focus:outline-none flex-shrink-0 p-0.5 rounded hover:bg-orange-100 dark:hover:bg-orange-800/50 transition-colors","aria-label":v(za)("vocabulary.accordion.editTopic")},a[54]||(a[54]=[c("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1)]),8,ae)])])):p("",!0),c("div",te,[xt.value?p("",!0):(i(),n("button",{key:0,onClick:a[8]||(a[8]=b(e=>ct.value=!0,["stop"])),class:"flex flex-col items-center justify-center p-2 sm:p-3 text-xs sm:text-sm font-medium text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 hover:bg-orange-50 dark:hover:bg-orange-900/50 rounded-md border border-dashed border-orange-300 dark:border-orange-600 hover:border-orange-400 dark:hover:border-orange-500 transition-all duration-200 focus:outline-none focus:ring-1 focus:ring-orange-500 min-h-[56px] sm:min-h-[64px] hover:scale-[1.02]","aria-label":v(za)("vocabulary.accordion.addTopic","Add Topic")},[a[56]||(a[56]=c("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4 mb-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1)),c("span",oe,g(v(za)("vocabulary.accordion.addTopic","Add Topic")),1)],8,re)),qa.value?(i(),n("div",le,[u(v(Ea),{date:e.group.date,"is-today":Ba.value,class:x("w-full flex flex-col items-center justify-center p-2 sm:p-3 text-xs sm:text-sm font-medium min-h-[56px] sm:min-h-[64px] hover:scale-[1.02] transition-all duration-200 rounded-md"),onOpenNoteDialog:a[9]||(a[9]=()=>Vt("open-note-dialog",{date:e.group.date,words:e.group.vocabularies}))},null,8,["date","is-today"])])):p("",!0),qa.value?(i(),n("button",{key:2,onClick:b(Mt,["stop"]),class:"flex flex-col items-center justify-center p-2 sm:p-3 text-xs sm:text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 hover:bg-blue-50 dark:hover:bg-blue-900/50 rounded-md border border-dashed border-blue-300 dark:border-blue-600 hover:border-blue-400 dark:hover:border-blue-500 transition-all duration-200 focus:outline-none focus:ring-1 focus:ring-blue-500 min-h-[56px] sm:min-h-[64px] hover:scale-[1.02]","aria-label":v(za)("vocabulary.addWord","Add Word")},[a[57]||(a[57]=c("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4 mb-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1)),c("span",de,g(v(za)("vocabulary.addWord","Add Word")),1)],8,se)):p("",!0),qa.value?(i(),n("div",ne,[u(v($a),{date:e.group.date,class:x("w-full flex flex-col items-center justify-center p-2 sm:p-3 text-xs sm:text-sm font-medium min-h-[56px] sm:min-h-[64px] hover:scale-[1.02] transition-all duration-200 rounded-md"),onOpenGrammarManager:Tt},null,8,["date"])])):p("",!0)])]))])]),c("div",ie,[c("div",{onClick:Ct,class:"flex items-center justify-between cursor-pointer py-1 -mx-1 px-1 rounded hover:bg-gray-50 dark:hover:bg-gray-custom transition-colors"},[c("div",ce,[c("div",ue,[(i(),n("svg",{class:x(["w-3 xs:w-3.5 sm:w-4 h-3 xs:h-3.5 sm:h-4 text-gray-500 dark:text-gray-400 transition-transform duration-200",{"transform rotate-90":Ua.value}]),fill:"currentColor",viewBox:"0 0 20 20"},a[58]||(a[58]=[c("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"},null,-1)]),2))]),c("h4",pe,[a[59]||(a[59]=c("svg",{class:"w-3 md:w-4 lg:w-4 xl:w-5 xl:h-5 2xl:w-6 2xl:h-6 h-3 md:h-4 lg:h-4",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})],-1)),c("span",null,g(e.group.displayDate),1),c("span",{class:x(["text-xs xs:text-xs sm:text-sm md:text-sm lg:text-base xl:text-sm 2xl:text-base font-semibold transition-colors duration-300",Fa.value])}," ("+g(ja.value)+" "+g(v(za)("vocabulary.words","words"))+") ",3),c("span",xe,[u(v(Va),{percentage:Ha.value.percentage,size:28,"stroke-width":1.5,"show-text":!0,title:Na.value},null,8,["percentage","title"])])])]),c("div",{class:"lg:hidden flex items-center space-x-2",onClick:a[12]||(a[12]=b(()=>{},["stop"]))},[c("label",ge,[y(c("input",{type:"checkbox","onUpdate:modelValue":a[11]||(a[11]=e=>qa.value=e),class:"sr-only peer"},null,512),[[h,qa.value]]),a[60]||(a[60]=c("div",{class:"w-7 h-4 bg-gray-200 peer-focus:outline-none peer-focus:ring-1 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-3 after:w-3 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),c("div",ve,[Ua.value&&e.group.totalPages&&e.group.totalPages>1?(i(),n("div",{key:0,class:"flex items-center space-x-2",onClick:a[15]||(a[15]=b(()=>{},["stop"]))},[c("button",{onClick:a[13]||(a[13]=a=>e.$emit("date-group-previous",e.group.date)),disabled:1===(e.group.currentPage||1),class:"px-2 md:px-2 py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 xl:px-3 xl:py-1.5 2xl:px-4 2xl:py-2 text-xs xs:text-xs sm:text-sm md:text-sm lg:text-base xl:text-sm 2xl:text-base border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-[#0a0a0a] text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"},g(v(za)("common.previous")),9,me),c("span",be,g(e.group.currentPage||1)+" / "+g(e.group.totalPages),1),c("button",{onClick:a[14]||(a[14]=a=>e.$emit("date-group-next",e.group.date)),disabled:(e.group.currentPage||1)===e.group.totalPages,class:"px-2 md:px-2 py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 xl:px-3 xl:py-1.5 2xl:px-4 2xl:py-2 text-xs xs:text-xs sm:text-sm md:text-sm lg:text-base xl:text-sm 2xl:text-base border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-[#0a0a0a] text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"},g(v(za)("common.next")),9,ye)])):p("",!0),c("div",{class:"flex items-center space-x-2",onClick:a[17]||(a[17]=b(()=>{},["stop"]))},[c("label",he,[y(c("input",{type:"checkbox","onUpdate:modelValue":a[16]||(a[16]=e=>qa.value=e),class:"sr-only peer"},null,512),[[h,qa.value]]),a[61]||(a[61]=c("div",{class:"w-9 h-5 sm:w-11 sm:h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 sm:after:h-5 sm:after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))]),c("span",fe,g(v(za)("common.actions","Actions")),1)])])]),Ua.value&&e.group.totalPages&&e.group.totalPages>1?(i(),n("div",{key:0,class:"lg:hidden flex items-center justify-center space-x-1 mt-2",onClick:a[20]||(a[20]=b(()=>{},["stop"]))},[c("button",{onClick:a[18]||(a[18]=a=>e.$emit("date-group-previous",e.group.date)),disabled:1===(e.group.currentPage||1),class:"px-1.5 py-0.5 xs:px-2 xs:py-1 sm:px-3 sm:py-1 md:px-4 md:py-1.5 text-xs xs:text-xs sm:text-sm md:text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-[#0a0a0a] text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"}," ‹ ",8,ke),c("span",we,g(e.group.currentPage||1)+"/"+g(e.group.totalPages),1),c("button",{onClick:a[19]||(a[19]=a=>e.$emit("date-group-next",e.group.date)),disabled:(e.group.currentPage||1)===e.group.totalPages,class:"px-1.5 py-0.5 xs:px-2 xs:py-1 sm:px-3 sm:py-1 md:px-4 md:py-1.5 text-xs xs:text-xs sm:text-sm md:text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-[#0a0a0a] text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"}," › ",8,Ce)])):p("",!0),c("div",{class:"lg:hidden flex items-center justify-center space-x-2 mt-2",onClick:a[26]||(a[26]=b(()=>{},["stop"]))},[ct.value?(i(),n("div",Ee,[y(c("input",{ref:"topicInputTablet","onUpdate:modelValue":a[25]||(a[25]=e=>ut.value=e),onKeyup:[k(ht,["enter"]),k(ft,["escape"])],type:"text",placeholder:v(za)("vocabulary.accordion.topicPlaceholder"),class:"flex-1 px-2 xs:px-2 sm:px-2 md:px-2 py-0.5 xs:py-1 sm:py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 text-xs border border-orange-300 dark:border-orange-600 rounded-md bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"},null,40,$e),[[f,ut.value]]),c("button",{onClick:ht,class:"px-1.5 xs:px-2 sm:px-2 md:px-2 py-0.5 xs:py-1 sm:py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 text-xs bg-orange-600 hover:bg-orange-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 transition-colors","aria-label":v(za)("vocabulary.accordion.saveTopic")},a[67]||(a[67]=[c("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,Ve),c("button",{onClick:ft,class:"px-1.5 xs:px-2 sm:px-2 md:px-2 py-0.5 xs:py-1 sm:py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors","aria-label":v(za)("vocabulary.accordion.cancelTopic")},a[68]||(a[68]=[c("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),8,_e)])):(i(),n("div",Me,[xt.value?(i(),n("div",Te,[a[64]||(a[64]=c("svg",{class:"w-2.5 xs:w-3 sm:w-3 md:w-4 h-2.5 xs:h-3 sm:h-3 md:h-4 text-orange-600 dark:text-orange-400",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1)),c("div",Se,[c("span",{ref:"topicSpanTablet",class:"font-medium text-orange-700 dark:text-orange-300 truncate max-w-[80px] sm:max-w-none block cursor-default text-xs xs:text-xs sm:text-sm md:text-sm",onMouseenter:a[21]||(a[21]=e=>gt.value=!0),onMouseleave:a[22]||(a[22]=e=>gt.value=!1)},g(xt.value),545),gt.value&&Ja.value?(i(),n("div",De,[w(g(xt.value)+" ",1),a[62]||(a[62]=c("div",{class:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900 dark:border-t-gray-700"},null,-1))])):p("",!0)]),c("button",{onClick:b(yt,["stop"]),class:"text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-200 focus:outline-none flex-shrink-0","aria-label":v(za)("vocabulary.accordion.editTopic")},a[63]||(a[63]=[c("svg",{class:"w-2.5 xs:w-3 sm:w-3 md:w-4 h-2.5 xs:h-3 sm:h-3 md:h-4",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1)]),8,Pe)])):(i(),n("button",{key:1,onClick:a[23]||(a[23]=b(e=>ct.value=!0,["stop"])),class:"flex items-center space-x-0.5 xs:space-x-1 sm:space-x-1 md:space-x-1.5 px-2 xs:px-2.5 sm:px-3 md:px-4 py-0.5 xs:py-1 sm:py-1 md:py-1.5 text-xs xs:text-xs sm:text-sm md:text-sm bg-orange-50 hover:bg-orange-100 dark:bg-orange-900/20 dark:hover:bg-orange-800/30 text-orange-600 dark:text-orange-400 rounded-full border border-orange-200 dark:border-orange-800 cursor-pointer transition-colors duration-150","aria-label":v(za)("vocabulary.accordion.addTopic","Add Topic")},[a[65]||(a[65]=c("svg",{class:"w-3 md:w-4 h-3 md:h-4",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1)),c("span",Ie,g(v(za)("vocabulary.accordion.addTopic","Add Topic")),1)],8,ze)),qa.value?(i(),n(C,{key:2},[u(v(Ea),{date:e.group.date,"is-today":Ba.value,onOpenNoteDialog:a[24]||(a[24]=()=>Vt("open-note-dialog",{date:e.group.date,words:e.group.vocabularies}))},null,8,["date","is-today"]),c("button",{onClick:Mt,class:"flex items-center space-x-1 md:space-x-1.5 px-2 xs:px-2.5 sm:px-3 md:px-4 py-0.5 xs:py-1 sm:py-1 md:py-1.5 text-xs md:text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 hover:bg-blue-50 dark:hover:bg-blue-900/50 rounded-full border border-dashed border-blue-300 dark:border-blue-600 hover:border-blue-400 dark:hover:border-blue-500 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":v(za)("vocabulary.addWord","Add Word")},[a[66]||(a[66]=c("svg",{class:"w-3 md:w-4 h-3 md:h-4",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1)),c("span",null,g(v(za)("vocabulary.addWord","Add Word")),1)],8,Le),u(v($a),{date:e.group.date,onOpenGrammarManager:Tt},null,8,["date"])],64)):p("",!0)]))])]),c("div",je,[c("div",{onClick:Ct,class:"flex items-center justify-between flex-wrap gap-1 cursor-pointer py-1 -mx-1 px-1 rounded hover:bg-gray-50 dark:hover:bg-gray-custom transition-colors"},[c("div",Be,[ct.value?(i(),n("div",{key:1,class:"flex items-center space-x-1 xs:space-x-1.5 sm:space-x-2 w-full max-w-[150px] xs:max-w-[200px] sm:max-w-xs",onClick:a[35]||(a[35]=b(()=>{},["stop"]))},[y(c("input",{ref_key:"topicInput",ref:pt,"onUpdate:modelValue":a[34]||(a[34]=e=>ut.value=e),onKeyup:[k(ht,["enter"]),k(ft,["escape"])],type:"text",placeholder:v(za)("vocabulary.accordion.topicPlaceholder"),class:"flex-1 px-2 xs:px-2 sm:px-2 md:px-2 py-0.5 xs:py-1 sm:py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 text-xs border border-orange-300 dark:border-orange-600 rounded-md bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"},null,40,Ue),[[f,ut.value]]),c("button",{onClick:ht,class:"px-1.5 xs:px-2 sm:px-2 md:px-2 py-0.5 xs:py-1 sm:py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 text-xs bg-orange-600 hover:bg-orange-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 transition-colors","aria-label":v(za)("vocabulary.accordion.saveTopic")},a[74]||(a[74]=[c("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,Ge),c("button",{onClick:ft,class:"px-1.5 xs:px-2 sm:px-2 md:px-2 py-0.5 xs:py-1 sm:py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors","aria-label":v(za)("vocabulary.accordion.cancelTopic")},a[75]||(a[75]=[c("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),8,Re)])):(i(),n("div",Ae,[xt.value?(i(),n("div",We,[a[71]||(a[71]=c("svg",{class:"w-3 md:w-4 lg:w-4 xl:w-5 xl:h-5 2xl:w-6 2xl:h-6 h-3 md:h-4 lg:h-4 text-orange-600 dark:text-orange-400",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1)),c("div",Oe,[c("span",{ref_key:"topicSpanDesktop",ref:mt,class:"text-xs md:text-sm lg:text-base xl:text-sm 2xl:text-base font-medium text-orange-700 dark:text-orange-300 truncate max-w-[80px] sm:max-w-none block cursor-default",onMouseenter:a[27]||(a[27]=e=>gt.value=!0),onMouseleave:a[28]||(a[28]=e=>gt.value=!1)},g(xt.value),545),gt.value&&Ja.value?(i(),n("div",He,[w(g(xt.value)+" ",1),a[69]||(a[69]=c("div",{class:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900 dark:border-t-gray-700"},null,-1))])):p("",!0)]),c("button",{onClick:b(yt,["stop"]),class:"text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-200 focus:outline-none flex-shrink-0","aria-label":v(za)("vocabulary.accordion.editTopic")},a[70]||(a[70]=[c("svg",{class:"w-3 md:w-4 lg:w-4 xl:w-5 xl:h-5 2xl:w-6 2xl:h-6 h-3 md:h-4 lg:h-4",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1)]),8,Ne)])):(i(),n("button",{key:1,onClick:a[29]||(a[29]=b(e=>ct.value=!0,["stop"])),class:"flex items-center space-x-1 md:space-x-1.5 px-2 xs:px-2.5 sm:px-3 md:px-4 py-0.5 xs:py-1 sm:py-1 md:py-1.5 text-xs md:text-sm lg:text-base xl:text-sm 2xl:text-base font-medium bg-orange-50 hover:bg-orange-100 dark:bg-orange-900/20 dark:hover:bg-orange-800/30 text-orange-600 dark:text-orange-400 rounded-full border border-dashed border-orange-200 dark:border-orange-800 hover:border-orange-400 dark:hover:border-orange-500 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500","aria-label":v(za)("vocabulary.accordion.addTopic","Add Topic")},[a[72]||(a[72]=c("svg",{class:"w-3 md:w-4 lg:w-4 xl:w-5 xl:h-5 2xl:w-6 2xl:h-6 h-3 md:h-4 lg:h-4",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1)),c("span",null,g(v(za)("vocabulary.accordion.addTopic","Add Topic")),1)],8,Fe)),qa.value?(i(),n(C,{key:2},[c("div",{class:"flex-shrink-0",onClick:a[31]||(a[31]=b(()=>{},["stop"]))},[u(v(Ea),{date:e.group.date,"is-today":Ba.value,onOpenNoteDialog:a[30]||(a[30]=()=>Vt("open-note-dialog",{date:e.group.date,words:e.group.vocabularies}))},null,8,["date","is-today"])]),c("div",{class:"flex-shrink-0",onClick:a[32]||(a[32]=b(()=>{},["stop"]))},[c("button",{onClick:Mt,class:"flex items-center space-x-1 md:space-x-1.5 px-2 xs:px-2.5 sm:px-3 md:px-4 py-0.5 xs:py-1 sm:py-1 md:py-1.5 text-xs md:text-sm lg:text-base xl:text-sm 2xl:text-base font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 hover:bg-blue-50 dark:hover:bg-blue-900/50 rounded-full border border-dashed border-blue-300 dark:border-blue-600 hover:border-blue-400 dark:hover:border-blue-500 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":v(za)("vocabulary.addWord","Add Word")},[a[73]||(a[73]=c("svg",{class:"w-3 md:w-4 lg:w-4 xl:w-5 xl:h-5 2xl:w-6 2xl:h-6 h-3 md:h-4 lg:h-4",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1)),c("span",null,g(v(za)("vocabulary.addWord","Add Word")),1)],8,Je)]),c("div",{class:"flex-shrink-0",onClick:a[33]||(a[33]=b(()=>{},["stop"]))},[u(v($a),{date:e.group.date,onOpenGrammarManager:Tt},null,8,["date"])])],64)):p("",!0)]))])])])]),u(S,{name:"accordion"},{default:M(()=>[Ua.value?(i(),n("div",qe,[e.group.topics&&e.group.topics.length>0?(i(),n("div",Ke,[(i(!0),n(C,null,T(e.group.topics,t=>{return i(),n("div",{key:t.topic,class:"topic-group",onMouseenter:a=>e.hoverToExpandEnabled?ot(t.topic,!0):null,onMouseleave:a=>e.hoverToExpandEnabled?ot(t.topic,!1):null},[c("div",Qe,[c("div",{id:`date-group-${e.group.date}-topic-${t.topic}`,class:"flex items-center justify-between px-6 py-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-custom/50",onClick:e=>{return a=t.topic,Ka.value[a]=!Ka.value[a],void(Ya.value[a]||(Ya.value[a]={currentPage:1}));var a}},[c("div",Ze,[(i(),n("svg",{class:x(["w-4 h-4 text-gray-400 dark:text-gray-500 transition-transform duration-200",{"transform rotate-90":Qa(t.topic)}]),fill:"currentColor",viewBox:"0 0 20 20"},a[76]||(a[76]=[c("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"},null,-1)]),2)),c("div",ea,[c("h5",aa,[w(g(v(I)(t.topic,v(za),v(Ia)))+" ",1),c("span",ta,"("+g(t.vocabularies.length)+")",1)]),c("div",{class:"relative",onMouseenter:b(e=>{return a=t.topic,Dt.value=a,void Vt("request-available-dates",{topic:a,currentDate:_a.group.date});var a},["stop"]),onMouseleave:Pt,onClick:a[36]||(a[36]=b(()=>{},["stop"]))},[c("button",{type:"button",class:"p-1 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md","aria-label":v(za)("vocabulary.sameTopicDatesAria","Show dates with same topic")},a[77]||(a[77]=[c("svg",{viewBox:"0 0 24 24",fill:"currentColor",class:"w-4 h-4"},[c("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm.75 15h-1.5v-6h1.5v6zm0-8h-1.5V7h1.5v2z"})],-1)]),8,oa),Dt.value===t.topic?(i(),n("div",{key:0,class:"absolute left-full top-1/2 -translate-y-1/2 ml-3 w-64 rounded-lg shadow-xl ring-1 ring-black/5 bg-white text-gray-800 p-3 z-30 border border-gray-200 dark:bg-[#0a0a0a] dark:text-white dark:border dark:border-[#0f0f0f]",onMouseenter:Et,onMouseleave:$t},[a[78]||(a[78]=c("div",{class:"absolute -left-1.5 top-1/2 -translate-y-1/2 w-3 h-3 rotate-45 bg-white dark:bg-[#0a0a0a]","aria-hidden":"true"},null,-1)),c("div",la,g(v(za)("vocabulary.sameTopicDatesTitle","Dates with same topic")),1),St.value[t.topic]&&0!==St.value[t.topic].length?(i(),n("ul",{key:1,class:x(["text-xs space-y-1 pr-1 overflow-y-auto",{"max-h-24":(St.value[t.topic]?.length||0)>=4}])},[(i(!0),n(C,null,T(St.value[t.topic],e=>{return i(),n("li",{key:e.date,class:"flex items-center justify-between hover:bg-white dark:hover:bg-[#0f0f0f] rounded px-2 py-1 cursor-pointer",onClick:a=>{return r=e.date,o=t.topic,console.log("🎯 Tooltip navigation:",{targetDate:r,topic:o,currentDate:_a.group.date}),Dt.value=null,void(r===_a.group.date?(console.log("📍 Same date navigation - expanding locally"),Ua.value=!0,Ka.value[o]=!0,s(()=>{const e=document.getElementById(`date-group-${_a.group.date}-topic-${o}`);e&&"function"==typeof e.scrollIntoView&&e.scrollIntoView({behavior:"smooth",block:"center"})})):(console.log("🚀 Cross-date navigation - emitting to parent"),Vt("navigate-to-date-topic",{date:r,topic:o})));var r,o}},[c("span",null,g((a=e.date,new Date(a).toLocaleDateString(Ia.value,{year:"numeric",month:"short",day:"numeric"}))),1),c("span",na,"("+g(e.count)+")",1)],8,da);var a}),128))],2)):(i(),n("div",sa,g(v(za)("vocabulary.sameTopicDatesEmpty","No other dates found for this topic")),1))],32)):p("",!0)],40,ra)])]),e.globalMoveMode&&t.vocabularies.length>0?(i(),n("button",{key:0,onClick:b(e=>(e=>{Vt("batch-move-category",{topic:e.topic,words:e.vocabularies,sourceDate:_a.group.date})})(t),["stop"]),class:"ml-auto mr-2 p-1.5 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded-md transition-colors",title:v(za)("vocabulary.moveCategoryToAnotherDay","Move all words in this category to another day")},a[79]||(a[79]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})],-1)]),8,ia)):p("",!0)],8,Xe),Qa(t.topic)&&et(t).totalPages>1?(i(),n("div",{key:0,class:"px-6 pb-3",onClick:a[37]||(a[37]=b(()=>{},["stop"]))},[c("div",ca,[c("div",ua,[c("button",{onClick:e=>tt(t.topic),disabled:!et(t).hasPrevious,class:"relative inline-flex items-center px-2 md:px-2 py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 border border-gray-300 dark:border-gray-600 text-xs font-medium rounded text-gray-700 dark:text-gray-300 bg-white dark:bg-[#0a0a0a] hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"},g(v(za)("common.previous")),9,pa),c("button",{onClick:e=>at(t.topic),disabled:!et(t).hasNext,class:"ml-2 relative inline-flex items-center px-2 md:px-2 py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 border border-gray-300 dark:border-gray-600 text-xs font-medium rounded text-gray-700 dark:text-gray-300 bg-white dark:bg-[#0a0a0a] hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"},g(v(za)("common.next")),9,xa)]),c("div",ga,[c("div",null,[c("p",va,g(v(za)("vocabulary.showingCategoryItems",{start:et(t).startIndex,end:et(t).endIndex,total:et(t).totalItems},`Showing ${et(t).startIndex} to ${et(t).endIndex} of ${et(t).totalItems} items`)),1)]),c("div",null,[c("nav",ma,[c("button",{onClick:e=>tt(t.topic),disabled:!et(t).hasPrevious,class:"relative inline-flex items-center px-1.5 md:px-1.5 py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-[#0a0a0a] text-xs font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"},[c("span",ya,g(v(za)("common.previous")),1),a[80]||(a[80]=c("svg",{class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1))],8,ba),(i(!0),n(C,null,T((r=et(t).currentPage,o=et(t).totalPages,o<=7?Array.from({length:o},(e,a)=>a+1):r<=4?[1,2,3,4,5,-1,o]:r>=o-3?[1,-1,o-4,o-3,o-2,o-1,o]:[1,-1,r-1,r,r+1,-1,o]),e=>(i(),n("button",{key:`${t.topic}-${e}`,onClick:a=>e>0?((e,a)=>{const t=_a.group.topics?.find(a=>a.topic===e)?.vocabularies.length||0,r=Math.ceil(t/5);a>=1&&a<=r&&Za(e,a)})(t.topic,e):null,disabled:-1===e,class:x([e===et(t).currentPage?"z-10 bg-blue-50 dark:bg-blue-900 border-blue-500 dark:border-blue-400 text-blue-600 dark:text-blue-300":-1===e?"bg-white dark:bg-[#0a0a0a] border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 cursor-default":"bg-white dark:bg-[#0a0a0a] border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600","relative inline-flex items-center px-2 md:px-2 py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 border text-xs font-medium"])},g(-1===e?"...":e),11,ha))),128)),c("button",{onClick:e=>at(t.topic),disabled:!et(t).hasNext,class:"relative inline-flex items-center px-1.5 md:px-1.5 py-1 md:py-1.5 xl:py-1.5 2xl:py-1.5 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-[#0a0a0a] text-xs font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"},[c("span",ka,g(v(za)("common.next")),1),a[81]||(a[81]=c("svg",{class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1))],8,fa)])])])])])):p("",!0)]),u(S,{name:"topic-accordion"},{default:M(()=>[Qa(t.topic)?(i(),n("div",wa,[c("div",Ca,[(i(!0),n(C,null,T(et(t).vocabularies,t=>(i(),D(v(La),{key:t.id,word:t,"move-mode":e.globalMoveMode,onPlayAudio:a[38]||(a[38]=a=>e.$emit("play-audio",a)),onEditWord:a[39]||(a[39]=a=>e.$emit("edit-word",a)),onDeleteWord:a[40]||(a[40]=a=>e.$emit("delete-word",a)),onToggleFavorite:a[41]||(a[41]=a=>e.$emit("toggle-favorite",a)),onViewDetails:a[42]||(a[42]=a=>e.$emit("view-details",a)),onMoveVocabulary:kt},null,8,["word","move-mode"]))),128))])])):p("",!0)]),_:2},1024)],40,Ye);var r,o}),128))])):(i(),n("div",Ma,[(i(!0),n(C,null,T(e.group.vocabularies,t=>(i(),D(v(La),{key:t.id,word:t,"move-mode":e.globalMoveMode,onPlayAudio:a[43]||(a[43]=a=>e.$emit("play-audio",a)),onEditWord:a[44]||(a[44]=a=>e.$emit("edit-word",a)),onDeleteWord:a[45]||(a[45]=a=>e.$emit("delete-word",a)),onToggleFavorite:a[46]||(a[46]=a=>e.$emit("toggle-favorite",a)),onViewDetails:a[47]||(a[47]=a=>e.$emit("view-details",a)),onMoveVocabulary:kt},null,8,["word","move-mode"]))),128))]))])):p("",!0)]),_:1})])]))}}),[["__scopeId","data-v-6105a4b6"]]);export{za as default};
