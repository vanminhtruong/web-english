import{u as t}from"./ui-vendor-D-J_fEQ5.js";import{d as e,C as a,A as m,D as s,J as i,c as r,v as l,e as o,b as d,f as n,t as p,n as c,g as u,u as x,a3 as v}from"./vue-vendor-Bt65BSdi.js";import{_ as b}from"./_plugin-vue_export-helper-BCo6x5W8.js";const g={class:"practice-timer"},y={key:0,class:"flex items-center justify-center gap-1 sm:gap-2 md:gap-3 mb-3 sm:mb-4 md:mb-5"},f={class:"font-mono font-bold text-sm sm:text-base md:text-lg"},h={key:1,class:"text-center mb-4 sm:mb-5 md:mb-6"},w={class:"text-xs sm:text-sm md:text-base text-gray-500 dark:text-gray-400 mt-2"},k={key:0,class:"timeout-modal-overlay",style:{position:"fixed !important",top:"0 !important",left:"0 !important",right:"0 !important",bottom:"0 !important","z-index":"99999 !important",background:"rgba(0,0,0,0.5) !important",display:"flex !important","align-items":"center !important","justify-content":"center !important",padding:"12px !important"}},T={style:{position:"relative !important","z-index":"100000 !important"},class:"timeout-modal-content flex items-center justify-center z-[9999] p-3 sm:p-4 md:p-6"},z={class:"bg-white dark:bg-[#0a0a0a] rounded-xl p-4 sm:p-6 md:p-8 max-w-xs sm:max-w-sm md:max-w-md mx-auto text-center w-full"},S={class:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900 dark:text-white mb-2 sm:mb-3 md:mb-4"},C={class:"text-sm sm:text-base md:text-lg text-gray-600 dark:text-gray-300 mb-4 sm:mb-5 md:mb-6 leading-relaxed"},_={class:"flex gap-2 sm:gap-3 md:gap-4"},j=b(e({__name:"PracticeTimer",props:{maxTime:{default:30},autoStart:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["start","timeout","tick","restart","skip"],setup(e,{expose:b,emit:j}){const L=e,M=j,{t:B}=t(),A=a(()=>{const t=B("practice.timer.timeLimit",{seconds:L.maxTime});return"practice.timer.timeLimit"===t?`Time limit: ${L.maxTime} seconds`:t}),P=m(L.maxTime),I=m(!1),$=m(!1),U=m(!1);let V=null;a(()=>I.value&&P.value>0);const D=()=>{$.value=!0,J(),M("start")},J=()=>{L.disabled||(I.value=!0,P.value=L.maxTime,V=setInterval(()=>{P.value>0?(P.value--,M("tick",P.value)):q()},1e3))},W=()=>{V&&(clearInterval(V),V=null)},Y=()=>{W(),P.value=L.maxTime},q=()=>{W(),U.value=!0,M("timeout")},E=()=>{U.value=!1,Y(),J(),M("restart")},F=()=>{U.value=!1,W(),I.value=!1,M("skip")},G=t=>{const e=t%60;return`${Math.floor(t/60).toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`};return s(()=>L.disabled,t=>{t&&W()}),s(()=>L.autoStart,t=>{t&&!$.value&&D()}),s(U,t=>{t?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open")}),i(()=>{W()}),b({startTimer:J,stopTimer:W,resetTimer:Y,nextCard:()=>{$.value&&(Y(),J())},hasStarted:$,resetPractice:()=>{W(),I.value=!1,$.value=!1,P.value=L.maxTime,U.value=!1}}),(t,e)=>(l(),r("div",g,[I.value?(l(),r("div",y,[n("div",{class:c(["timer-display",P.value<=5?"timer-critical":P.value<=10?"timer-warning":"timer-normal"])},[e[0]||(e[0]=n("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})],-1)),n("span",f,p(G(P.value)),1)],2)])):o("",!0),$.value?o("",!0):(l(),r("div",h,[n("button",{onClick:D,class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 sm:px-6 sm:py-3 md:px-8 md:py-4 rounded-lg sm:rounded-xl md:rounded-2xl font-semibold text-sm sm:text-base md:text-lg transition-colors shadow-lg hover:shadow-xl"},[e[1]||(e[1]=n("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 inline-block mr-1 sm:mr-2 md:mr-3",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z","clip-rule":"evenodd"})],-1)),u(" "+p(x(B)("practice.timer.startPractice","Start Practice")),1)]),n("div",w,p(A.value),1)])),(l(),d(v,{to:"body"},[U.value?(l(),r("div",k,[n("div",T,[n("div",z,[e[2]||(e[2]=n("div",{class:"text-red-500 mb-3 sm:mb-4 md:mb-5"},[n("svg",{class:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 mx-auto",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})])],-1)),n("h3",S,p(x(B)("practice.timer.timeUp","Time is up!")),1),n("p",C,p(x(B)("practice.timer.timeUpMessage","Your time is up. Would you like to try again or skip this card?")),1),n("div",_,[n("button",{onClick:E,class:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 sm:px-4 sm:py-2 md:px-5 md:py-3 rounded-lg font-medium transition-colors text-xs sm:text-sm md:text-base"},p(x(B)("practice.timer.tryAgain","Try Again")),1),n("button",{onClick:F,class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-3 py-2 sm:px-4 sm:py-2 md:px-5 md:py-3 rounded-lg font-medium transition-colors text-xs sm:text-sm md:text-base"},p(x(B)("practice.timer.skip","Skip")),1)])])])])):o("",!0)]))]))}}),[["__scopeId","data-v-1d84fe0e"]]);export{j as default};
