{"version":3,"file":"IpaPickerModal-D_Tsf7Xr.js","sources":["../../src/views/vocabulary/components/IpaPickerModal.vue"],"sourcesContent":["<template>\n  <!-- IPA Picker Modal (no click-outside close) -->\n  <Teleport to=\"body\">\n    <Transition\n      enter-active-class=\"transition-all duration-500 ease-out\"\n      enter-from-class=\"opacity-0\"\n      enter-to-class=\"opacity-100\"\n      leave-active-class=\"transition-all duration-300 ease-in\"\n      leave-from-class=\"opacity-100\"\n      leave-to-class=\"opacity-0\"\n    >\n      <div v-if=\"modelValue\" class=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[60000] backdrop-blur-sm\">\n        <Transition\n          enter-active-class=\"transition-all duration-500 ease-out\"\n          enter-from-class=\"opacity-0 scale-90 translate-y-8 rotate-1\"\n          enter-to-class=\"opacity-100 scale-100 translate-y-0 rotate-0\"\n          leave-active-class=\"transition-all duration-300 ease-in\"\n          leave-from-class=\"opacity-100 scale-100 translate-y-0 rotate-0\"\n          leave-to-class=\"opacity-0 scale-90 translate-y-8 rotate-1\"\n        >\n          <div class=\"w-full max-w-2xl\">\n            <div class=\"bg-white dark:bg-dark-bg-soft shadow-2xl rounded-xl border border-gray-200 dark:border-dark-bg-mute overflow-hidden transform\" @click.stop>\n              <!-- Header -->\n              <div class=\"px-5 py-4 border-b border-gray-200 dark:border-dark-bg-mute bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-dark-bg-soft dark:to-dark-bg-soft flex items-center justify-between\">\n                <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white flex items-center space-x-2\">\n                  <span class=\"w-2 h-2 bg-blue-500 rounded-full animate-pulse\"></span>\n                  <span>{{ t('vocabulary.pronunciation.ipaPickerTitle', 'IPA Picker') }}</span>\n                </h3>\n                <button\n                  type=\"button\"\n                  @click=\"closeModal\"\n                  class=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-all duration-300 hover:scale-110 hover:rotate-90 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800\"\n                  :title=\"t('common.close', 'Close')\"\n                  :aria-label=\"t('common.close', 'Close')\"\n                >\n                  <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\n                  </svg>\n                </button>\n              </div>\n\n              <!-- Body -->\n              <div class=\"px-5 py-4 space-y-4\">\n                <!-- Preview -->\n                <div class=\"p-3 rounded-lg border border-gray-200 dark:border-dark-bg-mute bg-white dark:bg-gray-custom\">\n                  <div class=\"text-2xl md:text-3xl font-mono text-gray-900 dark:text-white break-words min-h-[2.5rem]\">\n                    {{ ipaDraft || t('vocabulary.pronunciation.previewPlaceholder', 'Start building IPA...') }}\n                  </div>\n                </div>\n\n                <!-- Quick controls -->\n                <div class=\"flex flex-wrap gap-2\">\n                  <button\n                    type=\"button\"\n                    @click=\"wrapWithSlashes\"\n                    class=\"px-3 py-1.5 rounded-lg border border-gray-300 dark:border-dark-bg-mute text-gray-800 dark:text-white dark:bg-gray-custom hover:bg-gray-100 dark:hover:bg-gray-custom\"\n                    :title=\"t('vocabulary.pronunciation.wrap', 'Wrap with slashes')\"\n                    :aria-label=\"t('vocabulary.pronunciation.wrap', 'Wrap with slashes')\"\n                  >\n                    /.../\n                  </button>\n                  <button\n                    type=\"button\"\n                    @click=\"backspaceIpa\"\n                    class=\"px-3 py-1.5 rounded-lg border border-gray-300 dark:border-dark-bg-mute text-gray-800 dark:text-white dark:bg-gray-custom hover:bg-gray-100 dark:hover:bg-gray-custom\"\n                    :title=\"t('common.backspace', 'Backspace')\"\n                    :aria-label=\"t('common.backspace', 'Backspace')\"\n                  >\n                    {{ t('common.backspace', 'Backspace') }}\n                  </button>\n                  <button\n                    type=\"button\"\n                    @click=\"clearIpa\"\n                    class=\"px-3 py-1.5 rounded-lg border border-gray-300 dark:border-dark-bg-mute text-gray-800 dark:text-white dark:bg-gray-custom hover:bg-gray-100 dark:hover:bg-gray-custom\"\n                    :title=\"t('common.clear', 'Clear')\"\n                    :aria-label=\"t('common.clear', 'Clear')\"\n                  >\n                    {{ t('common.clear', 'Clear') }}\n                  </button>\n                  <button\n                    type=\"button\"\n                    @click=\"applyIpa\"\n                    class=\"ml-auto px-3 py-1.5 rounded-lg bg-green-600 hover:bg-green-700 text-white\"\n                    :title=\"t('common.apply', 'Apply')\"\n                    :aria-label=\"t('common.apply', 'Apply')\"\n                  >\n                    {{ t('common.apply', 'Apply') }}\n                  </button>\n                </div>\n\n                <!-- Symbols -->\n                <div class=\"space-y-4\">\n                  <!-- Vowels -->\n                  <div>\n                    <div class=\"text-sm font-medium text-gray-600 dark:text-white/70 mb-2\">{{ t('vocabulary.pronunciation.vowels', 'Vowels') }}</div>\n                    <div class=\"flex flex-wrap gap-2\">\n                      <button v-for=\"s in IPA_VOWELS\" :key=\"'v-'+s\" type=\"button\" @click=\"appendIpa(s)\" class=\"px-2.5 py-1.5 rounded-md border border-gray-300 dark:border-dark-bg-mute text-gray-900 dark:text-white dark:bg-gray-custom hover:bg-gray-100 dark:hover:bg-gray-custom\">\n                        {{ s }}\n                      </button>\n                    </div>\n                  </div>\n\n                  <!-- Diphthongs -->\n                  <div>\n                    <div class=\"text-sm font-medium text-gray-600 dark:text-white/70 mb-2\">{{ t('vocabulary.pronunciation.diphthongs', 'Diphthongs') }}</div>\n                    <div class=\"flex flex-wrap gap-2\">\n                      <button v-for=\"s in IPA_DIPHTHONGS\" :key=\"'d-'+s\" type=\"button\" @click=\"appendIpa(s)\" class=\"px-2.5 py-1.5 rounded-md border border-gray-300 dark:border-dark-bg-mute text-gray-900 dark:text-white dark:bg-gray-custom hover:bg-gray-100 dark:hover:bg-gray-custom\">\n                        {{ s }}\n                      </button>\n                    </div>\n                  </div>\n\n                  <!-- Consonants -->\n                  <div>\n                    <div class=\"text-sm font-medium text-gray-600 dark:text-white/70 mb-2\">{{ t('vocabulary.pronunciation.consonants', 'Consonants') }}</div>\n                    <div class=\"flex flex-wrap gap-2\">\n                      <button v-for=\"s in IPA_CONSONANTS\" :key=\"'c-'+s\" type=\"button\" @click=\"appendIpa(s)\" class=\"px-2.5 py-1.5 rounded-md border border-gray-300 dark:border-dark-bg-mute text-gray-900 dark:text-white dark:bg-gray-custom hover:bg-gray-100 dark:hover:bg-gray-custom\">\n                        {{ s }}\n                      </button>\n                    </div>\n                  </div>\n\n                  <!-- Marks -->\n                  <div>\n                    <div class=\"text-sm font-medium text-gray-600 dark:text-white/70 mb-2\">{{ t('vocabulary.pronunciation.marks', 'Marks') }}</div>\n                    <div class=\"flex flex-wrap gap-2\">\n                      <button v-for=\"s in IPA_MARKS\" :key=\"'m-'+s\" type=\"button\" @click=\"appendIpa(s)\" class=\"px-2.5 py-1.5 rounded-md border border-gray-300 dark:border-dark-bg-mute text-gray-900 dark:text-white dark:bg-gray-custom hover:bg-gray-100 dark:hover:bg-gray-custom\">\n                        {{ s === ' ' ? t('common.space', 'Space') : s }}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </Transition>\n      </div>\n    </Transition>\n  </Teleport>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, watch } from 'vue'\nimport { useI18n } from 'vue-i18n'\n\ninterface Props {\n  modelValue: boolean\n  initialValue?: string\n}\n\ninterface Emits {\n  'update:modelValue': [value: boolean]\n  'apply': [value: string]\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  initialValue: ''\n})\n\nconst emit = defineEmits<Emits>()\nconst { t } = useI18n()\n\n// IPA Draft state\nconst ipaDraft = ref('')\n\n// IPA symbol sets\nconst IPA_VOWELS: string[] = [\n  // Monophthongs (short/long where applicable)\n  'i', 'iː', 'ɪ',\n  'e', 'ɛ', 'æ',\n  'u', 'uː', 'ʊ',\n  'o', 'ɔ', 'ɒ', 'ɑ',\n  'ʌ', 'ɜ', 'ɜː', 'ɝ', 'ɚ', 'ə'\n]\n\nconst IPA_DIPHTHONGS: string[] = [\n  // Common diphthongs (BrE/AmE variants included)\n  'eɪ', 'aɪ', 'ɔɪ', 'aʊ', 'əʊ', 'oʊ', 'ɪə', 'eə', 'ʊə'\n]\n\nconst IPA_CONSONANTS: string[] = [\n  // Plosives\n  'p', 'b', 't', 'd', 'k', 'g',\n  // Fricatives\n  'f', 'v', 'θ', 'ð', 's', 'z', 'ʃ', 'ʒ', 'h',\n  // Affricates\n  'tʃ', 'dʒ',\n  // Nasals\n  'm', 'n', 'ŋ',\n  // Liquids\n  'l', 'ɫ', 'r', 'ɹ',\n  // Glides\n  'w', 'j',\n  // Other\n  'ʔ', 'ɾ', 'ʍ'\n]\n\nconst IPA_MARKS: string[] = ['ˈ', 'ˌ', 'ː', '.', ' ']\n\n// Watch for modal open to initialize draft\nwatch(() => props.modelValue, (isOpen) => {\n  if (isOpen) {\n    ipaDraft.value = props.initialValue || ''\n  }\n})\n\n// Methods\nconst closeModal = () => {\n  emit('update:modelValue', false)\n}\n\nconst appendIpa = (symbol: string) => {\n  ipaDraft.value += symbol\n}\n\nconst clearIpa = () => {\n  ipaDraft.value = ''\n}\n\nconst backspaceIpa = () => {\n  if (!ipaDraft.value) return\n  // Remove last character (sufficient for our symbol sets)\n  ipaDraft.value = ipaDraft.value.slice(0, -1)\n}\n\nconst wrapWithSlashes = () => {\n  const trimmed = ipaDraft.value.trim()\n  if (!trimmed) {\n    ipaDraft.value = '/ /'\n    return\n  }\n  const alreadyWrapped = trimmed.startsWith('/') && trimmed.endsWith('/')\n  ipaDraft.value = alreadyWrapped ? trimmed : `/${trimmed.replace(/^\\/+|\\/+$/g, '')}/`\n}\n\nconst applyIpa = () => {\n  emit('apply', ipaDraft.value.trim())\n  closeModal()\n}\n</script>\n"],"names":["_createBlock","_Teleport","_createVNode","_Transition","modelValue","_openBlock","_createElementBlock","_createElementVNode","_unref","_toDisplayString","_Fragment","_renderList"],"mappings":"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"}