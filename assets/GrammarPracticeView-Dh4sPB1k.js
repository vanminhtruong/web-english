const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["/web-english/assets/MultipleChoiceExercise-C2RkgbCS.js","/web-english/assets/ui-vendor-D-J_fEQ5.js","/web-english/assets/vue-vendor-Bt65BSdi.js","/web-english/assets/voiceStore-o6lhlGgY.js","/web-english/assets/FillBlankExercise-BOqto-32.js","/web-english/assets/PronunciationExercise-CTx9lFdY.js","/web-english/assets/ReadingExercise-BSp507mD.js","/web-english/assets/ListeningExercise-CxRH94GB.js","/web-english/assets/utils-vendor-DwIcHP6x.js","/web-english/assets/WritingExercise-CNtMkOev.js","/web-english/assets/ExerciseManager-B_Y9Pck6.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./index-DmJNupMF.js";import{d as t,U as r,V as a,C as l,A as o,G as i,N as s,D as n,I as d,c,v as u,Z as g,f as m,y as p,e as x,t as b,u as v,g as y,F as h,j as f,n as k,b as w,r as q,a as C,w as M,Y as _,i as U,M as j,$ as V,_ as A,a0 as P}from"./vue-vendor-Bt65BSdi.js";import{u as E}from"./ui-vendor-D-J_fEQ5.js";import{u as S}from"./voiceStore-o6lhlGgY.js";const L={class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-[#0a0a0a] dark:to-[#0f0f0f] relative overflow-x-hidden"},I={class:"relative z-10 max-w-full sm:max-w-full md:max-w-full lg:max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-3 sm:pt-6"},B={class:"group bg-white/80 dark:bg-[#0a0a0a]/80 backdrop-blur-md shadow-xl hover:shadow-2xl rounded-2xl border border-white/20 dark:border-white/10 transition-all duration-500 hover:scale-[1.005] p-3 sm:p-4 md:p-5 lg:p-6"},D={class:"flex items-center justify-between"},z={class:"flex items-center space-x-4"},T={class:"flex items-center mb-1"},O={class:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent"},W={class:"text-sm text-gray-600 dark:text-white/70"},N={class:"flex items-center space-x-4"},H={class:"text-sm text-gray-600 dark:text-white/70"},R={class:"font-medium text-blue-600 dark:text-blue-400"},$=["title"],Q=["title"],J={class:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},F={key:0,class:"space-y-6"},G={class:"text-center"},Y={class:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent mb-4"},Z={class:"text-gray-700 dark:text-white/70 mb-8"},X={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},K=["onClick"],ee={class:"text-center"},te={class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},re={class:"text-sm text-gray-600 dark:text-white/70 mb-4"},ae={class:"flex items-center justify-center space-x-4 text-xs text-gray-500 dark:text-white/60"},le={key:1,class:"space-y-6"},oe={class:"bg-white dark:bg-[#0a0a0a] rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6"},ie={class:"flex items-center justify-between"},se={class:"flex items-center space-x-4"},ne={class:"text-xl font-semibold text-gray-900 dark:text-white"},de={class:"text-sm text-gray-500 dark:text-gray-400"},ce={class:"flex items-center space-x-4"},ue={class:"w-32 bg-gray-200 dark:bg-mute rounded-full h-2"},ge={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},me={key:0,class:"fixed inset-0 bg-black/50 dark:bg-black/60 flex items-center justify-center p-4 z-50 backdrop-blur-sm"},pe={class:"bg-white dark:bg-[#0a0a0a] shadow-2xl rounded-xl border border-gray-200 dark:border-dark-bg-mute flex flex-col h-full overflow-hidden transform"},xe={class:"px-6 py-4 border-b border-gray-200 dark:border-dark-bg-mute flex-shrink-0 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-[#0a0a0a] dark:to-[#0a0a0a]"},be={class:"flex items-center justify-between"},ve={class:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white flex items-center space-x-2"},ye={class:"px-6 py-4 flex-1 overflow-y-auto min-h-0 space-y-4"},he={class:"block text-sm font-medium text-gray-700 dark:text-white mb-2"},fe={value:"easy"},ke={value:"medium"},we={value:"hard"},qe={class:"flex items-center justify-between"},Ce={class:"text-sm font-medium text-gray-700 dark:text-white"},Me={class:"flex items-center justify-between"},_e={class:"text-sm font-medium text-gray-700 dark:text-white"},Ue={class:"px-6 py-4 border-t border-gray-200 dark:border-dark-bg-mute flex-shrink-0 bg-gradient-to-r from-gray-50 to-blue-50 dark:from-[#0a0a0a] dark:to-[#0a0a0a]"},je={class:"flex justify-end space-x-3"},Ve={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Ae={class:"bg-white dark:bg-[#0a0a0a] rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 p-6 max-w-lg w-full mx-4"},Pe={class:"text-center"},Ee={class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"},Se={class:"space-y-4 mb-6"},Le={class:"grid grid-cols-3 gap-4 text-center"},Ie={class:"bg-blue-50 dark:bg-blue-900/30 rounded-lg p-4"},Be={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},De={class:"text-sm text-gray-600 dark:text-gray-400"},ze={class:"bg-red-50 dark:bg-red-900/30 rounded-lg p-4"},Te={class:"text-2xl font-bold text-red-600 dark:text-red-400"},Oe={class:"text-sm text-gray-600 dark:text-gray-400"},We={class:"bg-green-50 dark:bg-green-900/30 rounded-lg p-4"},Ne={class:"text-2xl font-bold text-green-600 dark:text-green-400"},He={class:"text-sm text-gray-600 dark:text-gray-400"},Re={class:"flex justify-center space-x-4"},$e={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Qe={class:"bg-white dark:bg-[#0a0a0a] rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto"},Je={class:"flex items-center justify-between mb-6"},Fe={class:"text-lg font-semibold text-gray-900 dark:text-white"},Ge={class:"space-y-6"},Ye={class:"bg-gray-50 dark:bg-gray-800/30 border border-gray-200 dark:border-gray-600 rounded-lg p-4"},Ze={class:"text-md font-medium text-gray-900 dark:text-white mb-4"},Xe={key:0,class:"space-y-4"},Ke={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},et={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},tt={value:"essay"},rt={value:"email"},at={value:"letter"},lt={value:"paragraph"},ot={class:"grid grid-cols-2 gap-2"},it={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},st={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},nt={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},dt=["placeholder"],ct={class:"flex items-center justify-between mb-2"},ut={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},gt={class:"space-y-2"},mt=["onUpdate:modelValue","placeholder"],pt=["onClick","disabled"],xt={key:1,class:"space-y-4"},bt={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},vt=["placeholder"],yt={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},ht={class:"space-y-2"},ft={class:"text-sm font-medium text-gray-500 dark:text-gray-400 w-6"},kt=["onUpdate:modelValue","placeholder"],wt={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},qt=["value"],Ct={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},Mt=["placeholder"],_t={key:2,class:"space-y-4"},Ut={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},jt={class:"relative"},Vt=["placeholder"],At={class:"mt-2 text-xs text-gray-500 dark:text-gray-400"},Pt={key:0,class:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg"},Et={class:"flex items-center space-x-2 text-sm text-blue-800 dark:text-blue-200"},St={class:"mt-2 text-xs text-gray-600 dark:text-gray-400"},Lt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},It={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},Bt={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},Dt={value:"easy"},zt={value:"medium"},Tt={value:"hard"},Ot={class:"flex items-center"},Wt={class:"flex items-center space-x-2 cursor-pointer"},Nt={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},Ht={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},Rt=["placeholder"],$t={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},Qt={class:"space-y-3"},Jt={class:"flex items-center justify-between mb-2"},Ft={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},Gt=["onClick","disabled"],Yt={class:"space-y-2"},Zt=["onUpdate:modelValue"],Xt={value:"multiple-choice"},Kt={value:"fill-blank"},er={value:"ordering"},tr=["onUpdate:modelValue","placeholder"],rr={key:0,class:"space-y-1"},ar={class:"text-xs font-medium text-gray-500 dark:text-gray-400 w-4"},lr=["onUpdate:modelValue","placeholder"],or=["onUpdate:modelValue"],ir={value:""},sr=["value"],nr={key:1},dr=["onUpdate:modelValue","placeholder"],cr={key:3,class:"space-y-4"},ur={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},gr=["placeholder"],mr={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},pr=["placeholder"],xr={class:"flex justify-end mt-4"},br={key:0},vr={class:"text-md font-medium text-gray-900 dark:text-white mb-4"},yr={class:"space-y-4 max-h-96 overflow-y-auto"},hr={class:"flex items-start justify-between"},fr={class:"flex-1"},kr={class:"mb-2"},wr={class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},qr={key:0,class:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},Cr={class:"text-sm text-gray-900 dark:text-white mb-2"},Mr={class:"mt-1"},_r={key:0,class:"text-xs text-gray-600 dark:text-gray-400"},Ur={class:"list-disc list-inside mt-1"},jr={key:1,class:"text-xs text-gray-600 dark:text-gray-400 mt-2"},Vr={class:"flex items-center space-x-2 ml-4"},Ar=["onClick","title"],Pr=["onClick","title"],Er={key:1,class:"text-center py-8"},Sr={class:"text-gray-500 dark:text-gray-400"},Lr={class:"text-sm mt-1"},Ir={class:"flex justify-end space-x-4 mt-6"},Br=t({__name:"GrammarPracticeView",setup(t){const{t:Br}=E(),Dr=(e,t,r)=>{const a=r?Br(e,r):Br(e),l="string"==typeof a?a:String(a);return l===e?t:l},zr=r(),Tr=a(),{playAudio:Or}=S(),Wr=s(()=>e(()=>import("./MultipleChoiceExercise-C2RkgbCS.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),Nr=s(()=>e(()=>import("./FillBlankExercise-BOqto-32.js"),__vite__mapDeps([4,2,1,3]),import.meta.url)),Hr=s(()=>e(()=>import("./PronunciationExercise-CTx9lFdY.js"),__vite__mapDeps([5,1,2,3]),import.meta.url)),Rr=s(()=>e(()=>import("./ReadingExercise-BSp507mD.js"),__vite__mapDeps([6,2,1,3]),import.meta.url)),$r=s(()=>e(()=>import("./ListeningExercise-CxRH94GB.js"),__vite__mapDeps([7,2,1,3,8]),import.meta.url)),Qr=s(()=>e(()=>import("./WritingExercise-CNtMkOev.js"),__vite__mapDeps([9,2,1]),import.meta.url)),Jr=s(()=>e(()=>import("./ExerciseManager-B_Y9Pck6.js"),__vite__mapDeps([10,2,1]),import.meta.url)),Fr=()=>i("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C20.168 18.477 18.582 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})]);l(()=>zr.params.id);const Gr=o(null),Yr=o(0),Zr=o(10),Xr=o(null),Kr=o({correct:0,incorrect:0,percentage:0,answers:[]}),ea=o(!1),ta=o(!1),ra=o(!1),aa=o(0),la=o({type:"",title:"",description:"",difficulty:"medium",duration:""}),oa=o({}),ia=o(!1),sa=o(""),na=o({id:"",type:"",question:"",options:["","","",""],correctAnswer:"",explanation:"",difficulty:"medium",taskType:"essay",prompt:"",requirements:[""],minWords:100,timeLimit:20,audioUrl:"",originalUrl:"",maxPlays:3,allowNotes:!1,transcript:"",questions:[]}),da=o(-1),ca=o({difficulty:"medium",autoPlayAudio:!0,showExplanations:!0}),ua=o([{type:"multiple-choice",title:"Multiple Choice",description:"Choose the correct answer from multiple options",icon:Fr,colorClass:"bg-gray-500",duration:"10-15 min",difficulty:"Easy"},{type:"fill-blank",title:"Fill in the Blanks",description:"Complete sentences by filling in missing words",icon:()=>i("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})]),colorClass:"bg-green-500",duration:"15-20 min",difficulty:"Medium"},{type:"pronunciation",title:"Pronunciation Practice",description:"Practice speaking and pronunciation skills",icon:()=>i("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3zM19 10v2a7 7 0 0 1-14 0v-2M12 19v4M8 23h8"})]),colorClass:"bg-purple-500",duration:"10-15 min",difficulty:"Medium"},{type:"reading",title:"Reading Comprehension",description:"Read passages and answer comprehension questions",icon:()=>i("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]),colorClass:"bg-orange-500",duration:"20-25 min",difficulty:"Hard"},{type:"listening",title:"Listening Exercise",description:"Listen to audio and answer related questions",icon:()=>i("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.59-.71-1.59-1.59V9.84c0-.88.71-1.59 1.59-1.59h2.24z"})]),colorClass:"bg-indigo-500",duration:"15-20 min",difficulty:"Medium"},{type:"writing",title:"Writing Practice",description:"Practice writing skills with various prompts",icon:()=>i("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})]),colorClass:"bg-red-500",duration:"25-30 min",difficulty:"Hard"}]),ga=l(()=>{const e={"multiple-choice":Wr,"fill-blank":Nr,pronunciation:Hr,reading:Rr,listening:$r,writing:Qr};return Gr.value&&e[Gr.value]||null}),ma=()=>{if(!Gr.value)return;const e=oa.value[Gr.value]||[];if(e.length>0){const t=Yr.value%e.length;Xr.value=e[t]}else pa()},pa=()=>{if("writing"===Gr.value){const e=[{id:1,type:"writing",taskType:"essay",prompt:"Write an essay about the importance of learning English in today's globalized world. Discuss how English proficiency can benefit individuals in their personal and professional lives.",requirements:["Write at least 250 words","Include an introduction, body paragraphs, and conclusion","Use specific examples to support your points","Demonstrate proper grammar and vocabulary usage"],minWords:250,timeLimit:30},{id:2,type:"writing",taskType:"email",prompt:"Write a formal email to your manager requesting time off for a family vacation. Include the dates, reason, and any work arrangements you have made.",requirements:["Use formal email format","Include appropriate subject line","Be polite and professional","Provide all necessary details"],minWords:150,timeLimit:20},{id:3,type:"writing",taskType:"letter",prompt:"Write a letter to a friend describing your recent trip to a new city. Share your experiences, what you liked most, and recommend places to visit.",requirements:["Use informal, friendly tone","Include specific details about places visited","Share personal experiences and feelings","Make recommendations"],minWords:200,timeLimit:25}],t=Yr.value%e.length;Xr.value=e[t]}else if("multiple-choice"===Gr.value){const e=[{id:1,type:"multiple-choice",question:'Choose the correct form of the verb: "She _____ to the store yesterday."',options:["go","goes","went","going"],correctAnswer:"went",explanation:"Past tense is used for actions completed in the past."},{id:2,type:"multiple-choice",question:"Which sentence is grammatically correct?",options:["I have been living here since 5 years.","I have been living here for 5 years.","I am living here since 5 years.","I live here since 5 years."],correctAnswer:"I have been living here for 5 years.",explanation:'Use "for" with duration and present perfect continuous for ongoing actions.'}],t=Yr.value%e.length;Xr.value=e[t]}else if("fill-blank"===Gr.value){const e=[{id:1,type:"fill-blank",question:'Complete the sentence: "I _____ been studying English _____ three years."',blanks:["have","for"],sentence:"I _____ been studying English _____ three years.",explanation:'Present perfect continuous with "have" and duration with "for".'}],t=Yr.value%e.length;Xr.value=e[t]}else Xr.value={id:1,type:Gr.value,question:`Sample ${Gr.value} question`,options:["Option A","Option B","Option C","Option D"],correctAnswer:"Option A",explanation:"This is the correct answer because..."}},xa=e=>{const t=e.isCorrect;t?Kr.value.correct++:Kr.value.incorrect++,Kr.value.answers.push({questionIndex:Yr.value,userAnswer:e.userAnswer,correctAnswer:e.correctAnswer,isCorrect:t})},ba=()=>{Yr.value<Zr.value-1?(Yr.value++,ma()):va()},va=()=>{const e=Kr.value.correct+Kr.value.incorrect;Kr.value.percentage=e>0?Math.round(Kr.value.correct/e*100):0,aa.value+=10*Kr.value.correct,ta.value=!0},ya=()=>{ta.value=!1,Yr.value=0,Kr.value={correct:0,incorrect:0,percentage:0,answers:[]},ma()},ha=()=>{Gr.value=null,ta.value=!1,Yr.value=0;const e={...zr.query};delete e.exercise,Tr.replace({query:e})},fa=()=>{localStorage.setItem("grammarPracticeSettings",JSON.stringify(ca.value)),ea.value=!1},ka=()=>{const e=zr.params.id;e?Tr.push(`/grammar/${e}`):Tr.push("/grammar")},wa=()=>{if(!la.value.type||!la.value.title)return;const e={type:la.value.type,title:la.value.title,description:la.value.description,difficulty:la.value.difficulty,duration:la.value.duration,icon:Fr,colorClass:"bg-blue-500"};ua.value.push(e),la.value={type:"",title:"",description:"",difficulty:"medium",duration:""}},qa=e=>{const t=ua.value[e];la.value={type:t.type,title:t.title,description:t.description,difficulty:t.difficulty,duration:t.duration},ua.value.splice(e,1)},Ca=e=>{confirm(Br("common.confirmDelete","Are you sure you want to delete this?"))&&ua.value.splice(e,1)},Ma=()=>{localStorage.setItem("grammarExerciseTypes",JSON.stringify(ua.value)),ra.value=!1},_a=e=>{sa.value=e,ia.value=!0,ja()},Ua=()=>{ia.value=!1,sa.value="",ja(),da.value=-1},ja=()=>{"listening"===sa.value?na.value={id:"",type:"listening",audioUrl:"",maxPlays:3,allowNotes:!0,difficulty:"medium",transcript:"",questions:[{question:"",type:"multiple-choice",options:["","","",""],correctAnswer:""}]}:"writing"===sa.value?na.value={id:"",type:"writing",question:"",options:["","","",""],correctAnswer:"",explanation:"",difficulty:"medium",taskType:"essay",prompt:"",requirements:[""],minWords:100,timeLimit:20,audioUrl:"",originalUrl:"",maxPlays:3,allowNotes:!1,transcript:"",questions:[]}:na.value={id:"",type:sa.value||"",question:"",options:["","","",""],correctAnswer:"",explanation:"",difficulty:"medium",taskType:"essay",prompt:"",requirements:[""],minWords:100,timeLimit:20,audioUrl:"",originalUrl:"",maxPlays:3,allowNotes:!1,transcript:"",questions:[]}},Va=()=>{const e=sa.value;if(!e)return;const t=Date.now().toString(),r={...na.value,id:t,type:e};"writing"===e&&(r.requirements=r.requirements.filter(e=>""!==e.trim())),oa.value[e]||(oa.value[e]=[]),da.value>=0?(oa.value[e][da.value]=r,da.value=-1):oa.value[e].push(r),Ba(),ja()},Aa=()=>{na.value.requirements.push("")},Pa=()=>{const e=na.value;e.questions&&e.questions.push({question:"",type:"multiple-choice",options:["","","",""],correctAnswer:""})},Ea=e=>{if(!e)return!1;return/^(https?\:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/.+/.test(e)},Sa=()=>{if(Ea(na.value.audioUrl)){const e=(e=>{const t=(e=>{const t=e.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/);return t?t[1]:null})(e);return t?`youtube:${t}`:e})(na.value.audioUrl);na.value.originalUrl=na.value.audioUrl,na.value.audioUrl=e}},La=e=>{const t=e.clipboardData?.getData("text")||"";if(t){let r=t.trim();if(r.includes("youtube.com")||r.includes("youtu.be")){const e=new URL(r);if(e.hostname.includes("youtube.com")){const t=e.searchParams.get("v");t&&(r=`https://www.youtube.com/watch?v=${t}`)}else if(e.hostname.includes("youtu.be")){const t=e.pathname.slice(1);t&&(r=`https://youtu.be/${t}`)}}na.value.audioUrl=r,e.preventDefault(),Sa()}},Ia=()=>{na.value.audioUrl="",na.value.originalUrl=""},Ba=()=>{localStorage.setItem("grammarExerciseQuestions",JSON.stringify(oa.value))};return n(()=>zr.query.exercise,e=>{e&&ua.value.some(t=>t.type===e)?Gr.value!==e&&(Gr.value=e,Yr.value=0,Kr.value={correct:0,incorrect:0,percentage:0,answers:[]},ma()):Gr.value=null}),n([ia,ea,ta,ra],([e,t,r,a])=>{const l=e||t||r||a;document.body.style.overflow=l?"hidden":""}),d(()=>{const e=localStorage.getItem("grammarPracticeSettings");e&&(ca.value={...ca.value,...JSON.parse(e)});const t=localStorage.getItem("grammarPracticeScore");t&&(aa.value=parseInt(t)),(()=>{const e=localStorage.getItem("grammarExerciseQuestions");e&&(oa.value=JSON.parse(e))})(),(()=>{const e=zr.query.exercise;e&&ua.value.some(t=>t.type===e)?(Gr.value=e,ma()):Gr.value=null})()}),(e,t)=>(u(),c("div",L,[t[40]||(t[40]=g('<div class="absolute inset-0 overflow-hidden pointer-events-none z-0"><div class="floating-shapes"><div class="absolute top-16 left-8 w-64 h-64 bg-blue-300 dark:bg-blue-500 rounded-full mix-blend-multiply dark:mix-blend-normal filter blur-xl opacity-30 animate-blob"></div><div class="absolute top-36 right-8 w-72 h-72 bg-purple-300 dark:bg-purple-500 rounded-full mix-blend-multiply dark:mix-blend-normal filter blur-xl opacity-30 animate-blob animation-delay-2000"></div><div class="absolute -bottom-10 left-24 w-80 h-80 bg-pink-300 dark:bg-pink-500 rounded-full mix-blend-multiply dark:mix-blend-normal filter blur-xl opacity-30 animate-blob animation-delay-4000"></div></div></div>',1)),m("div",I,[m("div",B,[m("div",D,[m("div",z,[m("button",{onClick:ka,class:"p-2 rounded-lg text-gray-600 dark:text-white/70 hover:text-gray-800 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-[#0f0f0f] transition-colors"},t[23]||(t[23]=[m("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),m("div",null,[m("div",T,[t[24]||(t[24]=m("div",{class:"animate-pulse-slow"},[m("div",{class:"w-2.5 h-2.5 bg-gradient-to-r from-blue-400 to-indigo-500 rounded-full mr-2.5"})],-1)),m("h1",O,b(v(Br)("grammar.practice.title","Practice")),1)]),m("p",W,b(v(Br)("grammar.practice.subtitle","Choose a mode to practice grammar with interactive exercises")),1)])]),m("div",N,[m("div",H,[y(b(v(Br)("grammar.practice.score","Score"))+": ",1),m("span",R,b(aa.value),1)]),m("button",{onClick:t[0]||(t[0]=e=>ra.value=!0),class:"p-2 rounded-lg text-gray-600 dark:text-white/70 hover:text-gray-800 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-[#0f0f0f] transition-colors",title:v(Br)("grammar.practice.exerciseManager.title","Manage exercises")},t[25]||(t[25]=[m("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})],-1)]),8,$),m("button",{onClick:t[1]||(t[1]=e=>ea.value=!0),class:"p-2 rounded-lg text-gray-600 dark:text-white/70 hover:text-gray-800 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-[#0f0f0f] transition-colors",title:v(Br)("grammar.practice.settings.title","Settings")},t[26]||(t[26]=[m("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)]),8,Q)])])])]),m("div",J,[Gr.value?(u(),c("div",le,[m("div",oe,[m("div",ie,[m("div",se,[m("button",{onClick:ha,class:"p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},t[28]||(t[28]=[m("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),m("div",null,[m("h2",ne,b(Dr(`grammar.practice.exercises.${Gr.value}.title`,"Exercise")),1),m("p",de,b(v(Br)("grammar.practice.question","Question"))+" "+b(Yr.value+1)+" / "+b(Zr.value),1)])]),m("div",ce,[m("div",ue,[m("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:C({width:Yr.value/Zr.value*100+"%"})},null,4)]),m("span",ge,b(Math.round(Yr.value/Zr.value*100))+"% ",1)])])]),(u(),w(q(ga.value),{question:Xr.value,"question-index":Yr.value,"total-questions":Zr.value,difficulty:ca.value.difficulty,onAnswer:xa,onNext:ba,onComplete:va},null,40,["question","question-index","total-questions","difficulty"]))])):(u(),c("div",F,[m("div",G,[m("h2",Y,b(v(Br)("grammar.practice.chooseExercise","Choose an exercise")),1),m("p",Z,b(v(Br)("grammar.practice.chooseDescription","Select a practice type below to get started")),1)]),m("div",X,[(u(!0),c(h,null,f(ua.value,e=>(u(),c("div",{key:e.type,onClick:t=>(e=>{Gr.value=e,Yr.value=0,Kr.value={correct:0,incorrect:0,percentage:0,answers:[]},ma();const t={...zr.query,exercise:e};Tr.replace({query:t})})(e.type),class:"group bg-white/80 dark:bg-[#0a0a0a]/80 backdrop-blur-md rounded-2xl shadow-xl border border-white/20 dark:border-white/10 p-6 cursor-pointer hover:shadow-2xl hover:scale-[1.03] transition-all duration-300"},[m("div",ee,[m("div",{class:k(["w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",e.colorClass])},[(u(),w(q(e.icon),{class:"w-8 h-8 text-white"}))],2),m("h3",te,b(Dr(`grammar.practice.exercises.${e.type}.title`,e.title)),1),m("p",re,b(Dr(`grammar.practice.exercises.${e.type}.description`,e.description)),1),m("div",ae,[m("span",null,b(e.duration),1),t[27]||(t[27]=m("span",null,"•",-1)),m("span",null,b(e.difficulty),1)])])],8,K))),128))])]))]),p(_,{"enter-active-class":"transition-all duration-500 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-300 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:M(()=>[ea.value?(u(),c("div",me,[p(_,{"enter-active-class":"transition-all duration-500 ease-out","enter-from-class":"opacity-0 scale-90 translate-y-8 rotate-1","enter-to-class":"opacity-100 scale-100 translate-y-0 rotate-0","leave-active-class":"transition-all duration-300 ease-in","leave-from-class":"opacity-100 scale-100 translate-y-0 rotate-0","leave-to-class":"opacity-0 scale-90 translate-y-8 rotate-1"},{default:M(()=>[m("div",{class:"w-full max-h-[90vh] flex flex-col max-w-md sm:max-w-md md:max-w-lg",onClick:t[7]||(t[7]=U(()=>{},["stop"]))},[m("div",pe,[m("div",xe,[m("div",be,[m("h3",ve,[t[29]||(t[29]=m("span",{class:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"},null,-1)),m("span",null,b(v(Br)("grammar.practice.settings.title","Settings")),1)]),m("button",{onClick:t[2]||(t[2]=e=>ea.value=!1),class:"text-gray-400 dark:text-white hover:text-gray-600 dark:hover:text-white transition-all duration-300 hover:scale-110 hover:rotate-90 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-dark-bg-mute"},t[30]||(t[30]=[m("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),m("div",ye,[m("div",null,[m("label",he,b(v(Br)("grammar.practice.settings.difficulty","Difficulty")),1),j(m("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>ca.value.difficulty=e),class:"w-full px-3 py-2 border border-gray-300 dark:border-dark-bg-mute rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-500"},[m("option",fe,b(v(Br)("grammar.practice.settings.levels.easy","Easy")),1),m("option",ke,b(v(Br)("grammar.practice.settings.levels.medium","Medium")),1),m("option",we,b(v(Br)("grammar.practice.settings.levels.hard","Hard")),1)],512),[[V,ca.value.difficulty]])]),m("div",qe,[m("label",Ce,b(v(Br)("grammar.practice.settings.autoPlay","Auto-play audio")),1),m("button",{onClick:t[4]||(t[4]=e=>ca.value.autoPlayAudio=!ca.value.autoPlayAudio),class:k(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors",ca.value.autoPlayAudio?"bg-blue-600":"bg-gray-200 dark:bg-dark-bg-mute"])},[m("span",{class:k(["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",ca.value.autoPlayAudio?"translate-x-6":"translate-x-1"])},null,2)],2)]),m("div",Me,[m("label",_e,b(v(Br)("grammar.practice.settings.showExplanations","Show explanations")),1),m("button",{onClick:t[5]||(t[5]=e=>ca.value.showExplanations=!ca.value.showExplanations),class:k(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors",ca.value.showExplanations?"bg-blue-600":"bg-gray-200 dark:bg-dark-bg-mute"])},[m("span",{class:k(["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",ca.value.showExplanations?"translate-x-6":"translate-x-1"])},null,2)],2)])]),m("div",Ue,[m("div",je,[m("button",{onClick:t[6]||(t[6]=e=>ea.value=!1),class:"px-6 py-2 text-gray-700 dark:text-white bg-gray-100 dark:bg-dark-bg-mute hover:bg-gray-200 dark:hover:bg-dark-bg-soft rounded-lg transition-all duration-300 hover:scale-105 hover:shadow-lg font-medium"},b(v(Br)("common.cancel","Cancel")),1),m("button",{onClick:fa,class:"px-6 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 hover:scale-105 hover:shadow-lg font-medium"},b(v(Br)("common.save","Save")),1)])])])])]),_:1})])):x("",!0)]),_:1}),ta.value?(u(),c("div",Ve,[m("div",Ae,[m("div",Pe,[t[31]||(t[31]=m("div",{class:"w-20 h-20 mx-auto mb-4 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center"},[m("svg",{class:"w-10 h-10 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),m("h3",Ee,b(v(Br)("grammar.practice.results.title","Great job!")),1),m("div",Se,[m("div",Le,[m("div",Ie,[m("div",Be,b(Kr.value.correct),1),m("div",De,b(v(Br)("grammar.practice.results.correct","Correct")),1)]),m("div",ze,[m("div",Te,b(Kr.value.incorrect),1),m("div",Oe,b(v(Br)("grammar.practice.results.incorrect","Incorrect")),1)]),m("div",We,[m("div",Ne,b(Kr.value.percentage)+"%",1),m("div",He,b(v(Br)("grammar.practice.results.accuracy","Accuracy")),1)])])]),m("div",Re,[m("button",{onClick:ya,class:"px-6 py-3 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"},b(v(Br)("grammar.practice.results.tryAgain","Try again")),1),m("button",{onClick:ha,class:"px-6 py-3 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors"},b(v(Br)("grammar.practice.results.chooseAnother","Choose another exercise")),1)])])])])):x("",!0),p(v(Jr),{modelValue:ra.value,"onUpdate:modelValue":t[8]||(t[8]=e=>ra.value=e),"exercise-types":ua.value,onAddExercise:wa,onEditExercise:qa,onDeleteExercise:Ca,onSaveExercises:Ma,onOpenQuestionManager:_a},null,8,["modelValue","exercise-types"]),ia.value?(u(),c("div",$e,[m("div",Qe,[m("div",Je,[m("h3",Fe,b(v(Br)("grammar.practice.questionManager.title"))+": "+b(v(Br)(`grammar.practice.exercises.${sa.value}.title`)),1),m("button",{onClick:Ua,class:"p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},t[32]||(t[32]=[m("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),m("div",Ge,[m("div",Ye,[m("h4",Ze,b(da.value>=0?v(Br)("grammar.practice.questionManager.editQuestion"):v(Br)("grammar.practice.questionManager.addNew")),1),"writing"===sa.value?(u(),c("div",Xe,[m("div",Ke,[m("div",null,[m("label",et,b(v(Br)("grammar.practice.questionManager.taskType")),1),j(m("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>na.value.taskType=e),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[m("option",tt,b(v(Br)("grammar.practice.exercises.writing.essay")),1),m("option",rt,b(v(Br)("grammar.practice.exercises.writing.email")),1),m("option",at,b(v(Br)("grammar.practice.exercises.writing.letter")),1),m("option",lt,b(v(Br)("grammar.practice.exercises.writing.paragraph")),1)],512),[[V,na.value.taskType]])]),m("div",ot,[m("div",null,[m("label",it,b(v(Br)("grammar.practice.questionManager.minWords")),1),j(m("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>na.value.minWords=e),type:"number",min:"50",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[A,na.value.minWords,void 0,{number:!0}]])]),m("div",null,[m("label",st,b(v(Br)("grammar.practice.questionManager.timeLimit")),1),j(m("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>na.value.timeLimit=e),type:"number",min:"5",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[A,na.value.timeLimit,void 0,{number:!0}]])])])]),m("div",null,[m("label",nt,b(v(Br)("grammar.practice.questionManager.prompt")),1),j(m("textarea",{"onUpdate:modelValue":t[12]||(t[12]=e=>na.value.prompt=e),rows:"3",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:v(Br)("grammar.practice.questionManager.promptPlaceholder")},null,8,dt),[[A,na.value.prompt]])]),m("div",null,[m("div",ct,[m("label",ut,b(v(Br)("grammar.practice.questionManager.requirements")),1),m("button",{onClick:Aa,class:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300"}," + "+b(v(Br)("grammar.practice.questionManager.addRequirement")),1)]),m("div",gt,[(u(!0),c(h,null,f(na.value.requirements,(e,r)=>(u(),c("div",{key:r,class:"flex items-center space-x-2"},[j(m("input",{"onUpdate:modelValue":e=>na.value.requirements[r]=e,type:"text",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:v(Br)("grammar.practice.questionManager.requirementPlaceholder")},null,8,mt),[[A,na.value.requirements[r]]]),m("button",{onClick:e=>(e=>{na.value.requirements.length>1&&na.value.requirements.splice(e,1)})(r),class:"p-2 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded",disabled:1===na.value.requirements.length},t[33]||(t[33]=[m("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,pt)]))),128))])])])):"multiple-choice"===sa.value?(u(),c("div",xt,[m("div",null,[m("label",bt,b(v(Br)("grammar.practice.questionManager.question")),1),j(m("textarea",{"onUpdate:modelValue":t[13]||(t[13]=e=>na.value.question=e),rows:"2",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:v(Br)("grammar.practice.questionManager.questionPlaceholder")},null,8,vt),[[A,na.value.question]])]),m("div",null,[m("label",yt,b(v(Br)("grammar.practice.questionManager.options")),1),m("div",ht,[(u(!0),c(h,null,f(na.value.options,(e,t)=>(u(),c("div",{key:t,class:"flex items-center space-x-2"},[m("span",ft,b(String.fromCharCode(65+t))+".",1),j(m("input",{"onUpdate:modelValue":e=>na.value.options[t]=e,type:"text",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:v(Br)("grammar.practice.questionManager.optionPlaceholder")},null,8,kt),[[A,na.value.options[t]]])]))),128))])]),m("div",null,[m("label",wt,b(v(Br)("grammar.practice.questionManager.correctAnswer")),1),j(m("select",{"onUpdate:modelValue":t[14]||(t[14]=e=>na.value.correctAnswer=e),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[(u(!0),c(h,null,f(na.value.options,(e,t)=>(u(),c("option",{key:t,value:e},b(String.fromCharCode(65+t))+". "+b(e),9,qt))),128))],512),[[V,na.value.correctAnswer]])]),m("div",null,[m("label",Ct,b(v(Br)("grammar.practice.questionManager.explanation")),1),j(m("textarea",{"onUpdate:modelValue":t[15]||(t[15]=e=>na.value.explanation=e),rows:"2",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:v(Br)("grammar.practice.questionManager.explanationPlaceholder")},null,8,Mt),[[A,na.value.explanation]])])])):"listening"===sa.value?(u(),c("div",_t,[m("div",null,[m("label",Ut,b(v(Br)("grammar.practice.exercises.listening.audioUrl")),1),m("div",jt,[j(m("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>na.value.audioUrl=e),type:"text",onInput:Sa,onPaste:La,class:"w-full px-3 py-2 pr-20 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:v(Br)("grammar.practice.exercises.listening.audioUrlPlaceholder")},null,40,Vt),[[A,na.value.audioUrl]]),na.value.audioUrl?(u(),c("button",{key:0,onClick:Ia,type:"button",class:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},t[34]||(t[34]=[m("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):x("",!0)]),m("div",At,b(v(Br)("grammar.practice.exercises.listening.audioUrlHint")),1),Ea(na.value.audioUrl)?(u(),c("div",Pt,[m("div",Et,[t[35]||(t[35]=m("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},[m("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})],-1)),m("span",null,b(v(Br)("grammar.practice.exercises.listening.youtubeDetected")),1)]),m("div",St,b(v(Br)("grammar.practice.exercises.listening.youtubeNote")),1)])):x("",!0)]),m("div",Lt,[m("div",null,[m("label",It,b(v(Br)("grammar.practice.exercises.listening.maxPlays")),1),j(m("input",{"onUpdate:modelValue":t[17]||(t[17]=e=>na.value.maxPlays=e),type:"number",min:"1",max:"10",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[A,na.value.maxPlays,void 0,{number:!0}]])]),m("div",null,[m("label",Bt,b(v(Br)("grammar.practice.settings.difficulty")),1),j(m("select",{"onUpdate:modelValue":t[18]||(t[18]=e=>na.value.difficulty=e),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[m("option",Dt,b(v(Br)("grammar.practice.settings.levels.easy")),1),m("option",zt,b(v(Br)("grammar.practice.settings.levels.medium")),1),m("option",Tt,b(v(Br)("grammar.practice.settings.levels.hard")),1)],512),[[V,na.value.difficulty]])]),m("div",Ot,[m("label",Wt,[j(m("input",{"onUpdate:modelValue":t[19]||(t[19]=e=>na.value.allowNotes=e),type:"checkbox",class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[P,na.value.allowNotes]]),m("span",Nt,b(v(Br)("grammar.practice.exercises.listening.allowNotes")),1)])])]),m("div",null,[m("label",Ht,b(v(Br)("grammar.practice.exercises.listening.transcript")),1),j(m("textarea",{"onUpdate:modelValue":t[20]||(t[20]=e=>na.value.transcript=e),rows:"3",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:v(Br)("grammar.practice.exercises.listening.transcriptPlaceholder")},null,8,Rt),[[A,na.value.transcript]])]),m("div",null,[m("label",$t,b(v(Br)("grammar.practice.exercises.listening.questions")),1),m("div",Qt,[(u(!0),c(h,null,f(na.value.questions,(e,r)=>(u(),c("div",{key:r,class:"border border-gray-200 dark:border-gray-600 rounded-lg p-3"},[m("div",Jt,[m("span",Ft,b(v(Br)("grammar.practice.exercises.listening.question"))+" "+b(r+1),1),m("button",{onClick:e=>(e=>{const t=na.value;t.questions&&t.questions.length>1&&t.questions.splice(e,1)})(r),class:"p-1 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded",disabled:1===na.value.questions.length},t[36]||(t[36]=[m("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Gt)]),m("div",Yt,[m("div",null,[j(m("select",{"onUpdate:modelValue":t=>e.type=t,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"},[m("option",Xt,b(v(Br)("grammar.practice.exercises.listening.multipleChoice")),1),m("option",Kt,b(v(Br)("grammar.practice.exercises.listening.fillBlank")),1),m("option",er,b(v(Br)("grammar.practice.exercises.listening.ordering")),1)],8,Zt),[[V,e.type]])]),m("div",null,[j(m("textarea",{"onUpdate:modelValue":t=>e.question=t,rows:"2",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:v(Br)("grammar.practice.questionManager.questionPlaceholder")},null,8,tr),[[A,e.question]])]),"multiple-choice"===e.type?(u(),c("div",rr,[(u(!0),c(h,null,f(e.options,(t,r)=>(u(),c("div",{key:r,class:"flex items-center space-x-2"},[m("span",ar,b(String.fromCharCode(65+r))+".",1),j(m("input",{"onUpdate:modelValue":t=>e.options[r]=t,type:"text",class:"flex-1 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:ring-1 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:v(Br)("grammar.practice.questionManager.optionPlaceholder")},null,8,lr),[[A,e.options[r]]])]))),128)),m("div",null,[j(m("select",{"onUpdate:modelValue":t=>e.correctAnswer=t,class:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:ring-1 focus:ring-blue-500 focus:border-transparent text-sm"},[m("option",ir,b(v(Br)("grammar.practice.questionManager.selectCorrectAnswer")),1),(u(!0),c(h,null,f(e.options,(e,t)=>(u(),c("option",{key:t,value:t},b(String.fromCharCode(65+t))+". "+b(e),9,sr))),128))],8,or),[[V,e.correctAnswer]])])])):"fill-blank"===e.type?(u(),c("div",nr,[j(m("input",{"onUpdate:modelValue":t=>e.correctAnswer=t,type:"text",class:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-1 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:v(Br)("grammar.practice.exercises.listening.correctAnswerPlaceholder")},null,8,dr),[[A,e.correctAnswer]])])):x("",!0)])]))),128)),m("button",{onClick:Pa,class:"w-full px-3 py-2 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg text-gray-500 dark:text-gray-400 hover:border-blue-400 hover:text-blue-500 transition-colors text-sm"}," + "+b(v(Br)("grammar.practice.exercises.listening.addQuestion")),1)])])])):(u(),c("div",cr,[m("div",null,[m("label",ur,b(v(Br)("grammar.practice.questionManager.question")),1),j(m("textarea",{"onUpdate:modelValue":t[21]||(t[21]=e=>na.value.question=e),rows:"3",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:v(Br)("grammar.practice.questionManager.questionPlaceholder")},null,8,gr),[[A,na.value.question]])]),m("div",null,[m("label",mr,b(v(Br)("grammar.practice.questionManager.explanation")),1),j(m("textarea",{"onUpdate:modelValue":t[22]||(t[22]=e=>na.value.explanation=e),rows:"2",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:v(Br)("grammar.practice.questionManager.explanationPlaceholder")},null,8,pr),[[A,na.value.explanation]])])])),m("div",xr,[m("button",{onClick:Va,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors"},b(da.value>=0?v(Br)("common.update"):v(Br)("grammar.practice.questionManager.addQuestion")),1)])]),oa.value[sa.value]?.length>0?(u(),c("div",br,[m("h4",vr,b(v(Br)("grammar.practice.questionManager.existingQuestions"))+" ("+b(oa.value[sa.value].length)+") ",1),m("div",yr,[(u(!0),c(h,null,f(oa.value[sa.value],(e,r)=>(u(),c("div",{key:e.id,class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4"},[m("div",hr,[m("div",fr,[m("div",kr,[m("span",wr," #"+b(r+1),1),"writing"===sa.value?(u(),c("span",qr,b(v(Br)(`grammar.practice.exercises.writing.${e.taskType}`)),1)):x("",!0)]),m("div",Cr,[m("strong",null,b("writing"===sa.value?v(Br)("grammar.practice.questionManager.prompt"):v(Br)("grammar.practice.questionManager.question"))+":",1),m("p",Mr,b("writing"===sa.value?e.prompt:e.question),1)]),"writing"===sa.value&&e.requirements?.length>0?(u(),c("div",_r,[m("strong",null,b(v(Br)("grammar.practice.questionManager.requirements"))+":",1),m("ul",Ur,[(u(!0),c(h,null,f(e.requirements,e=>(u(),c("li",{key:e},b(e),1))),128))])])):x("",!0),"multiple-choice"===sa.value&&e.options?(u(),c("div",jr,[m("strong",null,b(v(Br)("grammar.practice.questionManager.correctAnswer"))+":",1),y(" "+b(e.correctAnswer),1)])):x("",!0)]),m("div",Vr,[m("button",{onClick:e=>(e=>{const t=sa.value,r=oa.value[t][e];na.value={...r},da.value=e})(r),class:"p-1 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",title:v(Br)("common.edit")},t[37]||(t[37]=[m("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,Ar),m("button",{onClick:e=>(e=>{if(confirm(Br("common.confirmDelete","Are you sure you want to delete this?"))){const t=sa.value;oa.value[t].splice(e,1),Ba()}})(r),class:"p-1 rounded text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",title:v(Br)("common.delete")},t[38]||(t[38]=[m("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Pr)])])]))),128))])])):(u(),c("div",Er,[m("div",Sr,[t[39]||(t[39]=m("svg",{class:"w-12 h-12 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),m("p",null,b(v(Br)("grammar.practice.questionManager.noQuestions")),1),m("p",Lr,b(v(Br)("grammar.practice.questionManager.addFirstQuestion")),1)])]))]),m("div",Ir,[m("button",{onClick:Ua,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-[#0a0a0a] rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"},b(v(Br)("common.close")),1)])])])):x("",!0)]))}});export{Br as default};
