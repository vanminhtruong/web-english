{"version":3,"file":"SaveControlPanel-USAmFk6w.js","sources":["../../src/views/vocabulary/components/SaveControlPanel.vue"],"sourcesContent":["<template>\n  <div class=\"bg-white dark:bg-[#0a0a0a] rounded-lg shadow border border-gray-200 dark:border-gray-700 p-3 sm:p-4 md:p-5 lg:p-6 mb-4 sm:mb-6 overflow-hidden\">\n    <div class=\"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 min-w-0\">\n      <div class=\"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4 md:space-x-5 lg:space-x-6 min-w-0 flex-1\">\n        <div class=\"flex items-center space-x-2 md:space-x-3\">\n          <span class=\"text-sm md:text-base lg:text-base font-medium text-gray-700 dark:text-gray-300\">{{ t('vocabulary.save.mode', 'Save Mode')}}</span>\n          <button\n            @click=\"emit('update:autoSaveEnabled', !autoSaveEnabled)\"\n            :class=\"[\n              'relative  inline-flex h-6 w-11 items-center rounded-full transition-colors',\n              autoSaveEnabled ? 'bg-blue-600' : 'bg-gray-200 dark:bg-gray-600'\n            ]\"\n          >\n            <span\n              :class=\"[\n                'inline-block h-4 w-4 transform rounded-full bg-white transition-transform',\n                autoSaveEnabled ? 'translate-x-6' : 'translate-x-1'\n              ]\"\n            />\n          </button>\n          <span class=\"text-sm md:text-base lg:text-base text-gray-600 dark:text-gray-400\">\n            {{ autoSaveEnabled ? t('vocabulary.save.auto', 'Auto') : t('vocabulary.save.manual', 'Manual') }}\n          </span>\n        </div>\n\n        <div class=\"flex flex-wrap items-center gap-2 sm:gap-2 md:gap-3 lg:gap-3 min-w-0\">\n          <!-- Manual save button -->\n          <button\n            v-if=\"!autoSaveEnabled\"\n            @click=\"emit('manual-save')\"\n            :disabled=\"isSaving\"\n            class=\"px-3 py-1.5 sm:px-4 sm:py-2 md:px-4 md:py-2 lg:px-5 lg:py-2.5 bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white text-xs sm:text-sm md:text-sm lg:text-base font-medium rounded-lg transition-colors flex items-center space-x-1 sm:space-x-2\"\n          >\n            <svg v-if=\"isSaving\" class=\"animate-spin h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\n              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n              <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n            </svg>\n            <svg v-else class=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12\"></path>\n            </svg>\n            <span>{{ isSaving ? t('common.saving', 'Saving...') : t('vocabulary.save.saveNow', 'Save Now') }}</span>\n          </button>\n\n          <!-- Auto-save setup button -->\n          <button\n            v-if=\"autoSaveEnabled && !hasAutoSaveFile\"\n            @click=\"emit('setup-auto-save')\"\n            class=\"px-3 py-1.5 sm:px-4 sm:py-2 md:px-4 md:py-2 lg:px-5 lg:py-2.5 bg-orange-500 hover:bg-orange-600 text-white text-xs sm:text-sm md:text-sm lg:text-base font-medium rounded-lg transition-colors flex items-center space-x-1 sm:space-x-2\"\n          >\n            <svg class=\"h-3 w-3 sm:h-4 sm:w-4 md:h-4 md:w-4 lg:h-5 lg:w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"></path>\n            </svg>\n            <span class=\"hidden sm:inline\">{{ t('vocabulary.save.chooseAutoFile', 'Choose Auto File') }}</span>\n            <span class=\"sm:hidden\">{{ t('vocabulary.save.setup', 'Setup') }}</span>\n          </button>\n\n          <!-- Reset auto-save file button -->\n          <button\n            v-if=\"autoSaveEnabled && hasAutoSaveFile\"\n            @click=\"emit('reset-auto-save')\"\n            class=\"px-3 py-1.5 sm:px-4 sm:py-2 md:px-4 md:py-2 lg:px-5 lg:py-2.5 bg-gray-500 hover:bg-gray-600 text-white text-xs sm:text-sm md:text-sm lg:text-base font-medium rounded-lg transition-colors flex items-center space-x-1 sm:space-x-2\"\n          >\n            <svg class=\"h-4 w-4 md:h-4 md:w-4 lg:h-5 lg:w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"></path>\n            </svg>\n            <span class=\"hidden sm:inline\">{{ t('vocabulary.save.changeAutoFile', 'Change Auto File') }}</span>\n            <span class=\"sm:hidden\">{{ t('vocabulary.save.change', 'Change') }}</span>\n          </button>\n\n          <!-- Import button -->\n          <div class=\"relative\">\n            <input\n              ref=\"fileInputRef\"\n              type=\"file\"\n              accept=\".json\"\n              @change=\"handleFileSelected\"\n              class=\"hidden\"\n            />\n            <button\n              @click=\"openFilePicker\"\n              class=\"px-3 py-1.5 sm:px-4 sm:py-2 md:px-4 md:py-2 lg:px-5 lg:py-2.5 bg-blue-500 hover:bg-blue-600 text-white text-xs sm:text-sm md:text-sm lg:text-base font-medium rounded-lg transition-colors flex items-center space-x-1 sm:space-x-2\"\n            >\n              <svg class=\"h-4 w-4 md:h-4 md:w-4 lg:h-5 lg:w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10\"></path>\n              </svg>\n              <span class=\"hidden sm:inline\">{{ t('vocabulary.save.importFile', 'Import File') }}</span>\n              <span class=\"sm:hidden\">{{ t('vocabulary.save.importShort', 'Import') }}</span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"flex flex-col md:flex-row md:items-center space-y-2 md:space-y-0 md:space-x-4 lg:space-x-6 text-xs sm:text-sm md:text-sm lg:text-base text-gray-500 dark:text-gray-400\">\n        <div class=\"flex items-center space-x-1\">\n          <svg class=\"h-3 w-3 sm:h-4 sm:w-4 md:h-4 md:w-4 lg:h-5 lg:w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n          </svg>\n          <span class=\"truncate\">{{ formattedLastSave }}</span>\n        </div>\n        <div class=\"flex items-center space-x-1\">\n          <div :class=\"['h-2 w-2 rounded-full', saveStatusColor]\" />\n          <span>{{ saveStatusText }}</span>\n        </div>\n        <!-- Auto save file path - hidden as requested -->\n        <div v-if=\"false && autoSaveEnabled && hasAutoSaveFile && autoSaveFilePath\" class=\"flex items-center space-x-1 min-w-0\">\n          <svg class=\"h-3 w-3 sm:h-4 sm:w-4 md:h-4 md:w-4 lg:h-5 lg:w-5 xl:h-6 xl:w-6 2xl:h-7 2xl:w-7 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n          </svg>\n          <span class=\"truncate\" :title=\"autoSaveFilePath\">{{ autoSaveFilePath }}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue';\nimport { useI18n } from 'vue-i18n';\n\nconst props = defineProps<{\n  autoSaveEnabled: boolean;\n  isSaving: boolean;\n  hasAutoSaveFile: boolean;\n  lastSaveTime: string;\n  saveStatusColor: string;\n  saveStatusText: string;\n  autoSaveFilePath: string;\n}>();\n\nconst emit = defineEmits([\n  'update:autoSaveEnabled',\n  'manual-save',\n  'setup-auto-save',\n  'reset-auto-save',\n  'import-file'\n]);\n\nconst { t } = useI18n();\nconst fileInputRef = ref<HTMLInputElement | null>(null);\n\n// Generate Last save label robustly, even if translation key missing\nconst formattedLastSave = computed(() => {\n  const notSaved = t('vocabulary.save.notSaved', 'Not saved');\n  if (!props.lastSaveTime) {\n    return notSaved;\n  }\n  // Attempt to use translation with interpolation\n  const result = t('vocabulary.save.lastSave', { time: props.lastSaveTime }, 'Last save: {time}');\n  // If result still contains {time}, manually replace\n  if (result && result.includes('{time}')) {\n    return result.replace('{time}', props.lastSaveTime);\n  }\n  return result || `Last save: ${props.lastSaveTime}`;\n});\n\nconst openFilePicker = () => {\n  fileInputRef.value?.click();\n};\n\nconst handleFileSelected = (event: Event) => {\n  const target = event.target as HTMLInputElement;\n  if (target.files && target.files.length > 0) {\n    emit('import-file', target.files[0]);\n    // Reset input value to allow re-selecting the same file\n    target.value = '';\n  }\n};\n</script> "],"names":["_openBlock","_createElementBlock","_createElementVNode","_toDisplayString","_unref","autoSaveEnabled","_normalizeClass","isSaving","hasAutoSaveFile","saveStatusColor","saveStatusText"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA,UAAM,QAAQ;AAUd,UAAM,OAAO;AAQb,UAAM,EAAE,EAAA,IAAM,QAAA;AACd,UAAM,eAAe,IAA6B,IAAI;AAGtD,UAAM,oBAAoB,SAAS,MAAM;AACvC,YAAM,WAAW,EAAE,4BAA4B,WAAW;AAC1D,UAAI,CAAC,MAAM,cAAc;AACvB,eAAO;AAAA,MACT;AAEA,YAAM,SAAS,EAAE,4BAA4B,EAAE,MAAM,MAAM,aAAA,GAAgB,mBAAmB;AAE9F,UAAI,UAAU,OAAO,SAAS,QAAQ,GAAG;AACvC,eAAO,OAAO,QAAQ,UAAU,MAAM,YAAY;AAAA,MACpD;AACA,aAAO,UAAU,cAAc,MAAM,YAAY;AAAA,IACnD,CAAC;AAED,UAAM,iBAAiB,MAAM;AAC3B,mBAAa,OAAO,MAAA;AAAA,IACtB;AAEA,UAAM,qBAAqB,CAAC,UAAiB;AAC3C,YAAM,SAAS,MAAM;AACrB,UAAI,OAAO,SAAS,OAAO,MAAM,SAAS,GAAG;AAC3C,aAAK,eAAe,OAAO,MAAM,CAAC,CAAC;AAEnC,eAAO,QAAQ;AAAA,MACjB;AAAA,IACF;;AArKE,aAAAA,UAAA,GAAAC,mBA+GM,OA/GN,YA+GM;AAAA,QA9GJC,gBA6GM,OA7GN,YA6GM;AAAA,UA5GJA,gBAuFM,OAvFN,YAuFM;AAAA,YAtFJA,gBAmBM,OAnBN,YAmBM;AAAA,cAlBJA,gBAA+I,QAA/I,YAA+IC,gBAA/CC,MAAA,CAAA,EAAC,wBAAA,WAAA,CAAA,GAAA,CAAA;AAAA,cACjGF,gBAaS,UAAA;AAAA,gBAZN,SAAK,OAAA,CAAA,MAAA,OAAA,CAAA,IAAA,CAAA,WAAE,KAAI,0BAAA,CAA4BG,KAAAA,eAAe;AAAA,gBACtD,OAAKC,eAAA;AAAA;kBAA8GD,KAAAA,kBAAe,gBAAA;AAAA,gBAAA;;gBAKnIH,gBAKE,QAAA;AAAA,kBAJC,OAAKI,eAAA;AAAA;oBAAiHD,KAAAA,kBAAe,kBAAA;AAAA,kBAAA;;;cAM1IH,gBAEO,QAFP,YAEOC,gBADFE,uBAAkBD,MAAA,CAAA,oCAAoCA,MAAA,CAAA,EAAC,0BAAA,QAAA,CAAA,GAAA,CAAA;AAAA,YAAA;YAI9DF,gBAgEM,OAhEN,YAgEM;AAAA,eA7DKG,KAAAA,gCADTJ,mBAcS,UAAA;AAAA;gBAZN,+CAAO,KAAI,aAAA;AAAA,gBACX,UAAUM,KAAAA;AAAAA,gBACX,OAAM;AAAA,cAAA;gBAEKA,KAAAA,YAAXP,UAAA,GAAAC,mBAGM,OAHN,YAGM,OAAA,CAAA,MAAA,OAAA,CAAA,IAAA;AAAA,kBAFJC,gBAAkG,UAAA;AAAA,oBAA1F,OAAM;AAAA,oBAAa,IAAG;AAAA,oBAAK,IAAG;AAAA,oBAAK,GAAE;AAAA,oBAAK,QAAO;AAAA,oBAAe,gBAAa;AAAA,kBAAA;kBACrFA,gBAAwK,QAAA;AAAA,oBAAlK,OAAM;AAAA,oBAAa,MAAK;AAAA,oBAAe,GAAE;AAAA,kBAAA;wBAEjDF,aAAAC,mBAEM,OAFN,aAEM,OAAA,CAAA,MAAA,OAAA,CAAA,IAAA;AAAA,kBADJC,gBAA8K,QAAA;AAAA,oBAAxK,kBAAe;AAAA,oBAAQ,mBAAgB;AAAA,oBAAQ,gBAAa;AAAA,oBAAI,GAAE;AAAA,kBAAA;;gBAE1EA,gBAAwG,QAAA,MAAAC,gBAA/FI,KAAAA,WAAWH,MAAA,CAAA,kCAAkCA,MAAA,CAAA,EAAC,2BAAA,UAAA,CAAA,GAAA,CAAA;AAAA,cAAA;cAKjDC,KAAAA,oBAAoBG,KAAAA,gCAD5BP,mBAUS,UAAA;AAAA;gBARN,+CAAO,KAAI,iBAAA;AAAA,gBACZ,OAAM;AAAA,cAAA;0CAENC,gBAEM,OAAA;AAAA,kBAFD,OAAM;AAAA,kBAAoD,MAAK;AAAA,kBAAO,QAAO;AAAA,kBAAe,SAAQ;AAAA,gBAAA;kBACvGA,gBAA4G,QAAA;AAAA,oBAAtG,kBAAe;AAAA,oBAAQ,mBAAgB;AAAA,oBAAQ,gBAAa;AAAA,oBAAI,GAAE;AAAA,kBAAA;;gBAE1EA,gBAAmG,QAAnG,aAAmGC,gBAAjEC,MAAA,CAAA,EAAC,kCAAA,kBAAA,CAAA,GAAA,CAAA;AAAA,gBACnCF,gBAAwE,QAAxE,aAAwEC,gBAA7CC,MAAA,CAAA,EAAC,yBAAA,OAAA,CAAA,GAAA,CAAA;AAAA,cAAA;cAKtBC,KAAAA,mBAAmBG,KAAAA,gCAD3BP,mBAUS,UAAA;AAAA;gBARN,+CAAO,KAAI,iBAAA;AAAA,gBACZ,OAAM;AAAA,cAAA;0CAENC,gBAEM,OAAA;AAAA,kBAFD,OAAM;AAAA,kBAAsC,MAAK;AAAA,kBAAO,QAAO;AAAA,kBAAe,SAAQ;AAAA,gBAAA;kBACzFA,gBAA6L,QAAA;AAAA,oBAAvL,kBAAe;AAAA,oBAAQ,mBAAgB;AAAA,oBAAQ,gBAAa;AAAA,oBAAI,GAAE;AAAA,kBAAA;;gBAE1EA,gBAAmG,QAAnG,aAAmGC,gBAAjEC,MAAA,CAAA,EAAC,kCAAA,kBAAA,CAAA,GAAA,CAAA;AAAA,gBACnCF,gBAA0E,QAA1E,aAA0EC,gBAA/CC,MAAA,CAAA,EAAC,0BAAA,QAAA,CAAA,GAAA,CAAA;AAAA,cAAA;cAI9BF,gBAkBM,OAlBN,aAkBM;AAAA,gBAjBJA,gBAME,SAAA;AAAA,2BALI;AAAA,kBAAJ,KAAI;AAAA,kBACJ,MAAK;AAAA,kBACL,QAAO;AAAA,kBACN,UAAQ;AAAA,kBACT,OAAM;AAAA,gBAAA;gBAERA,gBASS,UAAA;AAAA,kBARN,SAAO;AAAA,kBACR,OAAM;AAAA,gBAAA;4CAENA,gBAEM,OAAA;AAAA,oBAFD,OAAM;AAAA,oBAAsC,MAAK;AAAA,oBAAO,QAAO;AAAA,oBAAe,SAAQ;AAAA,kBAAA;oBACzFA,gBAAqK,QAAA;AAAA,sBAA/J,kBAAe;AAAA,sBAAQ,mBAAgB;AAAA,sBAAQ,gBAAa;AAAA,sBAAI,GAAE;AAAA,oBAAA;;kBAE1EA,gBAA0F,QAA1F,aAA0FC,gBAAxDC,MAAA,CAAA,EAAC,8BAAA,aAAA,CAAA,GAAA,CAAA;AAAA,kBACnCF,gBAA+E,QAA/E,aAA+EC,gBAApDC,MAAA,CAAA,EAAC,+BAAA,QAAA,CAAA,GAAA,CAAA;AAAA,gBAAA;;;;UAMpCF,gBAkBM,OAlBN,aAkBM;AAAA,YAjBJA,gBAKM,OALN,aAKM;AAAA,wCAJJA,gBAEM,OAAA;AAAA,gBAFD,OAAM;AAAA,gBAAoD,MAAK;AAAA,gBAAO,QAAO;AAAA,gBAAe,SAAQ;AAAA,cAAA;gBACvGA,gBAA6H,QAAA;AAAA,kBAAvH,kBAAe;AAAA,kBAAQ,mBAAgB;AAAA,kBAAQ,gBAAa;AAAA,kBAAI,GAAE;AAAA,gBAAA;;cAE1EA,gBAAqD,QAArD,aAAqDC,gBAA3B,kBAAA,KAAiB,GAAA,CAAA;AAAA,YAAA;YAE7CD,gBAGM,OAHN,aAGM;AAAA,cAFJA,gBAA0D,OAAA;AAAA,gBAApD,+CAAgCO,KAAAA,eAAe,CAAA;AAAA,cAAA;cACrDP,gBAAiC,8BAAxBQ,KAAAA,cAAc,GAAA,CAAA;AAAA,YAAA;;;;;;;;"}