import{L as e,A as o,d as a,C as t,I as r,J as l,b as s,v as n,w as c,M as i,f as u,y as d,Y as v,g as m,t as p,O as f,u as h,c as w,e as b}from"./vue-vendor-Bt65BSdi.js";import{u as g}from"./ui-vendor-D-J_fEQ5.js";import{u as k}from"./index-DmJNupMF.js";import{_ as T}from"./_plugin-vue_export-helper-BCo6x5W8.js";const x=e("scroll",()=>{const e=o(0),a=o(!1),t=o(!1);let r=null;const l=()=>{e.value=window.scrollY,a.value=e.value>300,t.value=!0,r&&clearTimeout(r),r=setTimeout(()=>{t.value=!1},150)};return{scrollY:e,showBackToTop:a,isScrolling:t,scrollToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})},initScrollListener:()=>{window.addEventListener("scroll",l,{passive:!0}),l()},removeScrollListener:()=>{window.removeEventListener("scroll",l),r&&(clearTimeout(r),r=null)},scrollPercentage:()=>{const o=document.documentElement.scrollHeight-window.innerHeight;return o>0?Math.min(e.value/o*100,100):0},isNearTop:()=>e.value<100,isNearBottom:()=>{const o=document.documentElement.scrollHeight,a=window.innerHeight;return e.value+a>=o-100}}}),y={class:"fixed bottom-6 z-50 left-1/2 -translate-x-[calc(100%+1rem)] sm:left-1/2 sm:-translate-x-[calc(100%+4px)] lg:left-6 lg:translate-x-0"},B={class:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-gray-900 dark:bg-dark-bg rounded shadow-lg whitespace-nowrap z-10 pointer-events-none"},_=["aria-label"],L={key:0,class:"absolute inset-0 w-full h-full -rotate-90",viewBox:"0 0 100 100"},M=["stroke-dasharray","stroke-dashoffset"],j=T(a({__name:"BackToTop",props:{showProgress:{type:Boolean,default:!1}},setup(e){const{t:a}=g(),T=x(),j=k(),C=o(!1),H=t(()=>T.showBackToTop&&!j.shouldHideBackToTop),P=t(()=>T.scrollPercentage()),S=t(()=>2*Math.PI*45),E=()=>{C.value=!1,T.scrollToTop()},I=t(()=>Math.round(P.value)),Y=t(()=>{const e="common.backToTopTooltip",o=a(e,{percent:I.value});return o===e||o.includes("{percent}")?`Back to Top (${I.value}%)`:o});return r(()=>{T.initScrollListener()}),l(()=>{T.removeScrollListener()}),(e,o)=>(n(),s(v,{name:"fade-scale","enter-active-class":"fade-scale-enter-active","enter-from-class":"fade-scale-enter-from","leave-active-class":"fade-scale-leave-active","leave-to-class":"fade-scale-leave-to"},{default:c(()=>[i(u("div",y,[d(v,{name:"fade","enter-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","leave-active-class":"transition-opacity duration-200","leave-to-class":"opacity-0"},{default:c(()=>[i(u("div",B,[m(p(Y.value)+" ",1),o[2]||(o[2]=u("div",{class:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900 dark:border-t-dark-bg"},null,-1))],512),[[f,C.value]])]),_:1}),u("button",{onClick:E,onMouseenter:o[0]||(o[0]=e=>C.value=!0),onMouseleave:o[1]||(o[1]=e=>C.value=!1),class:"group w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 flex items-center justify-center","aria-label":h(a)("common.backToTop")},[o[4]||(o[4]=u("svg",{class:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 transform group-hover:-translate-y-0.5 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})],-1)),e.showProgress?(n(),w("svg",L,[o[3]||(o[3]=u("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor","stroke-width":"2",opacity:"0.3"},null,-1)),u("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-dasharray":S.value,"stroke-dashoffset":S.value-P.value/100*S.value,class:"transition-all duration-300"},null,8,M)])):b("",!0)],40,_)],512),[[f,H.value]])]),_:1}))}}),[["__scopeId","data-v-c3ec54c8"]]);export{j as default};
