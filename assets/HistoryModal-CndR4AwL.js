import{d as e,c as t,v as a,y as s,w as r,e as l,Y as o,f as i,i as d,t as n,u as c,F as u,j as h,n as x}from"./vue-vendor-Bt65BSdi.js";import{u as m}from"./ui-vendor-D-J_fEQ5.js";const g={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm"},y={class:"w-full max-w-4xl max-h-[80vh]"},f={class:"px-6 py-4 border-b border-gray-200 dark:border-dark-bg-mute flex-shrink-0 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-[#0a0a0a] dark:to-[#0a0a0a] rounded-t-xl"},p={class:"flex items-center justify-between"},b={class:"text-xl font-semibold text-gray-900 dark:text-white flex items-center space-x-2"},v=["aria-label"],k={class:"px-6 py-4 flex-1 overflow-y-auto min-h-0"},w={key:0,class:"text-center py-8"},C={class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},D={class:"mt-1 text-sm text-gray-500 dark:text-white/70"},M={key:1,class:"space-y-4"},j={class:"flex justify-between items-start"},F={class:"flex-1"},A={class:"flex items-center space-x-2 mb-2"},B={class:"text-sm text-gray-500 dark:text-white/70"},z=["aria-disabled","title","aria-label","onClick"],H=["title","aria-label","onClick"],S={class:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm"},T={class:"text-gray-500 dark:text-white/70"},V={class:"ml-1 font-medium text-gray-900 dark:text-white"},_={class:"text-gray-500 dark:text-white/70"},I={class:"ml-1 font-medium text-green-600 dark:text-green-400"},P={class:"text-gray-500 dark:text-white/70"},Z={class:"ml-1 font-medium text-red-600 dark:text-red-400"},L={class:"text-gray-500 dark:text-white/70"},N={class:"ml-1 font-medium text-gray-900 dark:text-white"},Y={class:"mt-2"},q={class:"text-gray-500 dark:text-white/70 text-sm"},Q={class:"flex flex-wrap gap-1 mt-1"},U={class:"text-right"},$={class:"text-lg font-bold text-gray-900 dark:text-white"},E={class:"text-xs text-gray-500 dark:text-white/70"},G={class:"mt-1"},J=e({__name:"HistoryModal",props:{show:{type:Boolean},history:{},getModeColor:{type:Function},getModeText:{type:Function},formatDate:{type:Function},formatDuration:{type:Function},deleteSession:{type:Function}},emits:["close","open-details","delete-session"],setup(e,{emit:J}){const K=J,{t:O}=m(),R=(e,t)=>{if(t)return!0;try{return!!localStorage.getItem(`flashcard-session-details:${e}`)}catch{return!1}};return(e,m)=>(a(),t("div",null,[s(o,{"enter-active-class":"transition-all duration-500 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-300 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:r(()=>[e.show?(a(),t("div",g,[s(o,{"enter-active-class":"transition-all duration-500 ease-out","enter-from-class":"opacity-0 scale-90 translate-y-8 rotate-1","enter-to-class":"opacity-100 scale-100 translate-y-0 rotate-0","leave-active-class":"transition-all duration-300 ease-in","leave-from-class":"opacity-100 scale-100 translate-y-0 rotate-0","leave-to-class":"opacity-0 scale-90 translate-y-8 rotate-1"},{default:r(()=>[i("div",y,[i("div",{class:"bg-white dark:bg-[#0a0a0a] shadow-2xl rounded-xl border border-gray-200 dark:border-dark-bg-mute flex flex-col max-h-[80vh] transform",onClick:m[1]||(m[1]=d(()=>{},["stop"]))},[i("div",f,[i("div",p,[i("h3",b,[m[2]||(m[2]=i("span",{class:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"},null,-1)),i("span",null,n(c(O)("flashcard.history.title","Practice History")),1)]),i("button",{onClick:m[0]||(m[0]=e=>K("close")),"aria-label":c(O)("common.close","Close"),class:"text-gray-400 hover:text-gray-600 dark:hover:text-white/80 transition-all duration-300 hover:scale-110 hover:rotate-90 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-dark-bg-soft"},m[3]||(m[3]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,v)])]),i("div",k,[0===e.history.length?(a(),t("div",w,[m[4]||(m[4]=i("svg",{class:"mx-auto h-12 w-12 text-gray-400 dark:text-white/40",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("h3",C,n(c(O)("flashcard.history.empty.title","No History Yet")),1),i("p",D,n(c(O)("flashcard.history.empty.description","Complete a practice session to see your history here.")),1)])):(a(),t("div",M,[(a(!0),t(u,null,h(e.history,s=>(a(),t("div",{key:s.id,class:"bg-gray-50 dark:bg-dark-bg-mute rounded-lg p-4"},[i("div",j,[i("div",F,[i("div",A,[i("span",{class:x(["px-2 py-1 text-xs font-medium rounded-full",e.getModeColor(s.mode)])},n(e.getModeText(s.mode)),3),i("span",B,n(e.formatDate(s.date)),1),i("button",{class:x(["inline-flex items-center ml-1 px-2 py-1 rounded-md border border-blue-200 bg-blue-50 text-blue-600 hover:bg-blue-100 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400/50 transition dark:text-blue-300 dark:bg-blue-900/30 dark:border-blue-800 dark:hover:bg-blue-900/40 dark:hover:text-blue-200",R(s.id,s.hasDetails)?"":"opacity-50"]),"aria-disabled":!R(s.id,s.hasDetails),title:R(s.id,s.hasDetails)?c(O)("flashcard.history.viewDetails","View details"):c(O)("flashcard.history.noDetails","No details available"),"aria-label":c(O)("flashcard.history.viewDetails","View details"),onClick:e=>K("open-details",s.id)},m[5]||(m[5]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},[i("path",{d:"M12 5c-7.633 0-10 7-10 7s2.367 7 10 7 10-7 10-7-2.367-7-10-7Zm0 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10Zm0-2a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"})],-1)]),10,z),i("button",{class:"inline-flex items-center ml-1 px-2 py-1 rounded-md border border-red-200 bg-red-50 text-red-600 hover:bg-red-100 hover:text-red-700 focus:outline-none focus:ring-2 focus:ring-red-400/50 transition dark:text-red-300 dark:bg-red-900/30 dark:border-red-800 dark:hover:bg-red-900/40 dark:hover:text-red-200",title:c(O)("flashcard.history.deleteSession","Delete session"),"aria-label":c(O)("flashcard.history.deleteSession","Delete session"),onClick:e=>K("delete-session",s.id)},m[6]||(m[6]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},[i("path",{d:"M3 6h18m-2 0v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6m3 0V4c0-1 1-2 2-2h4c0-1 1-2 2-2v2m-6 5v6m4-6v6"})],-1)]),8,H)]),i("div",S,[i("div",null,[i("span",T,n(c(O)("flashcard.history.totalCards","Total Cards"))+":",1),i("span",V,n(s.totalCards),1)]),i("div",null,[i("span",_,n(c(O)("flashcard.history.correct","Correct"))+":",1),i("span",I,n(s.correctAnswers),1)]),i("div",null,[i("span",P,n(c(O)("flashcard.history.incorrect","Incorrect"))+":",1),i("span",Z,n(s.incorrectAnswers),1)]),i("div",null,[i("span",L,n(c(O)("flashcard.history.duration","Duration"))+":",1),i("span",N,n(e.formatDuration(s.duration)),1)])]),i("div",Y,[i("span",q,n(c(O)("flashcard.history.categories","Categories"))+":",1),i("div",Q,[(a(!0),t(u,null,h(s.categories,e=>(a(),t("span",{key:e,class:"px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded"},n((e=>{if(e.includes(".")){const t=e.split("."),a=t[t.length-1];return O(e,"flashcard.modes.flashcard"===e?"Flashcard":"flashcard.modes.quiz"===e?"Quiz":"flashcard.modes.typing"===e?"Typing":"flashcard.modes.listening"===e?"Listening":"flashcard.modes.image"===e?"Image":"flashcard.modes.pronunciation"===e?"Pronunciation":a.charAt(0).toUpperCase()+a.slice(1))}return e})(e)),1))),128))])])]),i("div",U,[i("div",$,n(Math.round(s.correctAnswers/s.totalCards*100))+"% ",1),i("div",E,n(c(O)("flashcard.history.accuracy","Accuracy")),1),i("div",G,[i("span",{class:x(["text-xs font-medium px-2 py-0.5 rounded-full",Math.round(s.correctAnswers/s.totalCards*100)>=70?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"])},n(Math.round(s.correctAnswers/s.totalCards*100)>=70?c(O)("flashcard.history.pass","Pass"):c(O)("flashcard.history.fail","Fail")),3)])])])]))),128))]))])])])]),_:1})])):l("",!0)]),_:1})]))}});export{J as default};
