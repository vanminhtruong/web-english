const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["/web-english/assets/ImageUpload-D2sMBPif.js","/web-english/assets/vue-vendor-Bt65BSdi.js","/web-english/assets/ui-vendor-D-J_fEQ5.js","/web-english/assets/TopicManager-elcQ92o-.js","/web-english/assets/_plugin-vue_export-helper-BCo6x5W8.js","/web-english/assets/TopicManager-C3xNGSdI.css","/web-english/assets/IpaPickerModal-CjmWSWPk.js","/web-english/assets/voiceStore-o6lhlGgY.js","/web-english/assets/KoreanInputHelper-CyCBFj0c.js","/web-english/assets/KoreanPronunciationHelper-PxPAu9Gp.js","/web-english/assets/KoreanPronunciationHelper-D4zpkxxH.css"])))=>i.map(i=>d[i]);
import{_ as e}from"./index-DmJNupMF.js";import{d as a,A as r,C as o,a4 as t,I as l,q as n,J as s,D as i,c as d,v as u,y as c,b as p,e as y,w as v,Y as m,f as g,i as b,t as f,u as h,g as x,M as k,n as w,_ as V,$ as C,a3 as E,a as T,W as _,F as S,j as L,N as j,a0 as I}from"./vue-vendor-Bt65BSdi.js";import{u as U,a as O}from"./ui-vendor-D-J_fEQ5.js";import{u as P}from"./useVocabularyStore-CJz0zgKu.js";import{a as A}from"./topicUtils-CuplmVBM.js";import{_ as q}from"./_plugin-vue_export-helper-BCo6x5W8.js";const H={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-sm"},M={class:"w-full max-h-[90vh] flex flex-col max-w-full sm:max-w-lg md:max-w-2xl lg:max-w-4xl"},B={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-[#0a0a0a] dark:to-[#0a0a0a]"},R={class:"flex items-center justify-between"},D={class:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-900 dark:text-white flex items-center space-x-2"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},K={class:"md:col-span-2 animate-fade-in-up",style:{"animation-delay":"0.1s"}},W={for:"word",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center"},F={class:"relative"},N=["placeholder"],J=["title","aria-label"],Y={class:"animate-fade-in-up",style:{"animation-delay":"0.2s"}},$={for:"pronunciation",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center"},G={class:"relative"},Q=["placeholder"],X=["title","aria-label"],Z={class:"animate-fade-in-up",style:{"animation-delay":"0.3s"}},ee={for:"partOfSpeech",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center"},ae={value:""},re={value:"noun"},oe={value:"verb"},te={value:"adjective"},le={value:"adverb"},ne={value:"preposition"},se={value:"conjunction"},ie={value:"interjection"},de={class:"animate-fade-in-up",style:{"animation-delay":"0.4s"}},ue={for:"category",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center"},ce={class:"relative"},pe=["title"],ye={class:"relative"},ve=["placeholder","value"],me={class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},ge=["placeholder"],be={class:"max-h-40 overflow-y-auto"},fe={key:0,class:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400"},he=["onClick"],xe={class:"animate-fade-in-up",style:{"animation-delay":"0.5s"}},ke={for:"level",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center"},we={value:""},Ve={value:"beginner"},Ce={value:"intermediate"},Ee={value:"advanced"},Te={class:"md:col-span-2 animate-fade-in-up",style:{"animation-delay":"0.6s"}},_e={for:"meaning",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center"},Se=["placeholder"],Le={class:"md:col-span-2 animate-fade-in-up",style:{"animation-delay":"0.7s"}},je={for:"example",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center"},Ie=["placeholder"],Ue={class:"animate-fade-in-up",style:{"animation-delay":"0.8s"}},Oe={for:"synonyms",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center"},Pe=["placeholder"],Ae={class:"animate-fade-in-up",style:{"animation-delay":"0.9s"}},qe={for:"antonyms",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center"},He=["placeholder"],Me={class:"md:col-span-2 animate-fade-in-up",style:{"animation-delay":"1.0s"}},Be={for:"imageUrl",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center"},Re=["placeholder"],De={class:"md:col-span-2 animate-fade-in-up",style:{"animation-delay":"1.1s"}},ze={class:"md:col-span-2 animate-fade-in-up",style:{"animation-delay":"1.2s"}},Ke={class:"flex items-center p-3 bg-gray-50 dark:bg-[#0a0a0a] rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-300"},We={for:"favorite",class:"ml-3 block text-sm text-gray-700 dark:text-white cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-300"},Fe={class:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 bg-gradient-to-r from-gray-50 to-blue-50 dark:from-[#0a0a0a] dark:to-[#0a0a0a]"},Ne={class:"flex justify-end space-x-3"},Je=["disabled"],Ye={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},$e="vocabulary-category-search-frequency",Ge=q(a({__name:"VocabularyFormDialog",props:{modelValue:{type:Boolean},vocabulary:{default:null},targetDate:{default:null}},emits:["update:modelValue","vocabulary-saved"],setup(a,{emit:q}){const Ge=j(()=>e(()=>import("./ImageUpload-D2sMBPif.js"),__vite__mapDeps([0,1,2]),import.meta.url)),Qe=j(()=>e(()=>import("./TopicManager-elcQ92o-.js"),__vite__mapDeps([3,1,2,4,5]),import.meta.url)),Xe=j(()=>e(()=>import("./IpaPickerModal-CjmWSWPk.js"),__vite__mapDeps([6,1,2,7]),import.meta.url)),Ze=j(()=>e(()=>import("./KoreanInputHelper-CyCBFj0c.js"),__vite__mapDeps([8,1,2]),import.meta.url)),ea=j(()=>e(()=>import("./KoreanPronunciationHelper-PxPAu9Gp.js"),__vite__mapDeps([9,1,2,4,10]),import.meta.url)),aa=a,ra=q,{t:oa,locale:ta}=U(),la=O(),na=P(),sa=r(!1),ia=r(0),da=r(!1),ua=r(!1),ca=r(!1),pa=r(""),ya=r(!1),va=r(null),ma=r(null),ga=r(null),ba=r({}),fa=r(null),ha=e=>{e&&(ba.value[e]=(ba.value[e]||0)+1,(()=>{try{localStorage.setItem($e,JSON.stringify(ba.value))}catch(e){console.warn("Failed to save search frequency:",e)}})(),console.log("Updated search frequency for:",e,"new count:",ba.value[e]))},xa=o(()=>{ia.value;const e=na.getCategories.value;return console.log("Category keys computed with refreshTrigger:",ia.value,"Categories:",e),e}),ka=t({word:"",pronunciation:"",partOfSpeech:"",meaning:"",example:"",category:"",level:"",synonyms:"",antonyms:"",notes:"",favorite:!1,image:null}),wa=r(!1),Va=e=>{ka.pronunciation=e},Ca=()=>{ua.value=!0},Ea=e=>{ka.word=e},Ta=e=>{ka.pronunciation=e},_a=o(()=>!!aa.vocabulary),Sa=o(()=>na.getCategoryUsage.value),La=o(()=>"ko"===ta.value),ja=o(()=>{let e;if(pa.value.trim()){const a=pa.value.toLowerCase();e=xa.value.filter(e=>Ka(e).toLowerCase().includes(a)),a.length>=2&&e.forEach(e=>{Ka(e).toLowerCase().includes(a)&&(fa.value&&clearTimeout(fa.value),fa.value=setTimeout(()=>{ha(e)},1e3))})}else e=[...xa.value];return e.sort((e,a)=>{const r=ba.value[e]||0,o=ba.value[a]||0;return r!==o?o-r:Ka(e).localeCompare(Ka(a))})}),Ia=o(()=>{if(!ya.value)return{display:"none"};const e=document.getElementById("category");if(!e)return{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"400px",maxWidth:"90vw"};const a=e.getBoundingClientRect();return{top:a.bottom+4+"px",left:a.left+"px",width:Math.max(a.width,300)+"px",maxWidth:"500px"}}),Ua=()=>ka.word.trim()?!(ka.word.trim().length>100)||(la.error(oa("vocabulary.validation.wordTooLong","Word is too long")),!1):(la.error(oa("vocabulary.validation.wordRequired","Word is required")),!1),Oa=()=>ka.meaning.trim()?!(ka.meaning.trim().length>500)||(la.error(oa("vocabulary.validation.meaningTooLong","Meaning is too long")),!1):(la.error(oa("vocabulary.validation.meaningRequired","Meaning is required")),!1),Pa=()=>!!ka.partOfSpeech||(la.error(oa("vocabulary.validation.partOfSpeechRequired","Part of speech is required")),!1),Aa=()=>!!ka.level||(la.error(oa("vocabulary.validation.levelRequired","Level is required")),!1),qa=()=>!(ka.example.length>500)||(la.error(oa("vocabulary.validation.exampleTooLong","Example is too long")),!1),Ha=()=>!(ka.pronunciation.length>100)||(la.error(oa("vocabulary.validation.pronunciationTooLong","Pronunciation is too long")),!1),Ma=()=>{if(ka.synonyms&&ka.synonyms.trim()){if(0===ka.synonyms.split(",").map(e=>e.trim()).filter(e=>e).length)return la.error(oa("vocabulary.validation.synonymsInvalid","Synonyms are invalid")),!1}return!0},Ba=()=>{if(ka.antonyms&&ka.antonyms.trim()){if(0===ka.antonyms.split(",").map(e=>e.trim()).filter(e=>e).length)return la.error(oa("vocabulary.validation.antonymsInvalid","Antonyms are invalid")),!1}return!0},Ra=()=>{ka.word="",ka.pronunciation="",ka.partOfSpeech="",ka.meaning="",ka.example="",ka.category="",ka.level="",ka.synonyms="",ka.antonyms="",ka.notes="",ka.favorite=!1},Da=()=>{ya.value&&(ya.value=!1,pa.value="",console.log("Scroll detected, dropdown closed"))};l(()=>{(()=>{try{const e=localStorage.getItem($e);e&&(ba.value=JSON.parse(e))}catch(e){console.warn("Failed to load search frequency:",e),ba.value={}}})(),console.log("Loaded category search frequency:",ba.value),n(()=>{ga.value&&(ga.value.addEventListener("scroll",Da,{passive:!0}),console.log("Added scroll listener to modal content"))})}),s(()=>{ga.value&&(ga.value.removeEventListener("scroll",Da),ga.value.removeEventListener("scroll",Da),console.log("Removed scroll listeners from modal content"))}),i(()=>aa.modelValue,e=>{e?(document.body.style.overflow="hidden",n(()=>{setTimeout(()=>{ga.value&&(ga.value.addEventListener("scroll",Da,{passive:!0}),console.log("Added scroll listener to modal content on modal open"))},100)}),console.log("Modal opened, body scroll disabled")):(ya.value=!1,pa.value="",document.body.style.overflow="",console.log("Modal closed, dropdown closed, body scroll enabled"))}),i(()=>aa.vocabulary,e=>{e?(ka.word=e.word,ka.pronunciation=e.pronunciation||"",ka.partOfSpeech=e.partOfSpeech,ka.meaning=e.meaning,ka.example=e.example||"",ka.category=e.category,ka.level=e.level,ka.synonyms=e.synonyms?.join(", ")||"",ka.antonyms=e.antonyms?.join(", ")||"",ka.notes=e.notes||"",ka.favorite=!!e.favorite,ka.image=e.image||null):Ra()},{immediate:!0});const za=e=>{"Escape"===e.key&&Qa()};i(()=>aa.modelValue,e=>{e?(window.dispatchEvent(new CustomEvent("vocabulary-edit-word")),aa.vocabulary||Ra(),document.body.style.overflow="hidden",document.addEventListener("keydown",za)):(document.body.style.overflow="",document.removeEventListener("keydown",za))});const Ka=e=>A(e,oa,ta),Wa=()=>{console.log("Toggle category dropdown clicked"),ya.value=!ya.value,ya.value&&(pa.value="",n(()=>{va.value?.focus()}))},Fa=()=>{ya.value=!1,pa.value=""},Na=e=>{console.log("Topic added, refreshing categories:",e.key),setTimeout(()=>{na.refreshCustomTopics(),ia.value++,ka.category=e.key,console.log("Categories refreshed, new topic selected:",e.key)},150)},Ja=()=>{ia.value++,na.refreshCustomTopics(),console.log("Topic updated, refreshing categories")},Ya=e=>{ia.value++,na.refreshCustomTopics(),ka.category===e&&(ka.category=""),console.log("Topic deleted, refreshing categories:",e)},$a=()=>{setTimeout(()=>{ia.value++,na.refreshCustomTopics(),console.log("Topics updated, refreshing categories in form dialog")},100)},Ga=e=>{if(!ya.value)return;const a=e.target,r=a.closest(".relative"),o=a.closest('[class*="z-[99999]"]');r||o||Fa()};l(()=>{window.addEventListener("topics-updated",$a),document.addEventListener("click",Ga)}),s(()=>{document.body.style.overflow="",document.body.classList.remove("modal-open"),document.removeEventListener("keydown",za),window.removeEventListener("topics-updated",$a),document.removeEventListener("click",Ga)});const Qa=()=>{window.dispatchEvent(new CustomEvent("vocabulary-modal-closed")),ra("update:modelValue",!1)},Xa=async()=>{if(!sa.value&&Ua()&&Ha()&&Pa()&&(ka.category||(la.error(oa("vocabulary.validation.categoryRequired","Category is required")),0))&&Aa()&&Oa()&&qa()&&Ma()&&Ba()&&!(ka.notes.length>500&&(la.error(oa("vocabulary.validation.notesTooLong","Notes are too long")),1))){sa.value=!0;try{await new Promise(e=>setTimeout(e,500));const e={word:ka.word.trim(),pronunciation:ka.pronunciation.trim(),partOfSpeech:ka.partOfSpeech,meaning:ka.meaning.trim(),example:ka.example.trim(),category:ka.category,level:ka.level,synonyms:ka.synonyms?ka.synonyms.split(",").map(e=>e.trim()).filter(e=>e):[],antonyms:ka.antonyms?ka.antonyms.split(",").map(e=>e.trim()).filter(e=>e):[],notes:ka.notes.trim(),favorite:ka.favorite,image:ka.image};if(_a.value&&aa.vocabulary)na.updateVocabulary(aa.vocabulary.id,e),console.log("Vocabulary updated:",aa.vocabulary.id,e),la.success(oa("vocabulary.validation.updateSuccess","Vocabulary updated successfully!"));else{if(aa.targetDate){const a=new Date,[r,o,t]=aa.targetDate.split("-"),l=new Date(parseInt(r),parseInt(o)-1,parseInt(t),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds());e.createdAt=l.toISOString(),e.updatedAt=l.toISOString()}const a=na.addVocabulary(e);console.log("Vocabulary added:",a),la.success(oa("vocabulary.validation.saveSuccess","Vocabulary added successfully!"))}ra("vocabulary-saved",{category:e.category}),setTimeout(()=>{Qa()},500)}catch(e){console.error("Error saving vocabulary:",e),la.error(oa("vocabulary.validation.saveError","Error saving vocabulary"))}finally{sa.value=!1}}};return(e,a)=>(u(),d("div",null,[c(m,{"enter-active-class":"transition-all duration-500 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-300 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[e.modelValue?(u(),d("div",H,[c(m,{"enter-active-class":"transition-all duration-500 ease-out","enter-from-class":"opacity-0 scale-90 translate-y-8 rotate-1","enter-to-class":"opacity-100 scale-100 translate-y-0 rotate-0","leave-active-class":"transition-all duration-300 ease-in","leave-from-class":"opacity-100 scale-100 translate-y-0 rotate-0","leave-to-class":"opacity-0 scale-90 translate-y-8 rotate-1"},{default:v(()=>[g("div",M,[g("div",{class:"bg-white dark:bg-[#0a0a0a] shadow-2xl rounded-xl border border-gray-200 dark:border-gray-700 flex flex-col h-full overflow-hidden transform",onClick:a[18]||(a[18]=b(()=>{},["stop"]))},[g("div",B,[g("div",R,[g("h2",D,[a[23]||(a[23]=g("span",{class:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"},null,-1)),g("span",null,f(_a.value?h(oa)("vocabulary.editVocabulary","Edit Vocabulary"):h(oa)("vocabulary.addVocabulary","Add Vocabulary")),1)]),g("button",{onClick:Qa,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-all duration-300 hover:scale-110 hover:rotate-90 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800"},a[24]||(a[24]=[g("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),g("div",{ref_key:"modalContentRef",ref:ga,class:"px-6 py-4 flex-1 overflow-y-auto min-h-0"},[g("form",{onSubmit:b(Xa,["prevent"]),class:"space-y-6"},[g("div",z,[g("div",K,[g("label",W,[a[25]||(a[25]=g("span",{class:"w-1 h-4 bg-blue-500 rounded mr-2"},null,-1)),x(" "+f(h(oa)("vocabulary.word","Word"))+" ",1),a[26]||(a[26]=g("span",{class:"text-red-500 ml-1"},"*",-1))]),g("div",F,[k(g("input",{id:"word","onUpdate:modelValue":a[0]||(a[0]=e=>ka.word=e),type:"text",required:"",class:w(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 hover:border-blue-400 dark:hover:border-blue-500 transform hover:scale-[1.02]",La.value?"pr-12":""]),placeholder:La.value?h(oa)("korean.wordPlaceholder","Enter Korean word or click + for help"):h(oa)("vocabulary.wordPlaceholder","Enter English word"),onBlur:Ua},null,42,N),[[V,ka.word]]),La.value?(u(),d("button",{key:0,type:"button",onClick:Ca,class:"absolute right-2 top-1/2 -translate-y-1/2 w-7 h-7 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300 hover:scale-110 z-[5] shadow-lg keep-center-hover",title:h(oa)("korean.inputHelper.openHelper","Open Korean Input Helper"),"aria-label":h(oa)("korean.inputHelper.openHelper","Open Korean Input Helper")}," + ",8,J)):y("",!0)])]),g("div",Y,[g("label",$,[a[27]||(a[27]=g("span",{class:"w-1 h-4 bg-green-500 rounded mr-2"},null,-1)),x(" "+f(h(oa)("vocabulary.pronunciation.label","Pronunciation")),1)]),g("div",G,[k(g("input",{id:"pronunciation","onUpdate:modelValue":a[1]||(a[1]=e=>ka.pronunciation=e),type:"text",class:"w-full pr-12 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-green-400 dark:hover:border-green-500 transform hover:scale-[1.02]",placeholder:La.value?h(oa)("korean.pronunciationPlaceholder","an-nyeong-ha-se-yo"):"/ˈeksəmpl/",onBlur:Ha},null,40,Q),[[V,ka.pronunciation]]),g("button",{type:"button",onClick:a[2]||(a[2]=e=>La.value?void(ca.value=!0):void(wa.value=!0)),class:"absolute right-2 top-1/2 -translate-y-1/2 w-7 h-7 bg-green-500 hover:bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300 hover:scale-110 z-[5] shadow-lg keep-center-hover",title:La.value?h(oa)("korean.pronunciationHelper.openHelper","Open Korean Pronunciation Helper"):h(oa)("vocabulary.pronunciation.openIpaPicker","Open IPA Picker"),"aria-label":La.value?h(oa)("korean.pronunciationHelper.openHelper","Open Korean Pronunciation Helper"):h(oa)("vocabulary.pronunciation.openIpaPicker","Open IPA Picker")}," + ",8,X)])]),g("div",Z,[g("label",ee,[a[28]||(a[28]=g("span",{class:"w-1 h-4 bg-purple-500 rounded mr-2"},null,-1)),x(" "+f(h(oa)("vocabulary.wordType","Word Type"))+" ",1),a[29]||(a[29]=g("span",{class:"text-red-500 ml-1"},"*",-1))]),k(g("select",{id:"partOfSpeech","onUpdate:modelValue":a[3]||(a[3]=e=>ka.partOfSpeech=e),required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 hover:border-purple-400 dark:hover:border-purple-500 transform hover:scale-[1.02] cursor-pointer",onChange:Pa},[g("option",ae,f(h(oa)("vocabulary.selectWordType","Select word type")),1),g("option",re,f(h(oa)("vocabulary.wordTypes.noun","Noun")),1),g("option",oe,f(h(oa)("vocabulary.wordTypes.verb","Verb")),1),g("option",te,f(h(oa)("vocabulary.wordTypes.adjective","Adjective")),1),g("option",le,f(h(oa)("vocabulary.wordTypes.adverb","Adverb")),1),g("option",ne,f(h(oa)("vocabulary.wordTypes.preposition","Preposition")),1),g("option",se,f(h(oa)("vocabulary.wordTypes.conjunction","Conjunction")),1),g("option",ie,f(h(oa)("vocabulary.wordTypes.interjection","Interjection")),1)],544),[[C,ka.partOfSpeech]])]),g("div",de,[g("label",ue,[a[30]||(a[30]=g("span",{class:"w-1 h-4 bg-orange-500 rounded mr-2"},null,-1)),x(" "+f(h(oa)("vocabulary.category","Category"))+" ",1),a[31]||(a[31]=g("span",{class:"text-red-500 ml-1"},"*",-1))]),g("div",ce,[g("button",{type:"button",onClick:a[4]||(a[4]=e=>(ya.value&&Fa(),void(da.value=!0))),class:"absolute left-2 top-1/2 transform -translate-y-1/2 w-6 h-6 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300 hover:scale-110 hover:rotate-90 z-[10000] shadow-lg keep-center-hover-rotate",title:h(oa)("vocabulary.addCategory","Add Category")}," + ",8,pe),g("div",ye,[g("input",{id:"category",type:"text",required:"",readonly:"",onClick:Wa,class:"w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300 hover:border-orange-400 dark:hover:border-orange-500 transform hover:scale-[1.02] cursor-pointer",placeholder:h(oa)("vocabulary.selectCategory","Select category"),value:ka.category?Ka(ka.category):""},null,8,ve),g("div",me,[(u(),d("svg",{class:w(["w-4 h-4 text-gray-400 transition-transform duration-200",{"rotate-180":ya.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},a[32]||(a[32]=[g("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),(u(),p(E,{to:"body"},[c(m,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:v(()=>[ya.value?(u(),d("div",{key:0,ref_key:"dropdownElement",ref:ma,style:T(Ia.value),class:"fixed z-[9999] bg-white dark:bg-[#0a0a0a] border border-gray-300 dark:border-gray-600 rounded-lg shadow-xl max-h-60 overflow-hidden"},[g("div",{class:"p-2 border-b border-gray-200 dark:border-gray-600",onClick:a[9]||(a[9]=b(()=>{},["stop"]))},[k(g("input",{ref_key:"categorySearchInput",ref:va,"onUpdate:modelValue":a[5]||(a[5]=e=>pa.value=e),type:"text",class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:h(oa)("vocabulary.searchCategory","Search categories..."),onKeydown:[a[6]||(a[6]=_(b(()=>{},["prevent"]),["enter"])),_(Fa,["escape"])],onClick:a[7]||(a[7]=b(()=>{},["stop"])),onFocus:a[8]||(a[8]=b(()=>{},["stop"]))},null,40,ge),[[V,pa.value]])]),g("div",be,[0===ja.value.length?(u(),d("div",fe,f(h(oa)("vocabulary.noCategories","No categories found")),1)):y("",!0),(u(!0),d(S,null,L(ja.value,e=>(u(),d("div",{key:e,class:w(["px-3 py-2 text-sm cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-custom transition-colors duration-150",{"bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300":ka.category===e}]),onClick:a=>(e=>{ka.category=e,ya.value=!1,pa.value="",ha(e),console.log("Category selected:",Ka(e))})(e)},f(Ka(e)),11,he))),128))])],4)):y("",!0)]),_:1})]))])])]),g("div",xe,[g("label",ke,[a[33]||(a[33]=g("span",{class:"w-1 h-4 bg-red-500 rounded mr-2"},null,-1)),x(" "+f(h(oa)("vocabulary.level","Level"))+" ",1),a[34]||(a[34]=g("span",{class:"text-red-500 ml-1"},"*",-1))]),k(g("select",{id:"level","onUpdate:modelValue":a[10]||(a[10]=e=>ka.level=e),required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-300 hover:border-red-400 dark:hover:border-red-500 transform hover:scale-[1.02] cursor-pointer",onChange:Aa},[g("option",we,f(h(oa)("vocabulary.selectLevel","Select level")),1),g("option",Ve,f(h(oa)("vocabulary.levels.beginner","Beginner")),1),g("option",Ce,f(h(oa)("vocabulary.levels.intermediate","Intermediate")),1),g("option",Ee,f(h(oa)("vocabulary.levels.advanced","Advanced")),1)],544),[[C,ka.level]])]),g("div",Te,[g("label",_e,[a[35]||(a[35]=g("span",{class:"w-1 h-4 bg-indigo-500 rounded mr-2"},null,-1)),x(" "+f(h(oa)("vocabulary.meaning","Meaning"))+" ",1),a[36]||(a[36]=g("span",{class:"text-red-500 ml-1"},"*",-1))]),k(g("textarea",{id:"meaning","onUpdate:modelValue":a[11]||(a[11]=e=>ka.meaning=e),required:"",rows:"3",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none transition-all duration-300 hover:border-indigo-400 dark:hover:border-indigo-500 transform hover:scale-[1.02]",placeholder:h(oa)("vocabulary.meaningPlaceholder","Enter meaning in Vietnamese"),onBlur:Oa},null,40,Se),[[V,ka.meaning]])]),g("div",Le,[g("label",je,[a[37]||(a[37]=g("span",{class:"w-1 h-4 bg-teal-500 rounded mr-2"},null,-1)),x(" "+f(h(oa)("vocabulary.example","Example")),1)]),k(g("textarea",{id:"example","onUpdate:modelValue":a[12]||(a[12]=e=>ka.example=e),rows:"2",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all duration-300 hover:border-teal-400 dark:hover:border-teal-500 transform hover:scale-[1.02]",placeholder:h(oa)("vocabulary.examplePlaceholder","Enter example sentence"),onBlur:qa},null,40,Ie),[[V,ka.example]])]),g("div",Ue,[g("label",Oe,[a[38]||(a[38]=g("span",{class:"w-1 h-4 bg-pink-500 rounded mr-2"},null,-1)),x(" "+f(h(oa)("vocabulary.synonyms","Synonyms")),1)]),k(g("input",{id:"synonyms","onUpdate:modelValue":a[13]||(a[13]=e=>ka.synonyms=e),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-300 hover:border-pink-400 dark:hover:border-pink-500 transform hover:scale-[1.02]",placeholder:h(oa)("vocabulary.separateByComma","Separate by comma"),onBlur:Ma},null,40,Pe),[[V,ka.synonyms]])]),g("div",Ae,[g("label",qe,[a[39]||(a[39]=g("span",{class:"w-1 h-4 bg-yellow-500 rounded mr-2"},null,-1)),x(" "+f(h(oa)("vocabulary.antonyms","Antonyms")),1)]),k(g("input",{id:"antonyms","onUpdate:modelValue":a[14]||(a[14]=e=>ka.antonyms=e),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-300 hover:border-yellow-400 dark:hover:border-yellow-500 transform hover:scale-[1.02]",placeholder:h(oa)("vocabulary.separateByComma","Separate by comma"),onBlur:Ba},null,40,He),[[V,ka.antonyms]])]),g("div",Me,[g("label",Be,[a[40]||(a[40]=g("span",{class:"w-1 h-4 bg-cyan-500 rounded mr-2"},null,-1)),x(" "+f(h(oa)("vocabulary.imageUrl","Image URL")),1)]),k(g("textarea",{id:"imageUrl","onUpdate:modelValue":a[15]||(a[15]=e=>ka.image=e),rows:"3",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent resize-none transition-all duration-300 hover:border-cyan-400 dark:hover:border-cyan-500 transform hover:scale-[1.02]",placeholder:h(oa)("vocabulary.imageUrlPlaceholder","Enter image URL (optional)")},null,8,Re),[[V,ka.image]])]),g("div",De,[c(h(Ge),{modelValue:ka.image,"onUpdate:modelValue":a[16]||(a[16]=e=>ka.image=e)},null,8,["modelValue"])]),g("div",ze,[g("div",Ke,[k(g("input",{id:"favorite","onUpdate:modelValue":a[17]||(a[17]=e=>ka.favorite=e),type:"checkbox",class:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded transition-all duration-300 hover:scale-110 cursor-pointer"},null,512),[[I,ka.favorite]]),g("label",We,f(h(oa)("vocabulary.isFavorite","Mark as favorite")),1)])])])],32)],512),g("div",Fe,[g("div",Ne,[g("button",{type:"button",onClick:Qa,class:"px-6 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-all duration-300 hover:scale-105 hover:shadow-lg font-medium"},f(h(oa)("common.cancel","Cancel")),1),g("button",{onClick:Xa,disabled:sa.value,class:"px-6 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 flex items-center space-x-2 transition-all duration-300 hover:scale-105 hover:shadow-lg font-medium disabled:cursor-not-allowed"},[sa.value?(u(),d("svg",Ye,a[41]||(a[41]=[g("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),g("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):y("",!0),g("span",null,f(sa.value?h(oa)("common.saving","Saving..."):_a.value?h(oa)("common.update","Update"):h(oa)("vocabulary.saveVocabulary","Save Vocabulary")),1)],8,Je)])])])])]),_:1})])):y("",!0)]),_:1}),c(h(Xe),{modelValue:wa.value,"onUpdate:modelValue":a[19]||(a[19]=e=>wa.value=e),"initial-value":ka.pronunciation,onApply:Va},null,8,["modelValue","initial-value"]),da.value?(u(),p(h(Qe),{key:0,modelValue:da.value,"onUpdate:modelValue":a[20]||(a[20]=e=>da.value=e),"vocabulary-usage":Sa.value,onTopicAdded:Na,onTopicUpdated:Ja,onTopicDeleted:Ya},null,8,["modelValue","vocabulary-usage"])):y("",!0),ua.value?(u(),p(h(Ze),{key:1,modelValue:ua.value,"onUpdate:modelValue":a[21]||(a[21]=e=>ua.value=e),"initial-value":ka.word,onInputConfirmed:Ea},null,8,["modelValue","initial-value"])):y("",!0),ca.value?(u(),p(h(ea),{key:2,modelValue:ca.value,"onUpdate:modelValue":a[22]||(a[22]=e=>ca.value=e),"initial-value":ka.pronunciation,onPronunciationConfirmed:Ta},null,8,["modelValue","initial-value"])):y("",!0)]))}}),[["__scopeId","data-v-c4851cdd"]]);export{Ge as default};
